<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <link rel="shortcut icon" href="./images/icons/favicon.png">
    <script src="./js/jquery-3.6.0.min.js"></script>
    <script src="./js/jquery-ui.min.js"></script>
    <script src="./js/context-menu.min.js"></script> 
    <script src="./js/datatables.min.js"></script>
    <script type="text/javascript" src="./js/services.js"></script>     
    <script type="text/javascript" src="./js/application.js"></script>     
    <script type="text/javascript" src="./js/startPage.js"></script>     
    <script type="text/javascript" src="./js/toolbox.js"></script>     
    <script type="text/javascript" src="./js/projectTree.js"></script>     
    <script type="text/javascript" src="./js/navigate.js"></script>     
    <script type="text/javascript" src="./js/analysis.js"></script>     
    <script type="text/javascript" src="./js/search.js"></script>     
    <script type="text/javascript" src="./js/settings.js"></script>     
    <script src="TerraExplorerApp.Emscripten.js"></script>
    <script src="TEApiWrapper_for_emscripten.js"></script>    

    <link href="./css/TE.css" rel="StyleSheet" >
    <link href="./custom/custom.css" rel="StyleSheet" >
    <link href="./css/jquery-ui.css" rel="StyleSheet" >
    <link href="./css/context-menu.min.css" rel="StyleSheet" >
    <link href="./css/datatables.min.css" rel="StyleSheet" >    

    <style>
        body            {width:100%; height: 100%; background-color: #DCDCDC; }
        .leftBar        {background-color: beige; height: 80vh; }
        .tef            {width: 100%; height: 80vh; }
    </style>

    <script>
        "use strict";

        window.onerror = function (msg, url, lineNo, columnNo, error) { 
//DIAGNOSTIC//            alert(
//DIAGNOSTIC//                "javascript error"            + "\n\n" + 
//DIAGNOSTIC//                "message : "  + msg           + "\n\n" + 
//DIAGNOSTIC//                "url : "      + url           + "\n\n" +
//DIAGNOSTIC//                "line : "     + lineNo        + "\n\n" + 
//DIAGNOSTIC//                "column : "   + columnNo      + "\n\n" + 
//DIAGNOSTIC//                "error : "    + error
//DIAGNOSTIC//            );
            console.error(
                "javascript error;"       + "\n\n" + 
                "Message : "  + msg       + "\n\n" + 
                "url     : "  + url       + "\n\n" + 
                "Line    : "  + lineNo    + "\n\n" + 
                "Column  : "  + columnNo  + "\n\n" + 
                "Error   : "  + error
            );
        }
        console.log("QWE main: started...");
        var SGWorld=null;

        $(document).ready(function(){
            console.log("QWE main@ready: started...");
            loadTEF(true);
        });
        
        function onTEFInit(event) {
            console.log("QWE main@onTEFInit: called...");
            ////  SGWorld = document.getElementById('tef').contentWindow.SGWorld;
        }
        
        function onTEFProjectLoaded(event) {
            console.log("QWE main@onTEFProjectLoaded: called...");
            ////  var position= SGWorld.Creator.CreatePosition (-97.0, 38.0, 100, 0 , -70,0,500);
            ////  SGWorld.Navigate.FlyTo (position);
        }

        function loadTEF(GUI){
            console.log("QWE main@loadTEF: called...");
            var guiURL = (GUI)?"":"&script=sampleCustomButtons.js&css=sampleCustomButtons";
            //$("#tef").attr('src',  "../te.html?project=https://cloud.skylineglobe.com/sg/Skyline/projects/TEW_Demo_Project.726595"+guiURL);
            $("#tef").attr('src',  "./te.html?project=https://eu-cluster-1.nmcaydence.com/sg/sse/projects/503687");
            $("#tef2").attr('src',  "./te.html?project=https://cloud.skylineglobe.com/SG/demos/projects/Mexico_Beach_Emergency_Response");
        }        

    </script>

</head>

<body scroll="no" style="overflow: hidden"  oncontextmenu="return false;" >
    <!-- Loading -->
    <div id="loadingDiv" class="loadingAnim" >
        <video class="loadingVideo"  autoplay="autoplay" loop muted>
            <source src="images/img/loading.mp4" type="video/mp4">
        </video>
        <span id="loadingText" class="s18"> </span>
    </div>

    <!-- Start Page -->
    <div id="startPageDiv" class="startPageDiv" style="display:none"></div>

    <!-- application - 3D Window -->
    <div  id="applicationDiv" class="ThreeDView"  style="display:none" class="w100 h100"></div>

    <iframe id='tef' src='' class='tef' style='border: 2px solid yellow'></iframe>
    <iframe id='tef2' src='' class='tef' style='border: 2px solid green'></iframe>

</body>
</html>