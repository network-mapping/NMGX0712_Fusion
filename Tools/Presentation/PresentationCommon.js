var presentationCommon={getDescriptionFor:function(jsonData,speedFactor){var speedFactor=speedFactor||1,description=SGLang.i18n(jsonData.actionType),context="";try{jsonData.options&&(jsonData.options.TeObjectId?(teObj=SGWorld.Creator.GetObject(jsonData.options.TeObjectId))&&(context=teObj.TreeItem.Name):jsonData.options.pathToGroup&&(context="\\"+jsonData.options.pathToGroup))}catch(e){}var teObj=context;if(context=context&&"["+context+"]",description+=" ",0==jsonData.Type)description=SGLang.i18n("Step"),context="";else if("DynamicObject"==jsonData.actionType)try{description=jsonData.options&&"Restart"==jsonData.options.operation?SGLang.i18n("Restart")+" "+description:SGLang.i18n("Follow")+" "+description,context="["+SGWorld.Creator.GetObject(jsonData.options.TeObjectId).TreeItem.Name+"]"}catch(e){context="[ ]"}else if("Show"!=jsonData.actionType&&"Hide"!=jsonData.actionType)if("FlyTo"==jsonData.actionType)null!=context&&0!=context.length||(jsonData.options.poi?context="["+jsonData.options.poi.x.toFixed(5)+","+jsonData.options.poi.y.toFixed(5)+"]":jsonData.options.fromTo&&(context="["+jsonData.options.fromTo.to.x.toFixed(5)+","+jsonData.options.fromTo.to.y.toFixed(5)+"]"));else if("Caption"==jsonData.actionType)-2==jsonData.options.timeOutInterval?description="Clear caption":context='["'+jsonData.options.captionText+'"]';else if("Wait"==jsonData.actionType)context="["+jsonData.options.duration/speedFactor+" "+SGLang.i18n("Seconds")+"]";else if("Message"!=jsonData.actionType)if("SetSpeedFactor"==jsonData.actionType)context=jsonData.options.speedFactor;else if("UndergroundMode"!=jsonData.actionType)if("SetTime"==jsonData.actionType)context="["+jsonData.options.day+"/"+jsonData.options.month+"/"+jsonData.options.year+" - "+jsonData.options.hour+":"+jsonData.options.minute+":"+jsonData.options.second+"]";else if("PlayAnotherPresentation"==jsonData.actionType)description=SGLang.i18n("PlayAnotherPresentation"),context=teObj;else if("PlayRoute"==jsonData.actionType)context="["+jsonData.options.waypoints.length+" "+SGLang.i18n("points")+"]";else if("MenuCommand"==jsonData.actionType&&jsonData.options.teCommandId){switch(jsonData.options.teCommandId){case 2217:description=SGLang.i18n("GlobalSlopeMap");break;case 2216:description=SGLang.i18n("GlobalContoureMap");break;case 2118:description=SGLang.i18n("GlobalShadowMap");break;default:description="Command ID: "+jsonData.options.teCommandId}context="["+(jsonData.options.checked?SGLang.i18n("on"):SGLang.i18n("off"))+"]"}return[description,context.toString().replace(/<[^>]*>/g,"")]}};