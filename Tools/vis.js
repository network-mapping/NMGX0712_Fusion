!function(root,factory){"object"==typeof exports&&"object"==typeof module?module.exports=factory():"function"==typeof define&&define.amd?define(factory):"object"==typeof exports?exports.vis=factory():root.vis=factory()}(this,function(){return function(modules){var installedModules={};function __webpack_require__(moduleId){var module;return(installedModules[moduleId]||(module=installedModules[moduleId]={exports:{},id:moduleId,loaded:!1},modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.loaded=!0,module)).exports}return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.p="",__webpack_require__(0)}([function(module,exports,__webpack_require__){exports.util=__webpack_require__(1),exports.DOMutil=__webpack_require__(2),exports.DataSet=__webpack_require__(3),exports.DataView=__webpack_require__(4),exports.Graph3d=__webpack_require__(5),exports.graph3d={Camera:__webpack_require__(6),Filter:__webpack_require__(7),Point2d:__webpack_require__(8),Point3d:__webpack_require__(9),Slider:__webpack_require__(10),StepNumber:__webpack_require__(11)},exports.Timeline=__webpack_require__(12),exports.Graph2d=__webpack_require__(13),exports.timeline={DataStep:__webpack_require__(14),Range:__webpack_require__(15),stack:__webpack_require__(16),TimeStep:__webpack_require__(17),components:{items:{Item:__webpack_require__(29),ItemBox:__webpack_require__(28),ItemPoint:__webpack_require__(30),ItemRange:__webpack_require__(31)},Component:__webpack_require__(18),CurrentTime:__webpack_require__(19),CustomTime:__webpack_require__(20),DataAxis:__webpack_require__(21),GraphGroup:__webpack_require__(22),Group:__webpack_require__(23),ItemSet:__webpack_require__(24),Legend:__webpack_require__(25),LineGraph:__webpack_require__(26),TimeAxis:__webpack_require__(27)}},exports.Network=__webpack_require__(32),exports.network={Edge:__webpack_require__(33),Groups:__webpack_require__(34),Images:__webpack_require__(35),Node:__webpack_require__(36),Popup:__webpack_require__(37),dotparser:__webpack_require__(38),gephiParser:__webpack_require__(39)},exports.Graph=function(){throw new Error("Graph is renamed to Network. Please create a graph as new vis.Network(...)")},exports.moment=__webpack_require__(40),exports.hammer=__webpack_require__(41)},function(module,exports,__webpack_require__){var moment=__webpack_require__(40),ASPDateRegex=(exports.isNumber=function(object){return object instanceof Number||"number"==typeof object},exports.isString=function(object){return object instanceof String||"string"==typeof object},exports.isDate=function(object){if(object instanceof Date)return!0;if(exports.isString(object)){if(ASPDateRegex.exec(object))return!0;if(!isNaN(Date.parse(object)))return!0}return!1},exports.isDataTable=function(object){return"undefined"!=typeof google&&google.visualization&&google.visualization.DataTable&&object instanceof google.visualization.DataTable},exports.randomUUID=function(){function S4(){return Math.floor(65536*Math.random()).toString(16)}return S4()+S4()+"-"+S4()+"-"+S4()+"-"+S4()+"-"+S4()+S4()+S4()},exports.extend=function(a,b){for(var i=1,len=arguments.length;i<len;i++){var prop,other=arguments[i];for(prop in other)other.hasOwnProperty(prop)&&(a[prop]=other[prop])}return a},exports.selectiveExtend=function(props,a,b){if(!Array.isArray(props))throw new Error("Array with property names expected as first argument");for(var i=2;i<arguments.length;i++)for(var other=arguments[i],p=0;p<props.length;p++){var prop=props[p];other.hasOwnProperty(prop)&&(a[prop]=other[prop])}return a},exports.selectiveDeepExtend=function(props,a,b){if(Array.isArray(b))throw new TypeError("Arrays are not supported by deepExtend");for(var i=2;i<arguments.length;i++)for(var other=arguments[i],p=0;p<props.length;p++){var prop=props[p];if(other.hasOwnProperty(prop))if(b[prop]&&b[prop].constructor===Object)void 0===a[prop]&&(a[prop]={}),a[prop].constructor===Object?exports.deepExtend(a[prop],b[prop]):a[prop]=b[prop];else{if(Array.isArray(b[prop]))throw new TypeError("Arrays are not supported by deepExtend");a[prop]=b[prop]}}return a},exports.selectiveNotDeepExtend=function(props,a,b){if(Array.isArray(b))throw new TypeError("Arrays are not supported by deepExtend");for(var prop in b)if(b.hasOwnProperty(prop)&&-1==props.indexOf(prop))if(b[prop]&&b[prop].constructor===Object)void 0===a[prop]&&(a[prop]={}),a[prop].constructor===Object?exports.deepExtend(a[prop],b[prop]):a[prop]=b[prop];else{if(Array.isArray(b[prop]))throw new TypeError("Arrays are not supported by deepExtend");a[prop]=b[prop]}return a},exports.deepExtend=function(a,b){if(Array.isArray(b))throw new TypeError("Arrays are not supported by deepExtend");for(var prop in b)if(b.hasOwnProperty(prop))if(b[prop]&&b[prop].constructor===Object)void 0===a[prop]&&(a[prop]={}),a[prop].constructor===Object?exports.deepExtend(a[prop],b[prop]):a[prop]=b[prop];else{if(Array.isArray(b[prop]))throw new TypeError("Arrays are not supported by deepExtend");a[prop]=b[prop]}return a},exports.equalArray=function(a,b){if(a.length!=b.length)return!1;for(var i=0,len=a.length;i<len;i++)if(a[i]!=b[i])return!1;return!0},exports.convert=function(object,type){var match;if(void 0!==object){if(null===object)return null;if(!type)return object;if("string"!=typeof type&&!(type instanceof String))throw new Error("Type must be a string");switch(type){case"boolean":case"Boolean":return Boolean(object);case"number":case"Number":return Number(object.valueOf());case"string":case"String":return String(object);case"Date":if(exports.isNumber(object))return new Date(object);if(object instanceof Date)return new Date(object.valueOf());if(moment.isMoment(object))return new Date(object.valueOf());if(exports.isString(object))return(match=ASPDateRegex.exec(object))?new Date(Number(match[1])):moment(object).toDate();throw new Error("Cannot convert object of type "+exports.getType(object)+" to type Date");case"Moment":if(exports.isNumber(object))return moment(object);if(object instanceof Date)return moment(object.valueOf());if(moment.isMoment(object))return moment(object);if(exports.isString(object))return match=ASPDateRegex.exec(object),moment(match?Number(match[1]):object);throw new Error("Cannot convert object of type "+exports.getType(object)+" to type Date");case"ISODate":if(exports.isNumber(object))return new Date(object);if(object instanceof Date)return object.toISOString();if(moment.isMoment(object))return object.toDate().toISOString();if(exports.isString(object))return((match=ASPDateRegex.exec(object))?new Date(Number(match[1])):new Date(object)).toISOString();throw new Error("Cannot convert object of type "+exports.getType(object)+" to type ISODate");case"ASPDate":if(exports.isNumber(object))return"/Date("+object+")/";if(object instanceof Date)return"/Date("+object.valueOf()+")/";if(exports.isString(object))return"/Date("+((match=ASPDateRegex.exec(object))?new Date(Number(match[1])):new Date(object)).valueOf()+")/";throw new Error("Cannot convert object of type "+exports.getType(object)+" to type ASPDate");default:throw new Error('Unknown type "'+type+'"')}}},/^\/?Date\((\-?\d+)/i);exports.getType=function(object){var type=typeof object;return"object"==type?null==object?"null":object instanceof Boolean?"Boolean":object instanceof Number?"Number":object instanceof String?"String":object instanceof Array?"Array":object instanceof Date?"Date":"Object":"number"==type?"Number":"boolean"==type?"Boolean":"string"==type?"String":type},exports.getAbsoluteLeft=function(elem){return elem.getBoundingClientRect().left+window.pageXOffset},exports.getAbsoluteTop=function(elem){return elem.getBoundingClientRect().top+window.pageYOffset},exports.addClassName=function(elem,className){var classes=elem.className.split(" ");-1==classes.indexOf(className)&&(classes.push(className),elem.className=classes.join(" "))},exports.removeClassName=function(elem,className){var classes=elem.className.split(" "),className=classes.indexOf(className);-1!=className&&(classes.splice(className,1),elem.className=classes.join(" "))},exports.forEach=function(object,callback){var i,len;if(object instanceof Array)for(i=0,len=object.length;i<len;i++)callback(object[i],i,object);else for(i in object)object.hasOwnProperty(i)&&callback(object[i],i,object)},exports.toArray=function(object){var prop,array=[];for(prop in object)object.hasOwnProperty(prop)&&array.push(object[prop]);return array},exports.updateProperty=function(object,key,value){return object[key]!==value&&(object[key]=value,!0)},exports.addEventListener=function(element,action,listener,useCapture){element.addEventListener?(void 0===useCapture&&(useCapture=!1),"mousewheel"===action&&0<=navigator.userAgent.indexOf("Firefox")&&(action="DOMMouseScroll"),element.addEventListener(action,listener,useCapture)):element.attachEvent("on"+action,listener)},exports.removeEventListener=function(element,action,listener,useCapture){element.removeEventListener?(void 0===useCapture&&(useCapture=!1),"mousewheel"===action&&0<=navigator.userAgent.indexOf("Firefox")&&(action="DOMMouseScroll"),element.removeEventListener(action,listener,useCapture)):element.detachEvent("on"+action,listener)},exports.preventDefault=function(event){(event=event||window.event).preventDefault?event.preventDefault():event.returnValue=!1},exports.getTarget=function(event){var target;return(event=event||window.event).target?target=event.target:event.srcElement&&(target=event.srcElement),target=null!=target.nodeType&&3==target.nodeType?target.parentNode:target},exports.option={},exports.option.asBoolean=function(value,defaultValue){return null!=(value="function"==typeof value?value():value)?0!=value:defaultValue||null},exports.option.asNumber=function(value,defaultValue){return null!=(value="function"==typeof value?value():value)?Number(value)||defaultValue||null:defaultValue||null},exports.option.asString=function(value,defaultValue){return null!=(value="function"==typeof value?value():value)?String(value):defaultValue||null},exports.option.asSize=function(value,defaultValue){return"function"==typeof value&&(value=value()),exports.isString(value)?value:exports.isNumber(value)?value+"px":defaultValue||null},exports.option.asElement=function(value,defaultValue){return(value="function"==typeof value?value():value)||defaultValue||null},exports.GiveDec=function(Hex){var Value,Value="A"==Hex?10:"B"==Hex?11:"C"==Hex?12:"D"==Hex?13:"E"==Hex?14:"F"==Hex?15:eval(Hex);return Value},exports.GiveHex=function(Dec){Dec=10==Dec?"A":11==Dec?"B":12==Dec?"C":13==Dec?"D":14==Dec?"E":15==Dec?"F":""+Dec;return Dec},exports.parseColor=function(color){var rgb,lighterColorHSV;return exports.isString(color)?(exports.isValidRGB(color)&&(rgb=color.substr(4).substr(0,color.length-5).split(","),color=exports.RGBToHex(rgb[0],rgb[1],rgb[2])),lighterColorHSV=exports.isValidHex(color)?(lighterColorHSV={h:(rgb=exports.hexToHSV(color)).h,s:.45*rgb.s,v:Math.min(1,1.05*rgb.v)},rgb={h:rgb.h,s:Math.min(1,1.25*rgb.v),v:.6*rgb.v},{background:color,border:rgb=exports.HSVToHex(rgb.h,rgb.h,rgb.v),highlight:{background:lighterColorHSV=exports.HSVToHex(lighterColorHSV.h,lighterColorHSV.s,lighterColorHSV.v),border:rgb},hover:{background:lighterColorHSV,border:rgb}}):{background:color,border:color,highlight:{background:color,border:color},hover:{background:color,border:color}}):((lighterColorHSV={}).background=color.background||"white",lighterColorHSV.border=color.border||lighterColorHSV.background,exports.isString(color.highlight)?lighterColorHSV.highlight={border:color.highlight,background:color.highlight}:(lighterColorHSV.highlight={},lighterColorHSV.highlight.background=color.highlight&&color.highlight.background||lighterColorHSV.background,lighterColorHSV.highlight.border=color.highlight&&color.highlight.border||lighterColorHSV.border),exports.isString(color.hover)?lighterColorHSV.hover={border:color.hover,background:color.hover}:(lighterColorHSV.hover={},lighterColorHSV.hover.background=color.hover&&color.hover.background||lighterColorHSV.background,lighterColorHSV.hover.border=color.hover&&color.hover.border||lighterColorHSV.border)),lighterColorHSV},exports.hexToRGB=function(hex){return hex=hex.replace("#","").toUpperCase(),{r:16*exports.GiveDec(hex.substring(0,1))+exports.GiveDec(hex.substring(1,2)),g:16*exports.GiveDec(hex.substring(2,3))+exports.GiveDec(hex.substring(3,4)),b:16*exports.GiveDec(hex.substring(4,5))+exports.GiveDec(hex.substring(5,6))}},exports.RGBToHex=function(red,green,blue){return"#"+(exports.GiveHex(Math.floor(red/16))+exports.GiveHex(red%16)+exports.GiveHex(Math.floor(green/16))+exports.GiveHex(green%16)+exports.GiveHex(Math.floor(blue/16))+exports.GiveHex(blue%16))},exports.RGBToHSV=function(red,green,blue){red/=255,green/=255,blue/=255;var minRGB=Math.min(red,Math.min(green,blue)),maxRGB=Math.max(red,Math.max(green,blue));return minRGB==maxRGB?{h:0,s:0,v:minRGB}:{h:60*((red==minRGB?3:blue==minRGB?1:5)-(red==minRGB?green-blue:blue==minRGB?red-green:blue-red)/(maxRGB-minRGB))/360,s:(maxRGB-minRGB)/maxRGB,v:maxRGB}},exports.HSVToRGB=function(h,s,v){var r,g,b,i=Math.floor(6*h),h=6*h-i,p=v*(1-s),q=v*(1-h*s),t=v*(1-(1-h)*s);switch(i%6){case 0:r=v,g=t,b=p;break;case 1:r=q,g=v,b=p;break;case 2:r=p,g=v,b=t;break;case 3:r=p,g=q,b=v;break;case 4:r=t,g=p,b=v;break;case 5:r=v,g=p,b=q}return{r:Math.floor(255*r),g:Math.floor(255*g),b:Math.floor(255*b)}},exports.HSVToHex=function(h,s,v){h=exports.HSVToRGB(h,s,v);return exports.RGBToHex(h.r,h.g,h.b)},exports.hexToHSV=function(hex){hex=exports.hexToRGB(hex);return exports.RGBToHSV(hex.r,hex.g,hex.b)},exports.isValidHex=function(hex){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(hex)},exports.isValidRGB=function(rgb){return rgb=rgb.replace(" ",""),/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/i.test(rgb)},exports.selectiveBridgeObject=function(fields,referenceObject){if("object"!=typeof referenceObject)return null;for(var objectTo=Object.create(referenceObject),i=0;i<fields.length;i++)referenceObject.hasOwnProperty(fields[i])&&"object"==typeof referenceObject[fields[i]]&&(objectTo[fields[i]]=exports.bridgeObject(referenceObject[fields[i]]));return objectTo},exports.bridgeObject=function(referenceObject){if("object"!=typeof referenceObject)return null;var i,objectTo=Object.create(referenceObject);for(i in referenceObject)referenceObject.hasOwnProperty(i)&&"object"==typeof referenceObject[i]&&(objectTo[i]=exports.bridgeObject(referenceObject[i]));return objectTo},exports.mergeOptions=function(mergeTarget,options,option){if(void 0!==options[option])if("boolean"==typeof options[option])mergeTarget[option].enabled=options[option];else for(prop in mergeTarget[option].enabled=!0,options[option])options[option].hasOwnProperty(prop)&&(mergeTarget[option][prop]=options[option][prop])},exports.mergeOptions=function(mergeTarget,options,option){if(void 0!==options[option])if("boolean"==typeof options[option])mergeTarget[option].enabled=options[option];else for(prop in mergeTarget[option].enabled=!0,options[option])options[option].hasOwnProperty(prop)&&(mergeTarget[option][prop]=options[option][prop])},exports.binarySearch=function(orderedItems,range,field,field2){var value,array=orderedItems,iteration=0,found=!1,low=0,high=array.length,newLow=low,newHigh=high,guess=Math.floor(.5*(high+low));if(0==high)guess=-1;else if(1==high)guess=array[guess].isVisible(range)?0:-1;else{for(--high;0==found&&iteration<1e4;)value=void 0===field2?array[guess][field]:array[guess][field][field2],array[guess].isVisible(range)?found=!0:(value<range.start?newLow=Math.floor(.5*(high+low)):newHigh=Math.floor(.5*(high+low)),low==newLow&&high==newHigh?(guess=-1,found=!0):(high=newHigh,low=newLow,guess=Math.floor(.5*(high+low)))),iteration++;1e4<=iteration&&console.log("BinarySearch too many iterations. Aborting.")}return guess},exports.binarySearchGeneric=function(orderedItems,target,field,sidePreference){var prevValue,value,nextValue,iteration=0,array=orderedItems,found=!1,low=0,high=array.length,newLow=low,newHigh=high,guess=Math.floor(.5*(high+low));if(0==high)guess=-1;else if(1==high)guess=(value=array[guess][field])==target?0:-1;else{for(--high;0==found&&iteration<1e4;)prevValue=array[Math.max(0,guess-1)][field],value=array[guess][field],nextValue=array[Math.min(array.length-1,guess+1)][field],value==target||prevValue<target&&target<value||value<target&&target<nextValue?(found=!0,value!=target&&("before"==sidePreference?prevValue<target&&target<value&&(guess=Math.max(0,guess-1)):value<target&&target<nextValue&&(guess=Math.min(array.length-1,guess+1)))):(value<target?newLow=Math.floor(.5*(high+low)):newHigh=Math.floor(.5*(high+low)),Math.floor(.5*(high+low)),low==newLow&&high==newHigh?(guess=-1,found=!0):(high=newHigh,low=newLow,guess=Math.floor(.5*(high+low)))),iteration++;1e4<=iteration&&console.log("BinarySearch too many iterations. Aborting.")}return guess}},function(module,exports,__webpack_require__){exports.prepareElements=function(JSONcontainer){for(var elementType in JSONcontainer)JSONcontainer.hasOwnProperty(elementType)&&(JSONcontainer[elementType].redundant=JSONcontainer[elementType].used,JSONcontainer[elementType].used=[])},exports.cleanupElements=function(JSONcontainer){for(var elementType in JSONcontainer)if(JSONcontainer.hasOwnProperty(elementType)&&JSONcontainer[elementType].redundant){for(var i=0;i<JSONcontainer[elementType].redundant.length;i++)JSONcontainer[elementType].redundant[i].parentNode.removeChild(JSONcontainer[elementType].redundant[i]);JSONcontainer[elementType].redundant=[]}},exports.getSVGElement=function(elementType,JSONcontainer,svgContainer){var element;return JSONcontainer.hasOwnProperty(elementType)?0<JSONcontainer[elementType].redundant.length?(element=JSONcontainer[elementType].redundant[0],JSONcontainer[elementType].redundant.shift()):(element=document.createElementNS("http://www.w3.org/2000/svg",elementType),svgContainer.appendChild(element)):(element=document.createElementNS("http://www.w3.org/2000/svg",elementType),JSONcontainer[elementType]={used:[],redundant:[]},svgContainer.appendChild(element)),JSONcontainer[elementType].used.push(element),element},exports.getDOMElement=function(elementType,JSONcontainer,DOMContainer){var element;return JSONcontainer.hasOwnProperty(elementType)?0<JSONcontainer[elementType].redundant.length?(element=JSONcontainer[elementType].redundant[0],JSONcontainer[elementType].redundant.shift()):(element=document.createElement(elementType),DOMContainer.appendChild(element)):(element=document.createElement(elementType),JSONcontainer[elementType]={used:[],redundant:[]},DOMContainer.appendChild(element)),JSONcontainer[elementType].used.push(element),element},exports.drawPoint=function(x,y,group,JSONcontainer,svgContainer){var point;return"circle"==group.options.drawPoints.style?((point=exports.getSVGElement("circle",JSONcontainer,svgContainer)).setAttributeNS(null,"cx",x),point.setAttributeNS(null,"cy",y),point.setAttributeNS(null,"r",.5*group.options.drawPoints.size)):((point=exports.getSVGElement("rect",JSONcontainer,svgContainer)).setAttributeNS(null,"x",x-.5*group.options.drawPoints.size),point.setAttributeNS(null,"y",y-.5*group.options.drawPoints.size),point.setAttributeNS(null,"width",group.options.drawPoints.size),point.setAttributeNS(null,"height",group.options.drawPoints.size)),point.setAttributeNS(null,"class",group.className+" point"),point},exports.drawBar=function(x,y,width,height,className,JSONcontainer,svgContainer){JSONcontainer=exports.getSVGElement("rect",JSONcontainer,svgContainer);JSONcontainer.setAttributeNS(null,"x",x-.5*width),JSONcontainer.setAttributeNS(null,"y",y),JSONcontainer.setAttributeNS(null,"width",width),JSONcontainer.setAttributeNS(null,"height",height),JSONcontainer.setAttributeNS(null,"class",className)}},function(module,exports,__webpack_require__){var util=__webpack_require__(1);function DataSet(data,options){if(!data||Array.isArray(data)||util.isDataTable(data)||(options=data,data=null),this._options=options||{},this._data={},this._fieldId=this._options.fieldId||"id",this._type={},this._options.type)for(var field in this._options.type){var value;this._options.type.hasOwnProperty(field)&&(value=this._options.type[field],this._type[field]="Date"==value||"ISODate"==value||"ASPDate"==value?"Date":value)}if(this._options.convert)throw new Error('Option "convert" is deprecated. Use "type" instead.');this._subscribers={},data&&this.add(data)}DataSet.prototype.subscribe=DataSet.prototype.on=function(event,callback){var subscribers=this._subscribers[event];subscribers||(this._subscribers[event]=subscribers=[]),subscribers.push({callback:callback})},DataSet.prototype.unsubscribe=DataSet.prototype.off=function(event,callback){var subscribers=this._subscribers[event];subscribers&&(this._subscribers[event]=subscribers.filter(function(listener){return listener.callback!=callback}))},DataSet.prototype._trigger=function(event,params,senderId){if("*"==event)throw new Error("Cannot trigger event *");var subscribers=[];event in this._subscribers&&(subscribers=subscribers.concat(this._subscribers[event])),"*"in this._subscribers&&(subscribers=subscribers.concat(this._subscribers["*"]));for(var i=0;i<subscribers.length;i++){var subscriber=subscribers[i];subscriber.callback&&subscriber.callback(event,params,senderId||null)}},DataSet.prototype.add=function(data,senderId){var id,addedIds=[];if(Array.isArray(data))for(var i=0,len=data.length;i<len;i++)id=this._addItem(data[i]),addedIds.push(id);else if(util.isDataTable(data))for(var columns=this._getColumnNames(data),row=0,rows=data.getNumberOfRows();row<rows;row++){for(var item={},col=0,cols=columns.length;col<cols;col++)item[columns[col]]=data.getValue(row,col);id=this._addItem(item),addedIds.push(id)}else{if(!(data instanceof Object))throw new Error("Unknown dataType");id=this._addItem(data),addedIds.push(id)}return addedIds.length&&this._trigger("add",{items:addedIds},senderId),addedIds},DataSet.prototype.update=function(data,senderId){function addOrUpdate(item){var id=item[fieldId];(me._data[id]?(id=me._updateItem(item),updatedIds):(id=me._addItem(item),addedIds)).push(id)}var addedIds=[],updatedIds=[],me=this,fieldId=me._fieldId;if(Array.isArray(data))for(var i=0,len=data.length;i<len;i++)addOrUpdate(data[i]);else if(util.isDataTable(data))for(var columns=this._getColumnNames(data),row=0,rows=data.getNumberOfRows();row<rows;row++){for(var item={},col=0,cols=columns.length;col<cols;col++)item[columns[col]]=data.getValue(row,col);addOrUpdate(item)}else{if(!(data instanceof Object))throw new Error("Unknown dataType");addOrUpdate(data)}return addedIds.length&&this._trigger("add",{items:addedIds},senderId),updatedIds.length&&this._trigger("update",{items:updatedIds},senderId),addedIds.concat(updatedIds)},DataSet.prototype.get=function(args){var id,ids,options,me=this,firstType=util.getType(args),data="String"==firstType||"Number"==firstType?(id=args,options=arguments[1],arguments[2]):"Array"==firstType?(ids=args,options=arguments[1],arguments[2]):(options=args,arguments[1]);if(options&&options.returnType){var returnType=-1==["DataTable","Array","Object"].indexOf(options.returnType)?"Array":options.returnType;if(data&&returnType!=util.getType(data))throw new Error('Type of parameter "data" ('+util.getType(data)+") does not correspond with specified options.type ("+options.type+")");if("DataTable"==returnType&&!util.isDataTable(data))throw new Error('Parameter "data" must be a DataTable when options.type is "DataTable"')}else returnType=data&&"DataTable"==util.getType(data)?"DataTable":"Array";var item,itemId,len,type=options&&options.type||this._options.type,filter=options&&options.filter,items=[];if(null!=id)item=me._getItem(id,type),filter&&!filter(item)&&(item=null);else if(null!=ids)for(i=0,len=ids.length;i<len;i++)item=me._getItem(ids[i],type),filter&&!filter(item)||items.push(item);else for(itemId in this._data)this._data.hasOwnProperty(itemId)&&(item=me._getItem(itemId,type),filter&&!filter(item)||items.push(item));if(options&&options.order&&null==id&&this._sort(items,options.order),options&&options.fields){var fields=options.fields;if(null!=id)item=this._filterFields(item,fields);else for(i=0,len=items.length;i<len;i++)items[i]=this._filterFields(items[i],fields)}if("DataTable"==returnType){var columns=this._getColumnNames(data);if(null!=id)me._appendRow(data,columns,item);else for(i=0;i<items.length;i++)me._appendRow(data,columns,items[i]);return data}if("Object"==returnType){for(var result={},i=0;i<items.length;i++)result[items[i].id]=items[i];return result}if(null!=id)return item;if(data){for(i=0,len=items.length;i<len;i++)data.push(items[i]);return data}return items},DataSet.prototype.getIds=function(options){var i,len,id,item,items,data=this._data,filter=options&&options.filter,order=options&&options.order,type=options&&options.type||this._options.type,ids=[];if(filter)if(order){for(id in items=[],data)data.hasOwnProperty(id)&&filter(item=this._getItem(id,type))&&items.push(item);for(this._sort(items,order),i=0,len=items.length;i<len;i++)ids[i]=items[i][this._fieldId]}else for(id in data)data.hasOwnProperty(id)&&filter(item=this._getItem(id,type))&&ids.push(item[this._fieldId]);else if(order){for(id in items=[],data)data.hasOwnProperty(id)&&items.push(data[id]);for(this._sort(items,order),i=0,len=items.length;i<len;i++)ids[i]=items[i][this._fieldId]}else for(id in data)data.hasOwnProperty(id)&&(item=data[id],ids.push(item[this._fieldId]));return ids},DataSet.prototype.getDataSet=function(){return this},DataSet.prototype.forEach=function(callback,options){var item,id,filter=options&&options.filter,type=options&&options.type||this._options.type,data=this._data;if(options&&options.order)for(var items=this.get(options),i=0,len=items.length;i<len;i++)callback(item=items[i],id=item[this._fieldId]);else for(id in data)data.hasOwnProperty(id)&&(item=this._getItem(id,type),filter&&!filter(item)||callback(item,id))},DataSet.prototype.map=function(callback,options){var item,id,filter=options&&options.filter,type=options&&options.type||this._options.type,mappedItems=[],data=this._data;for(id in data)data.hasOwnProperty(id)&&(item=this._getItem(id,type),filter&&!filter(item)||mappedItems.push(callback(item,id)));return options&&options.order&&this._sort(mappedItems,options.order),mappedItems},DataSet.prototype._filterFields=function(item,fields){var field,filteredItem={};for(field in item)item.hasOwnProperty(field)&&-1!=fields.indexOf(field)&&(filteredItem[field]=item[field]);return filteredItem},DataSet.prototype._sort=function(items,order){if(util.isString(order)){var name=order;items.sort(function(a,b){a=a[name],b=b[name];return b<a?1:a<b?-1:0})}else{if("function"!=typeof order)throw new TypeError("Order must be a function or a string");items.sort(order)}},DataSet.prototype.remove=function(id,senderId){var i,len,removedId,removedIds=[];if(Array.isArray(id))for(i=0,len=id.length;i<len;i++)null!=(removedId=this._remove(id[i]))&&removedIds.push(removedId);else null!=(removedId=this._remove(id))&&removedIds.push(removedId);return removedIds.length&&this._trigger("remove",{items:removedIds},senderId),removedIds},DataSet.prototype._remove=function(id){if(util.isNumber(id)||util.isString(id)){if(this._data[id])return delete this._data[id],id}else if(id instanceof Object){id=id[this._fieldId];if(id&&this._data[id])return delete this._data[id],id}return null},DataSet.prototype.clear=function(senderId){var ids=Object.keys(this._data);return this._data={},this._trigger("remove",{items:ids},senderId),ids},DataSet.prototype.max=function(field){var id,item,itemField,data=this._data,max=null,maxField=null;for(id in data)data.hasOwnProperty(id)&&null!=(itemField=(item=data[id])[field])&&(!max||maxField<itemField)&&(max=item,maxField=itemField);return max},DataSet.prototype.min=function(field){var id,item,itemField,data=this._data,min=null,minField=null;for(id in data)data.hasOwnProperty(id)&&null!=(itemField=(item=data[id])[field])&&(!min||itemField<minField)&&(min=item,minField=itemField);return min},DataSet.prototype.distinct=function(field){var prop,data=this._data,values=[],fieldType=this._options.type&&this._options.type[field]||null,count=0;for(prop in data)if(data.hasOwnProperty(prop)){for(var value=data[prop][field],exists=!1,i=0;i<count;i++)if(values[i]==value){exists=!0;break}exists||void 0===value||(values[count]=value,count++)}if(fieldType)for(i=0;i<values.length;i++)values[i]=util.convert(values[i],fieldType);return values},DataSet.prototype._addItem=function(item){var id=item[this._fieldId];if(null!=id){if(this._data[id])throw new Error("Cannot add item: item with id "+id+" already exists")}else id=util.randomUUID(),item[this._fieldId]=id;var field,fieldType,d={};for(field in item)item.hasOwnProperty(field)&&(fieldType=this._type[field],d[field]=util.convert(item[field],fieldType));return this._data[id]=d,id},DataSet.prototype._getItem=function(id,types){var field,value,raw=this._data[id];if(!raw)return null;var converted={};if(types)for(field in raw)raw.hasOwnProperty(field)&&(value=raw[field],converted[field]=util.convert(value,types[field]));else for(field in raw)raw.hasOwnProperty(field)&&(value=raw[field],converted[field]=value);return converted},DataSet.prototype._updateItem=function(item){var id=item[this._fieldId];if(null==id)throw new Error("Cannot update item: item has no id (item: "+JSON.stringify(item)+")");var field,fieldType,d=this._data[id];if(!d)throw new Error("Cannot update item: no item with id "+id+" found");for(field in item)item.hasOwnProperty(field)&&(fieldType=this._type[field],d[field]=util.convert(item[field],fieldType));return id},DataSet.prototype._getColumnNames=function(dataTable){for(var columns=[],col=0,cols=dataTable.getNumberOfColumns();col<cols;col++)columns[col]=dataTable.getColumnId(col)||dataTable.getColumnLabel(col);return columns},DataSet.prototype._appendRow=function(dataTable,columns,item){for(var row=dataTable.addRow(),col=0,cols=columns.length;col<cols;col++){var field=columns[col];dataTable.setValue(row,col,item[field])}},module.exports=DataSet},function(module,exports,__webpack_require__){var util=__webpack_require__(1),__webpack_require__=__webpack_require__(3);function DataView(data,options){this._data=null,this._ids={},this._options=options||{},this._fieldId="id",this._subscribers={};var me=this;this.listener=function(){me._onEvent.apply(me,arguments)},this.setData(data)}DataView.prototype.setData=function(data){var ids,i,len;if(this._data){for(var id in this._data.unsubscribe&&this._data.unsubscribe("*",this.listener),ids=[],this._ids)this._ids.hasOwnProperty(id)&&ids.push(id);this._ids={},this._trigger("remove",{items:ids})}if(this._data=data,this._data){for(this._fieldId=this._options.fieldId||this._data&&this._data.options&&this._data.options.fieldId||"id",i=0,len=(ids=this._data.getIds({filter:this._options&&this._options.filter})).length;i<len;i++)id=ids[i],this._ids[id]=!0;this._trigger("add",{items:ids}),this._data.on&&this._data.on("*",this.listener)}},DataView.prototype.get=function(args){var ids,options,me=this,firstType=util.getType(args),firstType="String"==firstType||"Number"==firstType||"Array"==firstType?(ids=args,options=arguments[1],arguments[2]):(options=args,arguments[1]),viewOptions=util.extend({},this._options,options),getArguments=(this._options.filter&&options&&options.filter&&(viewOptions.filter=function(item){return me._options.filter(item)&&options.filter(item)}),[]);return null!=ids&&getArguments.push(ids),getArguments.push(viewOptions),getArguments.push(firstType),this._data&&this._data.get.apply(this._data,getArguments)},DataView.prototype.getIds=function(options){var defaultFilter,filter;return this._data?(defaultFilter=this._options.filter,filter=options&&options.filter?defaultFilter?function(item){return defaultFilter(item)&&options.filter(item)}:options.filter:defaultFilter,this._data.getIds({filter:filter,order:options&&options.order})):[]},DataView.prototype.getDataSet=function(){for(var dataSet=this;dataSet instanceof DataView;)dataSet=dataSet._data;return dataSet||null},DataView.prototype._onEvent=function(event,params,senderId){var i,len,id,ids=params&&params.items,params=this._data,added=[],updated=[],removed=[];if(ids&&params){switch(event){case"add":for(i=0,len=ids.length;i<len;i++)id=ids[i],this.get(id)&&(this._ids[id]=!0,added.push(id));break;case"update":for(i=0,len=ids.length;i<len;i++)id=ids[i],this.get(id)?(this._ids[id]?updated:(this._ids[id]=!0,added)).push(id):this._ids[id]&&(delete this._ids[id],removed.push(id));break;case"remove":for(i=0,len=ids.length;i<len;i++)id=ids[i],this._ids[id]&&(delete this._ids[id],removed.push(id))}added.length&&this._trigger("add",{items:added},senderId),updated.length&&this._trigger("update",{items:updated},senderId),removed.length&&this._trigger("remove",{items:removed},senderId)}},DataView.prototype.on=__webpack_require__.prototype.on,DataView.prototype.off=__webpack_require__.prototype.off,DataView.prototype._trigger=__webpack_require__.prototype._trigger,DataView.prototype.subscribe=DataView.prototype.on,DataView.prototype.unsubscribe=DataView.prototype.off,module.exports=DataView},function(module,exports,__webpack_require__){var Emitter=__webpack_require__(46),DataSet=__webpack_require__(3),DataView=__webpack_require__(4),util=__webpack_require__(1),Point3d=__webpack_require__(9),Point2d=__webpack_require__(8),Camera=__webpack_require__(6),Filter=__webpack_require__(7),Slider=__webpack_require__(10),StepNumber=__webpack_require__(11);function Graph3d(container,data,options){if(!(this instanceof Graph3d))throw new SyntaxError("Constructor must be called with the new operator");this.containerElement=container,this.width="400px",this.height="400px",this.margin=10,this.defaultXCenter="55%",this.defaultYCenter="50%",this.xLabel="x",this.yLabel="y",this.zLabel="z",this.filterLabel="time",this.legendLabel="value",this.style=Graph3d.STYLE.DOT,this.showPerspective=!0,this.showGrid=!0,this.keepAspectRatio=!0,this.showShadow=!1,this.showGrayBottom=!1,this.showTooltip=!1,this.verticalRatio=.5,this.animationInterval=1e3,this.animationPreload=!1,this.camera=new Camera,this.eye=new Point3d(0,0,-1),this.dataTable=null,this.dataPoints=null,this.colX=void 0,this.colY=void 0,this.colZ=void 0,this.colValue=void 0,this.colFilter=void 0,this.xMin=0,this.xStep=void 0,this.xMax=1,this.yMin=0,this.yStep=void 0,this.yMax=1,this.zMin=0,this.zStep=void 0,this.zMax=1,this.valueMin=0,this.valueMax=1,this.xBarWidth=1,this.yBarWidth=1,this.colorAxis="#4D4D4D",this.colorGrid="#D3D3D3",this.colorDot="#7DC1FF",this.colorDotBorder="#3267D2",this.create(),this.setOptions(options),data&&this.setData(data)}Emitter(Graph3d.prototype),Graph3d.prototype._setScale=function(){this.scale=new Point3d(1/(this.xMax-this.xMin),1/(this.yMax-this.yMin),1/(this.zMax-this.zMin)),this.keepAspectRatio&&(this.scale.x<this.scale.y?this.scale.y=this.scale.x:this.scale.x=this.scale.y),this.scale.z*=this.verticalRatio,this.scale.value=1/(this.valueMax-this.valueMin);var xCenter=(this.xMax+this.xMin)/2*this.scale.x,yCenter=(this.yMax+this.yMin)/2*this.scale.y,zCenter=(this.zMax+this.zMin)/2*this.scale.z;this.camera.setArmLocation(xCenter,yCenter,zCenter)},Graph3d.prototype._convert3Dto2D=function(point3d){point3d=this._convertPointToTranslation(point3d);return this._convertTranslationToScreen(point3d)},Graph3d.prototype._convertPointToTranslation=function(point3d){var ax=point3d.x*this.scale.x,ay=point3d.y*this.scale.y,point3d=point3d.z*this.scale.z,cx=this.camera.getCameraLocation().x,cy=this.camera.getCameraLocation().y,cz=this.camera.getCameraLocation().z,sinTx=Math.sin(this.camera.getCameraRotation().x),cosTx=Math.cos(this.camera.getCameraRotation().x),sinTy=Math.sin(this.camera.getCameraRotation().y),cosTy=Math.cos(this.camera.getCameraRotation().y),sinTz=Math.sin(this.camera.getCameraRotation().z),cosTz=Math.cos(this.camera.getCameraRotation().z);return new Point3d(cosTy*(sinTz*(ay-cy)+cosTz*(ax-cx))-sinTy*(point3d-cz),sinTx*(cosTy*(point3d-cz)+sinTy*(sinTz*(ay-cy)+cosTz*(ax-cx)))+cosTx*(cosTz*(ay-cy)-sinTz*(ax-cx)),cosTx*(cosTy*(point3d-cz)+sinTy*(sinTz*(ay-cy)+cosTz*(ax-cx)))-sinTx*(cosTz*(ay-cy)-sinTz*(ax-cx)))},Graph3d.prototype._convertTranslationToScreen=function(translation){var bx,ex=this.eye.x,ey=this.eye.y,ez=this.eye.z,dx=translation.x,dy=translation.y,translation=translation.z,ex=this.showPerspective?(bx=ez/translation*(dx-ex),ez/translation*(dy-ey)):(bx=dx*-(ez/this.camera.getArmLength()),dy*-(ez/this.camera.getArmLength()));return new Point2d(this.xcenter+bx*this.frame.canvas.clientWidth,this.ycenter-ex*this.frame.canvas.clientWidth)},Graph3d.prototype._setBackgroundColor=function(backgroundColor){var fill="white",stroke="gray",strokeWidth=1;if("string"==typeof backgroundColor)fill=backgroundColor,stroke="none",strokeWidth=0;else if("object"==typeof backgroundColor)void 0!==backgroundColor.fill&&(fill=backgroundColor.fill),void 0!==backgroundColor.stroke&&(stroke=backgroundColor.stroke),void 0!==backgroundColor.strokeWidth&&(strokeWidth=backgroundColor.strokeWidth);else if(void 0!==backgroundColor)throw"Unsupported type of backgroundColor";this.frame.style.backgroundColor=fill,this.frame.style.borderColor=stroke,this.frame.style.borderWidth=strokeWidth+"px",this.frame.style.borderStyle="solid"},Graph3d.STYLE={BAR:0,BARCOLOR:1,BARSIZE:2,DOT:3,DOTLINE:4,DOTCOLOR:5,DOTSIZE:6,GRID:7,LINE:8,SURFACE:9},Graph3d.prototype._getStyleNumber=function(styleName){switch(styleName){case"dot":return Graph3d.STYLE.DOT;case"dot-line":return Graph3d.STYLE.DOTLINE;case"dot-color":return Graph3d.STYLE.DOTCOLOR;case"dot-size":return Graph3d.STYLE.DOTSIZE;case"line":return Graph3d.STYLE.LINE;case"grid":return Graph3d.STYLE.GRID;case"surface":return Graph3d.STYLE.SURFACE;case"bar":return Graph3d.STYLE.BAR;case"bar-color":return Graph3d.STYLE.BARCOLOR;case"bar-size":return Graph3d.STYLE.BARSIZE}return-1},Graph3d.prototype._determineColumnIndexes=function(data,style){if(this.style===Graph3d.STYLE.DOT||this.style===Graph3d.STYLE.DOTLINE||this.style===Graph3d.STYLE.LINE||this.style===Graph3d.STYLE.GRID||this.style===Graph3d.STYLE.SURFACE||this.style===Graph3d.STYLE.BAR)this.colX=0,this.colY=1,this.colZ=2,this.colValue=void 0,3<data.getNumberOfColumns()&&(this.colFilter=3);else{if(this.style!==Graph3d.STYLE.DOTCOLOR&&this.style!==Graph3d.STYLE.DOTSIZE&&this.style!==Graph3d.STYLE.BARCOLOR&&this.style!==Graph3d.STYLE.BARSIZE)throw'Unknown style "'+this.style+'"';this.colX=0,this.colY=1,this.colZ=2,this.colValue=3,4<data.getNumberOfColumns()&&(this.colFilter=4)}},Graph3d.prototype.getNumberOfRows=function(data){return data.length},Graph3d.prototype.getNumberOfColumns=function(data){var column,counter=0;for(column in data[0])data[0].hasOwnProperty(column)&&counter++;return counter},Graph3d.prototype.getDistinctValues=function(data,column){for(var distinctValues=[],i=0;i<data.length;i++)-1==distinctValues.indexOf(data[i][column])&&distinctValues.push(data[i][column]);return distinctValues},Graph3d.prototype.getColumnRange=function(data,column){for(var minMax={min:data[0][column],max:data[0][column]},i=0;i<data.length;i++)minMax.min>data[i][column]&&(minMax.min=data[i][column]),minMax.max<data[i][column]&&(minMax.max=data[i][column]);return minMax},Graph3d.prototype._dataInitialize=function(rawData,style){var data,dataX,me=this;if(this.dataSet&&this.dataSet.off("*",this._onChange),void 0!==rawData){if(!((rawData=Array.isArray(rawData)?new DataSet(rawData):rawData)instanceof DataSet||rawData instanceof DataView))throw new Error("Array, DataSet, or DataView expected");0!=(data=rawData.get()).length&&(this.dataSet=rawData,this.dataTable=data,this._onChange=function(){me.setData(me.dataSet)},this.dataSet.on("*",this._onChange),this.colX="x",this.colY="y",this.colZ="z",this.colValue="style",this.colFilter="filter",data[0].hasOwnProperty("filter")&&void 0===this.dataFilter&&(this.dataFilter=new Filter(rawData,this.colFilter,this),this.dataFilter.setOnLoadCallback(function(){me.redraw()})),(rawData=this.style==Graph3d.STYLE.BAR||this.style==Graph3d.STYLE.BARCOLOR||this.style==Graph3d.STYLE.BARSIZE)&&(void 0!==this.defaultXBarWidth?this.xBarWidth=this.defaultXBarWidth:(dataX=this.getDistinctValues(data,this.colX),this.xBarWidth=dataX[1]-dataX[0]||1),void 0!==this.defaultYBarWidth?this.yBarWidth=this.defaultYBarWidth:(dataX=this.getDistinctValues(data,this.colY),this.yBarWidth=dataX[1]-dataX[0]||1)),dataX=this.getColumnRange(data,this.colX),rawData&&(dataX.min-=this.xBarWidth/2,dataX.max+=this.xBarWidth/2),this.xMin=void 0!==this.defaultXMin?this.defaultXMin:dataX.min,this.xMax=void 0!==this.defaultXMax?this.defaultXMax:dataX.max,this.xMax<=this.xMin&&(this.xMax=this.xMin+1),this.xStep=void 0!==this.defaultXStep?this.defaultXStep:(this.xMax-this.xMin)/5,dataX=this.getColumnRange(data,this.colY),rawData&&(dataX.min-=this.yBarWidth/2,dataX.max+=this.yBarWidth/2),this.yMin=void 0!==this.defaultYMin?this.defaultYMin:dataX.min,this.yMax=void 0!==this.defaultYMax?this.defaultYMax:dataX.max,this.yMax<=this.yMin&&(this.yMax=this.yMin+1),this.yStep=void 0!==this.defaultYStep?this.defaultYStep:(this.yMax-this.yMin)/5,rawData=this.getColumnRange(data,this.colZ),this.zMin=void 0!==this.defaultZMin?this.defaultZMin:rawData.min,this.zMax=void 0!==this.defaultZMax?this.defaultZMax:rawData.max,this.zMax<=this.zMin&&(this.zMax=this.zMin+1),this.zStep=void 0!==this.defaultZStep?this.defaultZStep:(this.zMax-this.zMin)/5,void 0!==this.colValue&&(dataX=this.getColumnRange(data,this.colValue),this.valueMin=void 0!==this.defaultValueMin?this.defaultValueMin:dataX.min,this.valueMax=void 0!==this.defaultValueMax?this.defaultValueMax:dataX.max,this.valueMax<=this.valueMin)&&(this.valueMax=this.valueMin+1),this._setScale())}},Graph3d.prototype._getDataPoints=function(data){var obj,point,dataPoints=[];if(this.style===Graph3d.STYLE.GRID||this.style===Graph3d.STYLE.SURFACE){for(var dataX=[],dataY=[],i=0;i<this.getNumberOfRows(data);i++)x=data[i][this.colX]||0,y=data[i][this.colY]||0,-1===dataX.indexOf(x)&&dataX.push(x),-1===dataY.indexOf(y)&&dataY.push(y);function sortNumber(a,b){return a-b}dataX.sort(sortNumber),dataY.sort(sortNumber);var dataMatrix=[];for(i=0;i<data.length;i++){var x=data[i][this.colX]||0,y=data[i][this.colY]||0,z=data[i][this.colZ]||0,xIndex=dataX.indexOf(x),yIndex=dataY.indexOf(y),point3d=(void 0===dataMatrix[xIndex]&&(dataMatrix[xIndex]=[]),new Point3d);point3d.x=x,point3d.y=y,point3d.z=z,(obj={}).point=point3d,obj.trans=void 0,obj.screen=void 0,obj.bottom=new Point3d(x,y,this.zMin),dataMatrix[xIndex][yIndex]=obj,dataPoints.push(obj)}for(x=0;x<dataMatrix.length;x++)for(y=0;y<dataMatrix[x].length;y++)dataMatrix[x][y]&&(dataMatrix[x][y].pointRight=x<dataMatrix.length-1?dataMatrix[x+1][y]:void 0,dataMatrix[x][y].pointTop=y<dataMatrix[x].length-1?dataMatrix[x][y+1]:void 0,dataMatrix[x][y].pointCross=x<dataMatrix.length-1&&y<dataMatrix[x].length-1?dataMatrix[x+1][y+1]:void 0)}else for(i=0;i<data.length;i++)(point=new Point3d).x=data[i][this.colX]||0,point.y=data[i][this.colY]||0,point.z=data[i][this.colZ]||0,void 0!==this.colValue&&(point.value=data[i][this.colValue]||0),(obj={}).point=point,obj.bottom=new Point3d(point.x,point.y,this.zMin),obj.trans=void 0,obj.screen=void 0,dataPoints.push(obj);return dataPoints},Graph3d.prototype.create=function(){for(;this.containerElement.hasChildNodes();)this.containerElement.removeChild(this.containerElement.firstChild);this.frame=document.createElement("div"),this.frame.style.position="relative",this.frame.style.overflow="hidden",this.frame.canvas=document.createElement("canvas"),this.frame.canvas.style.position="relative",this.frame.appendChild(this.frame.canvas);var noCanvas=document.createElement("DIV"),me=(noCanvas.style.color="red",noCanvas.style.fontWeight="bold",noCanvas.style.padding="10px",noCanvas.innerHTML="Error: your browser does not support HTML canvas",this.frame.canvas.appendChild(noCanvas),this.frame.filter=document.createElement("div"),this.frame.filter.style.position="absolute",this.frame.filter.style.bottom="0px",this.frame.filter.style.left="0px",this.frame.filter.style.width="100%",this.frame.appendChild(this.frame.filter),this);util.addEventListener(this.frame.canvas,"keydown",onkeydown),util.addEventListener(this.frame.canvas,"mousedown",function(event){me._onMouseDown(event)}),util.addEventListener(this.frame.canvas,"touchstart",function(event){me._onTouchStart(event)}),util.addEventListener(this.frame.canvas,"mousewheel",function(event){me._onWheel(event)}),util.addEventListener(this.frame.canvas,"mousemove",function(event){me._onTooltip(event)}),this.containerElement.appendChild(this.frame)},Graph3d.prototype.setSize=function(width,height){this.frame.style.width=width,this.frame.style.height=height,this._resizeCanvas()},Graph3d.prototype._resizeCanvas=function(){this.frame.canvas.style.width="100%",this.frame.canvas.style.height="100%",this.frame.canvas.width=this.frame.canvas.clientWidth,this.frame.canvas.height=this.frame.canvas.clientHeight,this.frame.filter.style.width=this.frame.canvas.clientWidth-20+"px"},Graph3d.prototype.animationStart=function(){if(!this.frame.filter||!this.frame.filter.slider)throw"No animation available";this.frame.filter.slider.play()},Graph3d.prototype.animationStop=function(){this.frame.filter&&this.frame.filter.slider&&this.frame.filter.slider.stop()},Graph3d.prototype._resizeCenter=function(){"%"===this.defaultXCenter.charAt(this.defaultXCenter.length-1)?this.xcenter=parseFloat(this.defaultXCenter)/100*this.frame.canvas.clientWidth:this.xcenter=parseFloat(this.defaultXCenter),"%"===this.defaultYCenter.charAt(this.defaultYCenter.length-1)?this.ycenter=parseFloat(this.defaultYCenter)/100*(this.frame.canvas.clientHeight-this.frame.filter.clientHeight):this.ycenter=parseFloat(this.defaultYCenter)},Graph3d.prototype.setCameraPosition=function(pos){void 0!==pos&&(void 0!==pos.horizontal&&void 0!==pos.vertical&&this.camera.setArmRotation(pos.horizontal,pos.vertical),void 0!==pos.distance&&this.camera.setArmLength(pos.distance),this.redraw())},Graph3d.prototype.getCameraPosition=function(){var pos=this.camera.getArmRotation();return pos.distance=this.camera.getArmLength(),pos},Graph3d.prototype._readData=function(data){this._dataInitialize(data,this.style),this.dataFilter?this.dataPoints=this.dataFilter._getDataPoints():this.dataPoints=this._getDataPoints(this.dataTable),this._redrawFilter()},Graph3d.prototype.setData=function(data){this._readData(data),this.redraw(),this.animationAutoStart&&this.dataFilter&&this.animationStart()},Graph3d.prototype.setOptions=function(options){var styleNumber,cameraPosition=void 0;this.animationStop(),void 0!==options&&(void 0!==options.width&&(this.width=options.width),void 0!==options.height&&(this.height=options.height),void 0!==options.xCenter&&(this.defaultXCenter=options.xCenter),void 0!==options.yCenter&&(this.defaultYCenter=options.yCenter),void 0!==options.filterLabel&&(this.filterLabel=options.filterLabel),void 0!==options.legendLabel&&(this.legendLabel=options.legendLabel),void 0!==options.xLabel&&(this.xLabel=options.xLabel),void 0!==options.yLabel&&(this.yLabel=options.yLabel),void 0!==options.zLabel&&(this.zLabel=options.zLabel),void 0!==options.style&&-1!==(styleNumber=this._getStyleNumber(options.style))&&(this.style=styleNumber),void 0!==options.showGrid&&(this.showGrid=options.showGrid),void 0!==options.showPerspective&&(this.showPerspective=options.showPerspective),void 0!==options.showShadow&&(this.showShadow=options.showShadow),void 0!==options.tooltip&&(this.showTooltip=options.tooltip),void 0!==options.showAnimationControls&&(this.showAnimationControls=options.showAnimationControls),void 0!==options.keepAspectRatio&&(this.keepAspectRatio=options.keepAspectRatio),void 0!==options.verticalRatio&&(this.verticalRatio=options.verticalRatio),void 0!==options.animationInterval&&(this.animationInterval=options.animationInterval),void 0!==options.animationPreload&&(this.animationPreload=options.animationPreload),void 0!==options.animationAutoStart&&(this.animationAutoStart=options.animationAutoStart),void 0!==options.xBarWidth&&(this.defaultXBarWidth=options.xBarWidth),void 0!==options.yBarWidth&&(this.defaultYBarWidth=options.yBarWidth),void 0!==options.xMin&&(this.defaultXMin=options.xMin),void 0!==options.xStep&&(this.defaultXStep=options.xStep),void 0!==options.xMax&&(this.defaultXMax=options.xMax),void 0!==options.yMin&&(this.defaultYMin=options.yMin),void 0!==options.yStep&&(this.defaultYStep=options.yStep),void 0!==options.yMax&&(this.defaultYMax=options.yMax),void 0!==options.zMin&&(this.defaultZMin=options.zMin),void 0!==options.zStep&&(this.defaultZStep=options.zStep),void 0!==options.zMax&&(this.defaultZMax=options.zMax),void 0!==options.valueMin&&(this.defaultValueMin=options.valueMin),void 0!==options.valueMax&&(this.defaultValueMax=options.valueMax),void 0!==(cameraPosition=void 0!==options.cameraPosition?options.cameraPosition:cameraPosition)?(this.camera.setArmRotation(cameraPosition.horizontal,cameraPosition.vertical),this.camera.setArmLength(cameraPosition.distance)):(this.camera.setArmRotation(1,.5),this.camera.setArmLength(1.7))),this._setBackgroundColor(options&&options.backgroundColor),this.setSize(this.width,this.height),this.dataTable&&this.setData(this.dataTable),this.animationAutoStart&&this.dataFilter&&this.animationStart()},Graph3d.prototype.redraw=function(){if(void 0===this.dataPoints)throw"Error: graph data not initialized";this._resizeCanvas(),this._resizeCenter(),this._redrawSlider(),this._redrawClear(),this._redrawAxis(),this.style===Graph3d.STYLE.GRID||this.style===Graph3d.STYLE.SURFACE?this._redrawDataGrid():this.style===Graph3d.STYLE.LINE?this._redrawDataLine():this.style===Graph3d.STYLE.BAR||this.style===Graph3d.STYLE.BARCOLOR||this.style===Graph3d.STYLE.BARSIZE?this._redrawDataBar():this._redrawDataDot(),this._redrawInfo(),this._redrawLegend()},Graph3d.prototype._redrawClear=function(){var canvas=this.frame.canvas;canvas.getContext("2d").clearRect(0,0,canvas.width,canvas.height)},Graph3d.prototype._redrawLegend=function(){var widthMin,height,top,right,left,bottom;this.style!==Graph3d.STYLE.DOTCOLOR&&this.style!==Graph3d.STYLE.DOTSIZE||(dotSize=.02*this.frame.clientWidth,dotSize=this.style===Graph3d.STYLE.DOTSIZE?(widthMin=dotSize/2)+2*dotSize:widthMin=20,height=Math.max(.25*this.frame.clientHeight,100),top=this.margin,left=(right=this.frame.clientWidth-this.margin)-dotSize,bottom=top+height);var ctx=this.frame.canvas.getContext("2d");if(ctx.lineWidth=1,ctx.font="14px arial",this.style===Graph3d.STYLE.DOTCOLOR){for(var ymax=height,y=0;y<ymax;y++){var color=this._hsv2rgb(240*(+y/+ymax),1,1);ctx.strokeStyle=color,ctx.beginPath(),ctx.moveTo(left,top+y),ctx.lineTo(right,top+y),ctx.stroke()}ctx.strokeStyle=this.colorAxis,ctx.strokeRect(left,top,dotSize,height)}if(this.style===Graph3d.STYLE.DOTSIZE&&(ctx.strokeStyle=this.colorAxis,ctx.fillStyle=this.colorDot,ctx.beginPath(),ctx.moveTo(left,top),ctx.lineTo(right,top),ctx.lineTo(right-dotSize+widthMin,bottom),ctx.lineTo(left,bottom),ctx.closePath(),ctx.fill(),ctx.stroke()),this.style===Graph3d.STYLE.DOTCOLOR||this.style===Graph3d.STYLE.DOTSIZE){var step=new StepNumber(this.valueMin,this.valueMax,(this.valueMax-this.valueMin)/5,!0);for(step.start(),step.getCurrent()<this.valueMin&&step.next();!step.end();)y=bottom-(step.getCurrent()-this.valueMin)/(this.valueMax-this.valueMin)*height,ctx.beginPath(),ctx.moveTo(left-5,y),ctx.lineTo(left,y),ctx.stroke(),ctx.textAlign="right",ctx.textBaseline="middle",ctx.fillStyle=this.colorAxis,ctx.fillText(step.getCurrent(),left-10,y),step.next();ctx.textAlign="right",ctx.textBaseline="top";var dotSize=this.legendLabel;ctx.fillText(dotSize,right,bottom+this.margin)}},Graph3d.prototype._redrawFilter=function(){var options,slider,me;this.frame.filter.innerHTML="",this.dataFilter?(options={visible:this.showAnimationControls},slider=new Slider(this.frame.filter,options),this.frame.filter.slider=slider,this.frame.filter.style.padding="10px",slider.setValues(this.dataFilter.values),slider.setPlayInterval(this.animationInterval),me=this,slider.setOnChangeCallback(function(){var index=slider.getIndex();me.dataFilter.selectValue(index),me.dataPoints=me.dataFilter._getDataPoints(),me.redraw()})):this.frame.filter.slider=void 0},Graph3d.prototype._redrawSlider=function(){void 0!==this.frame.filter.slider&&this.frame.filter.slider.redraw()},Graph3d.prototype._redrawInfo=function(){var ctx,x,y;this.dataFilter&&((ctx=this.frame.canvas.getContext("2d")).font="14px arial",ctx.lineStyle="gray",ctx.fillStyle="gray",ctx.textAlign="left",ctx.textBaseline="top",x=this.margin,y=this.margin,ctx.fillText(this.dataFilter.getLabel()+": "+this.dataFilter.getSelectedValue(),x,y))},Graph3d.prototype._redrawAxis=function(){var from,to,step,text,xText,yText,ctx=this.frame.canvas.getContext("2d"),gridLenX=(ctx.font=24/this.camera.getArmLength()+"px arial",.025/this.scale.x),gridLenY=.025/this.scale.y,textMargin=5/this.camera.getArmLength(),armAngle=this.camera.getArmRotation().horizontal;for(ctx.lineWidth=1,prettyStep=void 0===this.defaultXStep,(step=new StepNumber(this.xMin,this.xMax,this.xStep,prettyStep)).start(),step.getCurrent()<this.xMin&&step.next();!step.end();){var x=step.getCurrent();this.showGrid?(from=this._convert3Dto2D(new Point3d(x,this.yMin,this.zMin)),to=this._convert3Dto2D(new Point3d(x,this.yMax,this.zMin)),ctx.strokeStyle=this.colorGrid):(from=this._convert3Dto2D(new Point3d(x,this.yMin,this.zMin)),to=this._convert3Dto2D(new Point3d(x,this.yMin+gridLenX,this.zMin)),ctx.strokeStyle=this.colorAxis,ctx.beginPath(),ctx.moveTo(from.x,from.y),ctx.lineTo(to.x,to.y),ctx.stroke(),from=this._convert3Dto2D(new Point3d(x,this.yMax,this.zMin)),to=this._convert3Dto2D(new Point3d(x,this.yMax-gridLenX,this.zMin)),ctx.strokeStyle=this.colorAxis),ctx.beginPath(),ctx.moveTo(from.x,from.y),ctx.lineTo(to.x,to.y),ctx.stroke(),yText=0<Math.cos(armAngle)?this.yMin:this.yMax,text=this._convert3Dto2D(new Point3d(x,yText,this.zMin)),0<Math.cos(2*armAngle)?(ctx.textAlign="center",ctx.textBaseline="top",text.y+=textMargin):(Math.sin(2*armAngle)<0?ctx.textAlign="right":ctx.textAlign="left",ctx.textBaseline="middle"),ctx.fillStyle=this.colorAxis,ctx.fillText("  "+step.getCurrent()+"  ",text.x,text.y),step.next()}for(ctx.lineWidth=1,prettyStep=void 0===this.defaultYStep,(step=new StepNumber(this.yMin,this.yMax,this.yStep,prettyStep)).start(),step.getCurrent()<this.yMin&&step.next();!step.end();)this.showGrid?(from=this._convert3Dto2D(new Point3d(this.xMin,step.getCurrent(),this.zMin)),to=this._convert3Dto2D(new Point3d(this.xMax,step.getCurrent(),this.zMin)),ctx.strokeStyle=this.colorGrid):(from=this._convert3Dto2D(new Point3d(this.xMin,step.getCurrent(),this.zMin)),to=this._convert3Dto2D(new Point3d(this.xMin+gridLenY,step.getCurrent(),this.zMin)),ctx.strokeStyle=this.colorAxis,ctx.beginPath(),ctx.moveTo(from.x,from.y),ctx.lineTo(to.x,to.y),ctx.stroke(),from=this._convert3Dto2D(new Point3d(this.xMax,step.getCurrent(),this.zMin)),to=this._convert3Dto2D(new Point3d(this.xMax-gridLenY,step.getCurrent(),this.zMin)),ctx.strokeStyle=this.colorAxis),ctx.beginPath(),ctx.moveTo(from.x,from.y),ctx.lineTo(to.x,to.y),ctx.stroke(),xText=0<Math.sin(armAngle)?this.xMin:this.xMax,text=this._convert3Dto2D(new Point3d(xText,step.getCurrent(),this.zMin)),Math.cos(2*armAngle)<0?(ctx.textAlign="center",ctx.textBaseline="top",text.y+=textMargin):(0<Math.sin(2*armAngle)?ctx.textAlign="right":ctx.textAlign="left",ctx.textBaseline="middle"),ctx.fillStyle=this.colorAxis,ctx.fillText("  "+step.getCurrent()+"  ",text.x,text.y),step.next();for(ctx.lineWidth=1,prettyStep=void 0===this.defaultZStep,(step=new StepNumber(this.zMin,this.zMax,this.zStep,prettyStep)).start(),step.getCurrent()<this.zMin&&step.next(),xText=0<Math.cos(armAngle)?this.xMin:this.xMax,yText=Math.sin(armAngle)<0?this.yMin:this.yMax;!step.end();)from=this._convert3Dto2D(new Point3d(xText,yText,step.getCurrent())),ctx.strokeStyle=this.colorAxis,ctx.beginPath(),ctx.moveTo(from.x,from.y),ctx.lineTo(from.x-textMargin,from.y),ctx.stroke(),ctx.textAlign="right",ctx.textBaseline="middle",ctx.fillStyle=this.colorAxis,ctx.fillText(step.getCurrent()+" ",from.x-5,from.y),step.next();ctx.lineWidth=1,from=this._convert3Dto2D(new Point3d(xText,yText,this.zMin)),to=this._convert3Dto2D(new Point3d(xText,yText,this.zMax)),ctx.strokeStyle=this.colorAxis,ctx.beginPath(),ctx.moveTo(from.x,from.y),ctx.lineTo(to.x,to.y),ctx.stroke(),ctx.lineWidth=1,prettyStep=this._convert3Dto2D(new Point3d(this.xMin,this.yMin,this.zMin)),xMax2d=this._convert3Dto2D(new Point3d(this.xMax,this.yMin,this.zMin)),ctx.strokeStyle=this.colorAxis,ctx.beginPath(),ctx.moveTo(prettyStep.x,prettyStep.y),ctx.lineTo(xMax2d.x,xMax2d.y),ctx.stroke(),prettyStep=this._convert3Dto2D(new Point3d(this.xMin,this.yMax,this.zMin)),xMax2d=this._convert3Dto2D(new Point3d(this.xMax,this.yMax,this.zMin)),ctx.strokeStyle=this.colorAxis,ctx.beginPath(),ctx.moveTo(prettyStep.x,prettyStep.y),ctx.lineTo(xMax2d.x,xMax2d.y),ctx.stroke(),ctx.lineWidth=1,from=this._convert3Dto2D(new Point3d(this.xMin,this.yMin,this.zMin)),to=this._convert3Dto2D(new Point3d(this.xMin,this.yMax,this.zMin)),ctx.strokeStyle=this.colorAxis,ctx.beginPath(),ctx.moveTo(from.x,from.y),ctx.lineTo(to.x,to.y),ctx.stroke(),from=this._convert3Dto2D(new Point3d(this.xMax,this.yMin,this.zMin)),to=this._convert3Dto2D(new Point3d(this.xMax,this.yMax,this.zMin)),ctx.strokeStyle=this.colorAxis,ctx.beginPath(),ctx.moveTo(from.x,from.y),ctx.lineTo(to.x,to.y),ctx.stroke();var prettyStep=this.xLabel,xMax2d=(0<prettyStep.length&&(xMax2d=.1/this.scale.y,xText=(this.xMin+this.xMax)/2,yText=0<Math.cos(armAngle)?this.yMin-xMax2d:this.yMax+xMax2d,text=this._convert3Dto2D(new Point3d(xText,yText,this.zMin)),0<Math.cos(2*armAngle)?(ctx.textAlign="center",ctx.textBaseline="top"):(Math.sin(2*armAngle)<0?ctx.textAlign="right":ctx.textAlign="left",ctx.textBaseline="middle"),ctx.fillStyle=this.colorAxis,ctx.fillText(prettyStep,text.x,text.y)),this.yLabel),prettyStep=(0<xMax2d.length&&(prettyStep=.1/this.scale.x,xText=0<Math.sin(armAngle)?this.xMin-prettyStep:this.xMax+prettyStep,yText=(this.yMin+this.yMax)/2,text=this._convert3Dto2D(new Point3d(xText,yText,this.zMin)),Math.cos(2*armAngle)<0?(ctx.textAlign="center",ctx.textBaseline="top"):(0<Math.sin(2*armAngle)?ctx.textAlign="right":ctx.textAlign="left",ctx.textBaseline="middle"),ctx.fillStyle=this.colorAxis,ctx.fillText(xMax2d,text.x,text.y)),this.zLabel);0<prettyStep.length&&(xText=0<Math.cos(armAngle)?this.xMin:this.xMax,yText=Math.sin(armAngle)<0?this.yMin:this.yMax,xMax2d=(this.zMin+this.zMax)/2,text=this._convert3Dto2D(new Point3d(xText,yText,xMax2d)),ctx.textAlign="right",ctx.textBaseline="middle",ctx.fillStyle=this.colorAxis,ctx.fillText(prettyStep,text.x-30,text.y))},Graph3d.prototype._hsv2rgb=function(H,S,V){var R,G,B,C=V*S,V=Math.floor(H/60),X=C*(1-Math.abs(H/60%2-1));switch(V){case 0:R=C,G=X,B=0;break;case 1:R=X,G=C,B=0;break;case 2:R=0,G=C,B=X;break;case 3:R=0,G=X,B=C;break;case 4:R=X,G=0,B=C;break;case 5:R=C,G=0,B=X;break;default:B=G=R=0}return"RGB("+parseInt(255*R)+","+parseInt(255*G)+","+parseInt(255*B)+")"},Graph3d.prototype._redrawDataGrid=function(){var i,fillStyle,lineWidth,h,v,ctx=this.frame.canvas.getContext("2d");if(!(void 0===this.dataPoints||this.dataPoints.length<=0)){for(i=0;i<this.dataPoints.length;i++){var trans=this._convertPointToTranslation(this.dataPoints[i].point),screen=this._convertTranslationToScreen(trans),trans=(this.dataPoints[i].trans=trans,this.dataPoints[i].screen=screen,this._convertPointToTranslation(this.dataPoints[i].bottom));this.dataPoints[i].dist=this.showPerspective?trans.length():-trans.z}if(this.dataPoints.sort(function(a,b){return b.dist-a.dist}),this.style===Graph3d.STYLE.SURFACE)for(i=0;i<this.dataPoints.length;i++){var aDiff,bDiff,strokeStyle,point=this.dataPoints[i],right=this.dataPoints[i].pointRight,top=this.dataPoints[i].pointTop,cross=this.dataPoints[i].pointCross;void 0!==point&&void 0!==right&&void 0!==top&&void 0!==cross&&(strokeStyle=!this.showGrayBottom&&!this.showShadow||(aDiff=Point3d.subtract(cross.trans,point.trans),bDiff=Point3d.subtract(top.trans,right.trans),bDiff=(aDiff=Point3d.crossProduct(aDiff,bDiff)).length(),0<aDiff.z)?(h=240*(1-((point.point.z+right.point.z+top.point.z+cross.point.z)/4-this.zMin)*this.scale.z/this.verticalRatio),this.showShadow?(v=Math.min(1+aDiff.x/bDiff/2,1),fillStyle=this._hsv2rgb(h,1,v)):(fillStyle=this._hsv2rgb(h,v=1,v),this.colorAxis)):(fillStyle="gray",this.colorAxis),ctx.lineWidth=lineWidth=.5,ctx.fillStyle=fillStyle,ctx.strokeStyle=strokeStyle,ctx.beginPath(),ctx.moveTo(point.screen.x,point.screen.y),ctx.lineTo(right.screen.x,right.screen.y),ctx.lineTo(cross.screen.x,cross.screen.y),ctx.lineTo(top.screen.x,top.screen.y),ctx.closePath(),ctx.fill(),ctx.stroke())}else for(i=0;i<this.dataPoints.length;i++)point=this.dataPoints[i],right=this.dataPoints[i].pointRight,top=this.dataPoints[i].pointTop,void 0!==point&&(lineWidth=this.showPerspective?2/-point.trans.z:2*-(this.eye.z/this.camera.getArmLength())),void 0!==point&&void 0!==right&&(h=240*(1-((point.point.z+right.point.z)/2-this.zMin)*this.scale.z/this.verticalRatio),ctx.lineWidth=lineWidth,ctx.strokeStyle=this._hsv2rgb(h,1,1),ctx.beginPath(),ctx.moveTo(point.screen.x,point.screen.y),ctx.lineTo(right.screen.x,right.screen.y),ctx.stroke()),void 0!==point&&void 0!==top&&(h=240*(1-((point.point.z+top.point.z)/2-this.zMin)*this.scale.z/this.verticalRatio),ctx.lineWidth=lineWidth,ctx.strokeStyle=this._hsv2rgb(h,1,1),ctx.beginPath(),ctx.moveTo(point.screen.x,point.screen.y),ctx.lineTo(top.screen.x,top.screen.y),ctx.stroke())}},Graph3d.prototype._redrawDataDot=function(){var ctx=this.frame.canvas.getContext("2d");if(!(void 0===this.dataPoints||this.dataPoints.length<=0)){for(i=0;i<this.dataPoints.length;i++){var trans=this._convertPointToTranslation(this.dataPoints[i].point),screen=this._convertTranslationToScreen(trans),trans=(this.dataPoints[i].trans=trans,this.dataPoints[i].screen=screen,this._convertPointToTranslation(this.dataPoints[i].bottom));this.dataPoints[i].dist=this.showPerspective?trans.length():-trans.z}this.dataPoints.sort(function(a,b){return b.dist-a.dist});for(var dotSize=.02*this.frame.clientWidth,i=0;i<this.dataPoints.length;i++){var from,radius,hue,color,borderColor,point=this.dataPoints[i];this.style===Graph3d.STYLE.DOTLINE&&(from=this._convert3Dto2D(point.bottom),ctx.lineWidth=1,ctx.strokeStyle=this.colorGrid,ctx.beginPath(),ctx.moveTo(from.x,from.y),ctx.lineTo(point.screen.x,point.screen.y),ctx.stroke()),from=this.style===Graph3d.STYLE.DOTSIZE?dotSize/2+2*dotSize*(point.point.value-this.valueMin)/(this.valueMax-this.valueMin):dotSize,(radius=this.showPerspective?from/-point.trans.z:from*-(this.eye.z/this.camera.getArmLength()))<0&&(radius=0),borderColor=this.style===Graph3d.STYLE.DOTCOLOR?(hue=240*(1-(point.point.value-this.valueMin)*this.scale.value),color=this._hsv2rgb(hue,1,1),this._hsv2rgb(hue,1,.8)):this.style===Graph3d.STYLE.DOTSIZE?(color=this.colorDot,this.colorDotBorder):(hue=240*(1-(point.point.z-this.zMin)*this.scale.z/this.verticalRatio),color=this._hsv2rgb(hue,1,1),this._hsv2rgb(hue,1,.8)),ctx.lineWidth=1,ctx.strokeStyle=borderColor,ctx.fillStyle=color,ctx.beginPath(),ctx.arc(point.screen.x,point.screen.y,radius,0,2*Math.PI,!0),ctx.fill(),ctx.stroke()}}},Graph3d.prototype._redrawDataBar=function(){var j,corners,ctx=this.frame.canvas.getContext("2d");if(!(void 0===this.dataPoints||this.dataPoints.length<=0)){for(i=0;i<this.dataPoints.length;i++){var trans=this._convertPointToTranslation(this.dataPoints[i].point),screen=this._convertTranslationToScreen(trans),trans=(this.dataPoints[i].trans=trans,this.dataPoints[i].screen=screen,this._convertPointToTranslation(this.dataPoints[i].bottom));this.dataPoints[i].dist=this.showPerspective?trans.length():-trans.z}this.dataPoints.sort(function(a,b){return b.dist-a.dist});for(var xWidth=this.xBarWidth/2,yWidth=this.yBarWidth/2,i=0;i<this.dataPoints.length;i++){var hue,color,point=this.dataPoints[i],borderColor=this.style===Graph3d.STYLE.BARCOLOR?(hue=240*(1-(point.point.value-this.valueMin)*this.scale.value),color=this._hsv2rgb(hue,1,1),this._hsv2rgb(hue,1,.8)):this.style===Graph3d.STYLE.BARSIZE?(color=this.colorDot,this.colorDotBorder):(hue=240*(1-(point.point.z-this.zMin)*this.scale.z/this.verticalRatio),color=this._hsv2rgb(hue,1,1),this._hsv2rgb(hue,1,.8)),me=(this.style===Graph3d.STYLE.BARSIZE&&(xWidth=this.xBarWidth/2*((point.point.value-this.valueMin)/(this.valueMax-this.valueMin)*.8+.2),yWidth=this.yBarWidth/2*((point.point.value-this.valueMin)/(this.valueMax-this.valueMin)*.8+.2)),this),point3d=point.point,top=[{point:new Point3d(point3d.x-xWidth,point3d.y-yWidth,point3d.z)},{point:new Point3d(point3d.x+xWidth,point3d.y-yWidth,point3d.z)},{point:new Point3d(point3d.x+xWidth,point3d.y+yWidth,point3d.z)},{point:new Point3d(point3d.x-xWidth,point3d.y+yWidth,point3d.z)}],point3d=[{point:new Point3d(point3d.x-xWidth,point3d.y-yWidth,this.zMin)},{point:new Point3d(point3d.x+xWidth,point3d.y-yWidth,this.zMin)},{point:new Point3d(point3d.x+xWidth,point3d.y+yWidth,this.zMin)},{point:new Point3d(point3d.x-xWidth,point3d.y+yWidth,this.zMin)}],surfaces=(top.forEach(function(obj){obj.screen=me._convert3Dto2D(obj.point)}),point3d.forEach(function(obj){obj.screen=me._convert3Dto2D(obj.point)}),[{corners:top,center:Point3d.avg(point3d[0].point,point3d[2].point)},{corners:[top[0],top[1],point3d[1],point3d[0]],center:Point3d.avg(point3d[1].point,point3d[0].point)},{corners:[top[1],top[2],point3d[2],point3d[1]],center:Point3d.avg(point3d[2].point,point3d[1].point)},{corners:[top[2],top[3],point3d[3],point3d[2]],center:Point3d.avg(point3d[3].point,point3d[2].point)},{corners:[top[3],top[0],point3d[0],point3d[3]],center:Point3d.avg(point3d[0].point,point3d[3].point)}]);for(point.surfaces=surfaces,j=0;j<surfaces.length;j++){var surface=surfaces[j],transCenter=this._convertPointToTranslation(surface.center);surface.dist=this.showPerspective?transCenter.length():-transCenter.z}for(surfaces.sort(function(a,b){var diff=b.dist-a.dist;return diff||(a.corners===top?1:b.corners===top?-1:0)}),ctx.lineWidth=1,ctx.strokeStyle=borderColor,ctx.fillStyle=color,j=2;j<surfaces.length;j++)corners=(surface=surfaces[j]).corners,ctx.beginPath(),ctx.moveTo(corners[3].screen.x,corners[3].screen.y),ctx.lineTo(corners[0].screen.x,corners[0].screen.y),ctx.lineTo(corners[1].screen.x,corners[1].screen.y),ctx.lineTo(corners[2].screen.x,corners[2].screen.y),ctx.lineTo(corners[3].screen.x,corners[3].screen.y),ctx.fill(),ctx.stroke()}}},Graph3d.prototype._redrawDataLine=function(){var point,i,ctx=this.frame.canvas.getContext("2d");if(!(void 0===this.dataPoints||this.dataPoints.length<=0)){for(i=0;i<this.dataPoints.length;i++){var trans=this._convertPointToTranslation(this.dataPoints[i].point),screen=this._convertTranslationToScreen(trans);this.dataPoints[i].trans=trans,this.dataPoints[i].screen=screen}for(0<this.dataPoints.length&&(point=this.dataPoints[0],ctx.lineWidth=1,ctx.strokeStyle="blue",ctx.beginPath(),ctx.moveTo(point.screen.x,point.screen.y)),i=1;i<this.dataPoints.length;i++)point=this.dataPoints[i],ctx.lineTo(point.screen.x,point.screen.y);0<this.dataPoints.length&&ctx.stroke()}},Graph3d.prototype._onMouseDown=function(event){var me;event=event||window.event,this.leftButtonDown&&this._onMouseUp(event),this.leftButtonDown=event.which?1===event.which:1===event.button,(this.leftButtonDown||this.touchDown)&&(this.startMouseX=getMouseX(event),this.startMouseY=getMouseY(event),this.startStart=new Date(this.start),this.startEnd=new Date(this.end),this.startArmRotation=this.camera.getArmRotation(),this.frame.style.cursor="move",(me=this).onmousemove=function(event){me._onMouseMove(event)},this.onmouseup=function(event){me._onMouseUp(event)},util.addEventListener(document,"mousemove",me.onmousemove),util.addEventListener(document,"mouseup",me.onmouseup),util.preventDefault(event))},Graph3d.prototype._onMouseMove=function(event){event=event||window.event;var diffX=parseFloat(getMouseX(event))-this.startMouseX,diffY=parseFloat(getMouseY(event))-this.startMouseY,diffX=this.startArmRotation.horizontal+diffX/200,diffY=this.startArmRotation.vertical+diffY/200,snapValue=Math.sin(4/360*2*Math.PI),snapValue=(Math.abs(Math.sin(diffX))<snapValue&&(diffX=Math.round(diffX/Math.PI)*Math.PI-.001),Math.abs(Math.cos(diffX))<snapValue&&(diffX=(Math.round(diffX/Math.PI-.5)+.5)*Math.PI-.001),Math.abs(Math.sin(diffY))<snapValue&&(diffY=Math.round(diffY/Math.PI)*Math.PI),Math.abs(Math.cos(diffY))<snapValue&&(diffY=(Math.round(diffY/Math.PI-.5)+.5)*Math.PI),this.camera.setArmRotation(diffX,diffY),this.redraw(),this.getCameraPosition());this.emit("cameraPositionChange",snapValue),util.preventDefault(event)},Graph3d.prototype._onMouseUp=function(event){this.frame.style.cursor="auto",this.leftButtonDown=!1,util.removeEventListener(document,"mousemove",this.onmousemove),util.removeEventListener(document,"mouseup",this.onmouseup),util.preventDefault(event)},Graph3d.prototype._onTooltip=function(event){var me,mouseX=getMouseX(event)-util.getAbsoluteLeft(this.frame),mouseY=getMouseY(event)-util.getAbsoluteTop(this.frame);this.showTooltip&&(this.tooltipTimeout&&clearTimeout(this.tooltipTimeout),this.leftButtonDown?this._hideTooltip():this.tooltip&&this.tooltip.dataPoint?(event=this._dataPointFromXY(mouseX,mouseY))!==this.tooltip.dataPoint&&(event?this._showTooltip(event):this._hideTooltip()):(me=this).tooltipTimeout=setTimeout(function(){me.tooltipTimeout=null;var dataPoint=me._dataPointFromXY(mouseX,mouseY);dataPoint&&me._showTooltip(dataPoint)},300))},Graph3d.prototype._onTouchStart=function(event){this.touchDown=!0;var me=this;this.ontouchmove=function(event){me._onTouchMove(event)},this.ontouchend=function(event){me._onTouchEnd(event)},util.addEventListener(document,"touchmove",me.ontouchmove),util.addEventListener(document,"touchend",me.ontouchend),this._onMouseDown(event)},Graph3d.prototype._onTouchMove=function(event){this._onMouseMove(event)},Graph3d.prototype._onTouchEnd=function(event){this.touchDown=!1,util.removeEventListener(document,"touchmove",this.ontouchmove),util.removeEventListener(document,"touchend",this.ontouchend),this._onMouseUp(event)},Graph3d.prototype._onWheel=function(event){var delta=0,oldLength=((event=event||window.event).wheelDelta?delta=event.wheelDelta/120:event.detail&&(delta=-event.detail/3),delta&&(oldLength=this.camera.getArmLength(),this.camera.setArmLength(oldLength*(1-delta/10)),this.redraw(),this._hideTooltip()),this.getCameraPosition());this.emit("cameraPositionChange",oldLength),util.preventDefault(event)},Graph3d.prototype._insideTriangle=function(point,triangle){var a=triangle[0],b=triangle[1],triangle=triangle[2];function sign(x){return 0<x?1:x<0?-1:0}var as=sign((b.x-a.x)*(point.y-a.y)-(b.y-a.y)*(point.x-a.x)),b=sign((triangle.x-b.x)*(point.y-b.y)-(triangle.y-b.y)*(point.x-b.x)),a=sign((a.x-triangle.x)*(point.y-triangle.y)-(a.y-triangle.y)*(point.x-triangle.x));return!(0!=as&&0!=b&&as!=b||0!=b&&0!=a&&b!=a||0!=as&&0!=a&&as!=a)},Graph3d.prototype._dataPointFromXY=function(x,y){var i,dataPoint=null,closestDataPoint=null,closestDist=null,center=new Point2d(x,y);if(this.style===Graph3d.STYLE.BAR||this.style===Graph3d.STYLE.BARCOLOR||this.style===Graph3d.STYLE.BARSIZE)for(i=this.dataPoints.length-1;0<=i;i--){var surfaces=(dataPoint=this.dataPoints[i]).surfaces;if(surfaces)for(var s=surfaces.length-1;0<=s;s--){var corners=surfaces[s].corners,triangle1=[corners[0].screen,corners[1].screen,corners[2].screen],corners=[corners[2].screen,corners[3].screen,corners[0].screen];if(this._insideTriangle(center,triangle1)||this._insideTriangle(center,corners))return dataPoint}}else for(i=0;i<this.dataPoints.length;i++){var distX,point=(dataPoint=this.dataPoints[i]).screen;point&&(distX=Math.abs(x-point.x),point=Math.abs(y-point.y),distX=Math.sqrt(distX*distX+point*point),null===closestDist||distX<closestDist)&&distX<100&&(closestDist=distX,closestDataPoint=dataPoint)}return closestDataPoint},Graph3d.prototype._showTooltip=function(dataPoint){this.tooltip?(content=this.tooltip.dom.content,line=this.tooltip.dom.line,dot=this.tooltip.dom.dot):((content=document.createElement("div")).style.position="absolute",content.style.padding="10px",content.style.border="1px solid #4d4d4d",content.style.color="#1a1a1a",content.style.background="rgba(255,255,255,0.7)",content.style.borderRadius="2px",content.style.boxShadow="5px 5px 10px rgba(128,128,128,0.5)",(line=document.createElement("div")).style.position="absolute",line.style.height="40px",line.style.width="0",line.style.borderLeft="1px solid #4d4d4d",(dot=document.createElement("div")).style.position="absolute",dot.style.height="0",dot.style.width="0",dot.style.border="5px solid #4d4d4d",dot.style.borderRadius="5px",this.tooltip={dataPoint:null,dom:{content:content,line:line,dot:dot}}),this._hideTooltip(),this.tooltip.dataPoint=dataPoint,"function"==typeof this.showTooltip?content.innerHTML=this.showTooltip(dataPoint.point):content.innerHTML="<table><tr><td>x:</td><td>"+dataPoint.point.x+"</td></tr><tr><td>y:</td><td>"+dataPoint.point.y+"</td></tr><tr><td>z:</td><td>"+dataPoint.point.z+"</td></tr></table>",content.style.left="0",content.style.top="0",this.frame.appendChild(content),this.frame.appendChild(line),this.frame.appendChild(dot);var content,line,dot,contentWidth=content.offsetWidth,contentHeight=content.offsetHeight,lineHeight=line.offsetHeight,dotWidth=dot.offsetWidth,dotHeight=dot.offsetHeight,left=dataPoint.screen.x-contentWidth/2,left=Math.min(Math.max(left,10),this.frame.clientWidth-10-contentWidth);line.style.left=dataPoint.screen.x+"px",line.style.top=dataPoint.screen.y-lineHeight+"px",content.style.left=left+"px",content.style.top=dataPoint.screen.y-lineHeight-contentHeight+"px",dot.style.left=dataPoint.screen.x-dotWidth/2+"px",dot.style.top=dataPoint.screen.y-dotHeight/2+"px"},Graph3d.prototype._hideTooltip=function(){if(this.tooltip)for(var prop in this.tooltip.dataPoint=null,this.tooltip.dom)this.tooltip.dom.hasOwnProperty(prop)&&(prop=this.tooltip.dom[prop])&&prop.parentNode&&prop.parentNode.removeChild(prop)},getMouseX=function(event){return"clientX"in event?event.clientX:event.targetTouches[0]&&event.targetTouches[0].clientX||0},getMouseY=function(event){return"clientY"in event?event.clientY:event.targetTouches[0]&&event.targetTouches[0].clientY||0},module.exports=Graph3d},function(module,exports,__webpack_require__){var Point3d=__webpack_require__(9);(Camera=function(){this.armLocation=new Point3d,this.armRotation={},this.armRotation.horizontal=0,this.armRotation.vertical=0,this.armLength=1.7,this.cameraLocation=new Point3d,this.cameraRotation=new Point3d(.5*Math.PI,0,0),this.calculateCameraOrientation()}).prototype.setArmLocation=function(x,y,z){this.armLocation.x=x,this.armLocation.y=y,this.armLocation.z=z,this.calculateCameraOrientation()},Camera.prototype.setArmRotation=function(horizontal,vertical){void 0!==horizontal&&(this.armRotation.horizontal=horizontal),void 0!==vertical&&(this.armRotation.vertical=vertical,this.armRotation.vertical<0&&(this.armRotation.vertical=0),this.armRotation.vertical>.5*Math.PI)&&(this.armRotation.vertical=.5*Math.PI),void 0===horizontal&&void 0===vertical||this.calculateCameraOrientation()},Camera.prototype.getArmRotation=function(){var rot={};return rot.horizontal=this.armRotation.horizontal,rot.vertical=this.armRotation.vertical,rot},Camera.prototype.setArmLength=function(length){void 0!==length&&(this.armLength=length,this.armLength<.71&&(this.armLength=.71),5<this.armLength&&(this.armLength=5),this.calculateCameraOrientation())},Camera.prototype.getArmLength=function(){return this.armLength},Camera.prototype.getCameraLocation=function(){return this.cameraLocation},Camera.prototype.getCameraRotation=function(){return this.cameraRotation},Camera.prototype.calculateCameraOrientation=function(){this.cameraLocation.x=this.armLocation.x-this.armLength*Math.sin(this.armRotation.horizontal)*Math.cos(this.armRotation.vertical),this.cameraLocation.y=this.armLocation.y-this.armLength*Math.cos(this.armRotation.horizontal)*Math.cos(this.armRotation.vertical),this.cameraLocation.z=this.armLocation.z+this.armLength*Math.sin(this.armRotation.vertical),this.cameraRotation.x=Math.PI/2-this.armRotation.vertical,this.cameraRotation.y=0,this.cameraRotation.z=-this.armRotation.horizontal},module.exports=Camera},function(module,exports,__webpack_require__){var DataView=__webpack_require__(4);function Filter(data,column,graph){this.data=data,this.column=column,this.graph=graph,this.index=void 0,this.value=void 0,this.values=graph.getDistinctValues(data.get(),this.column),this.values.sort(function(a,b){return b<a?1:a<b?-1:0}),0<this.values.length&&this.selectValue(0),this.dataPoints=[],this.loaded=!1,this.onLoadCallback=void 0,graph.animationPreload?(this.loaded=!1,this.loadInBackground()):this.loaded=!0}Filter.prototype.isLoaded=function(){return this.loaded},Filter.prototype.getLoadedProgress=function(){for(var len=this.values.length,i=0;this.dataPoints[i];)i++;return Math.round(i/len*100)},Filter.prototype.getLabel=function(){return this.graph.filterLabel},Filter.prototype.getColumn=function(){return this.column},Filter.prototype.getSelectedValue=function(){if(void 0!==this.index)return this.values[this.index]},Filter.prototype.getValues=function(){return this.values},Filter.prototype.getValue=function(index){if(index>=this.values.length)throw"Error: index out of range";return this.values[index]},Filter.prototype._getDataPoints=function(index){var f,dataView,dataPoints;return void 0===(index=void 0===index?this.index:index)?[]:(this.dataPoints[index]?dataPoints=this.dataPoints[index]:((f={}).column=this.column,f.value=this.values[index],dataView=new DataView(this.data,{filter:function(item){return item[f.column]==f.value}}).get(),dataPoints=this.graph._getDataPoints(dataView),this.dataPoints[index]=dataPoints),dataPoints)},Filter.prototype.setOnLoadCallback=function(callback){this.onLoadCallback=callback},Filter.prototype.selectValue=function(index){if(index>=this.values.length)throw"Error: index out of range";this.index=index,this.value=this.values[index]},Filter.prototype.loadInBackground=function(index){void 0===index&&(index=0);var progress,me,frame=this.graph.frame;index<this.values.length?(this._getDataPoints(index),void 0===frame.progress&&(frame.progress=document.createElement("DIV"),frame.progress.style.position="absolute",frame.progress.style.color="gray",frame.appendChild(frame.progress)),progress=this.getLoadedProgress(),frame.progress.innerHTML="Loading animation... "+progress+"%",frame.progress.style.bottom="60px",frame.progress.style.left="10px",me=this,setTimeout(function(){me.loadInBackground(index+1)},10),this.loaded=!1):(this.loaded=!0,void 0!==frame.progress&&(frame.removeChild(frame.progress),frame.progress=void 0),this.onLoadCallback&&this.onLoadCallback())},module.exports=Filter},function(module,exports,__webpack_require__){Point2d=function(x,y){this.x=void 0!==x?x:0,this.y=void 0!==y?y:0},module.exports=Point2d},function(module,exports,__webpack_require__){function Point3d(x,y,z){this.x=void 0!==x?x:0,this.y=void 0!==y?y:0,this.z=void 0!==z?z:0}Point3d.subtract=function(a,b){var sub=new Point3d;return sub.x=a.x-b.x,sub.y=a.y-b.y,sub.z=a.z-b.z,sub},Point3d.add=function(a,b){var sum=new Point3d;return sum.x=a.x+b.x,sum.y=a.y+b.y,sum.z=a.z+b.z,sum},Point3d.avg=function(a,b){return new Point3d((a.x+b.x)/2,(a.y+b.y)/2,(a.z+b.z)/2)},Point3d.crossProduct=function(a,b){var crossproduct=new Point3d;return crossproduct.x=a.y*b.z-a.z*b.y,crossproduct.y=a.z*b.x-a.x*b.z,crossproduct.z=a.x*b.y-a.y*b.x,crossproduct},Point3d.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},module.exports=Point3d},function(module,exports,__webpack_require__){var util=__webpack_require__(1);function Slider(container,options){if(void 0===container)throw"Error: No container element defined";var me;this.container=container,this.visible=!options||null==options.visible||options.visible,this.visible&&(this.frame=document.createElement("DIV"),this.frame.style.width="100%",this.frame.style.position="relative",this.container.appendChild(this.frame),this.frame.prev=document.createElement("INPUT"),this.frame.prev.type="BUTTON",this.frame.prev.value="Prev",this.frame.appendChild(this.frame.prev),this.frame.play=document.createElement("INPUT"),this.frame.play.type="BUTTON",this.frame.play.value="Play",this.frame.appendChild(this.frame.play),this.frame.next=document.createElement("INPUT"),this.frame.next.type="BUTTON",this.frame.next.value="Next",this.frame.appendChild(this.frame.next),this.frame.bar=document.createElement("INPUT"),this.frame.bar.type="BUTTON",this.frame.bar.style.position="absolute",this.frame.bar.style.border="1px solid red",this.frame.bar.style.width="100px",this.frame.bar.style.height="6px",this.frame.bar.style.borderRadius="2px",this.frame.bar.style.MozBorderRadius="2px",this.frame.bar.style.border="1px solid #7F7F7F",this.frame.bar.style.backgroundColor="#E5E5E5",this.frame.appendChild(this.frame.bar),this.frame.slide=document.createElement("INPUT"),this.frame.slide.type="BUTTON",this.frame.slide.style.margin="0px",this.frame.slide.value=" ",this.frame.slide.style.position="relative",this.frame.slide.style.left="-100px",this.frame.appendChild(this.frame.slide),(me=this).frame.slide.onmousedown=function(event){me._onMouseDown(event)},this.frame.prev.onclick=function(event){me.prev(event)},this.frame.play.onclick=function(event){me.togglePlay(event)},this.frame.next.onclick=function(event){me.next(event)}),this.onChangeCallback=void 0,this.values=[],this.index=void 0,this.playTimeout=void 0,this.playInterval=1e3,this.playLoop=!0}Slider.prototype.prev=function(){var index=this.getIndex();0<index&&this.setIndex(--index)},Slider.prototype.next=function(){var index=this.getIndex();index<this.values.length-1&&this.setIndex(++index)},Slider.prototype.playNext=function(){var start=new Date,index=this.getIndex(),index=(index<this.values.length-1?this.setIndex(++index):this.playLoop&&this.setIndex(index=0),new Date),index=Math.max(this.playInterval-(index-start),0),me=this;this.playTimeout=setTimeout(function(){me.playNext()},index)},Slider.prototype.togglePlay=function(){void 0===this.playTimeout?this.play():this.stop()},Slider.prototype.play=function(){this.playTimeout||(this.playNext(),this.frame&&(this.frame.play.value="Stop"))},Slider.prototype.stop=function(){clearInterval(this.playTimeout),this.playTimeout=void 0,this.frame&&(this.frame.play.value="Play")},Slider.prototype.setOnChangeCallback=function(callback){this.onChangeCallback=callback},Slider.prototype.setPlayInterval=function(interval){this.playInterval=interval},Slider.prototype.getPlayInterval=function(interval){return this.playInterval},Slider.prototype.setPlayLoop=function(doLoop){this.playLoop=doLoop},Slider.prototype.onChange=function(){void 0!==this.onChangeCallback&&this.onChangeCallback()},Slider.prototype.redraw=function(){var left;this.frame&&(this.frame.bar.style.top=this.frame.clientHeight/2-this.frame.bar.offsetHeight/2+"px",this.frame.bar.style.width=this.frame.clientWidth-this.frame.prev.clientWidth-this.frame.play.clientWidth-this.frame.next.clientWidth-30+"px",left=this.indexToLeft(this.index),this.frame.slide.style.left=left+"px")},Slider.prototype.setValues=function(values){this.values=values,0<this.values.length?this.setIndex(0):this.index=void 0},Slider.prototype.setIndex=function(index){if(!(index<this.values.length))throw"Error: index out of range";this.index=index,this.redraw(),this.onChange()},Slider.prototype.getIndex=function(){return this.index},Slider.prototype.get=function(){return this.values[this.index]},Slider.prototype._onMouseDown=function(event){var me;(event.which?1===event.which:1===event.button)&&(this.startClientX=event.clientX,this.startSlideX=parseFloat(this.frame.slide.style.left),this.frame.style.cursor="move",(me=this).onmousemove=function(event){me._onMouseMove(event)},this.onmouseup=function(event){me._onMouseUp(event)},util.addEventListener(document,"mousemove",this.onmousemove),util.addEventListener(document,"mouseup",this.onmouseup),util.preventDefault(event))},Slider.prototype.leftToIndex=function(left){var width=parseFloat(this.frame.bar.style.width)-this.frame.slide.clientWidth-10,left=Math.round((left-3)/width*(this.values.length-1));return left=(left=left<0?0:left)>this.values.length-1?this.values.length-1:left},Slider.prototype.indexToLeft=function(index){var width=parseFloat(this.frame.bar.style.width)-this.frame.slide.clientWidth-10;return 3+index/(this.values.length-1)*width},Slider.prototype._onMouseMove=function(event){event=event.clientX-this.startClientX,event=this.startSlideX+event,event=this.leftToIndex(event);this.setIndex(event),util.preventDefault()},Slider.prototype._onMouseUp=function(event){this.frame.style.cursor="auto",util.removeEventListener(document,"mousemove",this.onmousemove),util.removeEventListener(document,"mouseup",this.onmouseup),util.preventDefault()},module.exports=Slider},function(module,exports,__webpack_require__){function StepNumber(start,end,step,prettyStep){this._start=0,this._end=0,this._step=1,this.prettyStep=!0,this.precision=5,this._current=0,this.setRange(start,end,step,prettyStep)}StepNumber.prototype.setRange=function(start,end,step,prettyStep){this._start=start||0,this._end=end||0,this.setStep(step,prettyStep)},StepNumber.prototype.setStep=function(step,prettyStep){void 0===step||step<=0||(void 0!==prettyStep&&(this.prettyStep=prettyStep),!0===this.prettyStep?this._step=StepNumber.calculatePrettyStep(step):this._step=step)},StepNumber.calculatePrettyStep=function(step){function log10(x){return Math.log(x)/Math.LN10}var step1=Math.pow(10,Math.round(log10(step))),step2=2*Math.pow(10,Math.round(log10(step/2))),step5=5*Math.pow(10,Math.round(log10(step/5)));return Math.abs(step2-step)<=Math.abs(step1-step)&&(step1=step2),step1=(step1=Math.abs(step5-step)<=Math.abs(step1-step)?step5:step1)<=0?1:step1},StepNumber.prototype.getCurrent=function(){return parseFloat(this._current.toPrecision(this.precision))},StepNumber.prototype.getStep=function(){return this._step},StepNumber.prototype.start=function(){this._current=this._start-this._start%this._step},StepNumber.prototype.next=function(){this._current+=this._step},StepNumber.prototype.end=function(){return this._current>this._end},module.exports=StepNumber},function(module,exports,__webpack_require__){__webpack_require__(46),__webpack_require__(41);var util=__webpack_require__(1),DataSet=__webpack_require__(3),DataView=__webpack_require__(4),Range=__webpack_require__(15),Core=__webpack_require__(42),TimeAxis=__webpack_require__(27),CurrentTime=__webpack_require__(19),CustomTime=__webpack_require__(20),ItemSet=__webpack_require__(24);function Timeline(container,items,options){for(var coreProp in Core.prototype)Core.prototype.hasOwnProperty(coreProp)&&!Timeline.prototype.hasOwnProperty(coreProp)&&(Timeline.prototype[coreProp]=Core.prototype[coreProp]);if(!(this instanceof Timeline))throw new SyntaxError("Constructor must be called with the new operator");var me=this;this.defaultOptions={start:null,end:null,autoResize:!0,orientation:"bottom",width:null,height:null,maxHeight:null,minHeight:null},this.options=util.deepExtend({},this.defaultOptions),this._create(container),this.components=[],this.body={dom:this.dom,domProps:this.props,emitter:{on:this.on.bind(this),off:this.off.bind(this),emit:this.emit.bind(this)},util:{snap:null,toScreen:me._toScreen.bind(me),toGlobalScreen:me._toGlobalScreen.bind(me),toTime:me._toTime.bind(me),toGlobalTime:me._toGlobalTime.bind(me)}},this.range=new Range(this.body),this.components.push(this.range),this.body.range=this.range,this.timeAxis=new TimeAxis(this.body),this.components.push(this.timeAxis),this.body.util.snap=this.timeAxis.snap.bind(this.timeAxis),this.currentTime=new CurrentTime(this.body),this.components.push(this.currentTime),this.customTime=new CustomTime(this.body),this.components.push(this.customTime),this.itemSet=new ItemSet(this.body),this.components.push(this.itemSet),this.itemsData=null,this.groupsData=null,options&&this.setOptions(options),items?this.setItems(items):this.redraw()}Timeline.prototype.setOptions=function(options){if(options&&(util.selectiveExtend(["width","height","minHeight","maxHeight","autoResize","start","end","orientation"],this.options,options),this._initAutoResize()),this.components.forEach(function(component){component.setOptions(options)}),options&&options.order)throw new Error("Option order is deprecated. There is no replacement for this feature.");this.redraw()},Timeline.prototype.setItems=function(items){var initialLoad=null==this.itemsData,items=items?items instanceof DataSet||items instanceof DataView?items:new DataSet(items,{type:{start:"Date",end:"Date"}}):null;this.itemsData=items,this.itemSet&&this.itemSet.setItems(items),initialLoad&&("start"in this.options||"end"in this.options)&&(this.fit(),items="start"in this.options?util.convert(this.options.start,"Date"):null,initialLoad="end"in this.options?util.convert(this.options.end,"Date"):null,this.setWindow(items,initialLoad))},Timeline.prototype.setGroups=function(groups){groups=groups?groups instanceof DataSet||groups instanceof DataView?groups:new DataSet(groups):null;this.groupsData=groups,this.itemSet.setGroups(groups)},Timeline.prototype.setSelection=function(ids){this.itemSet&&this.itemSet.setSelection(ids)},Timeline.prototype.getSelection=function(){return this.itemSet&&this.itemSet.getSelection()||[]},Timeline.prototype.getItemRange=function(){var minItem,dataset=this.itemsData.getDataSet(),min=null,max=null;return dataset&&(min=(minItem=dataset.min("start"))?util.convert(minItem.start,"Date").valueOf():null,(minItem=dataset.max("start"))&&(max=util.convert(minItem.start,"Date").valueOf()),minItem=dataset.max("end"))&&(max=null==max?util.convert(minItem.end,"Date").valueOf():Math.max(max,util.convert(minItem.end,"Date").valueOf())),{min:null!=min?new Date(min):null,max:null!=max?new Date(max):null}},module.exports=Timeline},function(module,exports,__webpack_require__){__webpack_require__(46),__webpack_require__(41);var util=__webpack_require__(1),DataSet=__webpack_require__(3),DataView=__webpack_require__(4),Range=__webpack_require__(15),Core=__webpack_require__(42),TimeAxis=__webpack_require__(27),CurrentTime=__webpack_require__(19),CustomTime=__webpack_require__(20),LineGraph=__webpack_require__(26);function Graph2d(container,items,options,groups){for(var coreProp in Core.prototype)Core.prototype.hasOwnProperty(coreProp)&&!Graph2d.prototype.hasOwnProperty(coreProp)&&(Graph2d.prototype[coreProp]=Core.prototype[coreProp]);var me=this;this.defaultOptions={start:null,end:null,autoResize:!0,orientation:"bottom",width:null,height:null,maxHeight:null,minHeight:null},this.options=util.deepExtend({},this.defaultOptions),this._create(container),this.components=[],this.body={dom:this.dom,domProps:this.props,emitter:{on:this.on.bind(this),off:this.off.bind(this),emit:this.emit.bind(this)},util:{snap:null,toScreen:me._toScreen.bind(me),toGlobalScreen:me._toGlobalScreen.bind(me),toTime:me._toTime.bind(me),toGlobalTime:me._toGlobalTime.bind(me)}},this.range=new Range(this.body),this.components.push(this.range),this.body.range=this.range,this.timeAxis=new TimeAxis(this.body),this.components.push(this.timeAxis),this.body.util.snap=this.timeAxis.snap.bind(this.timeAxis),this.currentTime=new CurrentTime(this.body),this.components.push(this.currentTime),this.customTime=new CustomTime(this.body),this.components.push(this.customTime),this.linegraph=new LineGraph(this.body),this.components.push(this.linegraph),this.itemsData=null,this.groupsData=null,options&&this.setOptions(options),groups&&this.setGroups(groups),items?this.setItems(items):this.redraw()}Graph2d.prototype.setOptions=function(options){if(options&&(util.selectiveExtend(["width","height","minHeight","maxHeight","autoResize","start","end","orientation"],this.options,options),this._initAutoResize()),this.components.forEach(function(component){component.setOptions(options)}),options&&options.order)throw new Error("Option order is deprecated. There is no replacement for this feature.");this.redraw()},Graph2d.prototype.setItems=function(items){var initialLoad=null==this.itemsData,items=items?items instanceof DataSet||items instanceof DataView?items:new DataSet(items,{type:{start:"Date",end:"Date"}}):null;this.itemsData=items,this.linegraph&&this.linegraph.setItems(items),initialLoad&&("start"in this.options||"end"in this.options)&&(this.fit(),items="start"in this.options?util.convert(this.options.start,"Date"):null,initialLoad="end"in this.options?util.convert(this.options.end,"Date"):null,this.setWindow(items,initialLoad))},Graph2d.prototype.setGroups=function(groups){groups=groups?groups instanceof DataSet||groups instanceof DataView?groups:new DataSet(groups):null;this.groupsData=groups,this.linegraph.setGroups(groups)},Graph2d.prototype.getLegend=function(groupId,width,height){return void 0===width&&(width=15),void 0===height&&(height=15),void 0!==this.linegraph.groups[groupId]?this.linegraph.groups[groupId].getLegend(width,height):"cannot find group:"+groupId},Graph2d.prototype.isGroupVisible=function(groupId){return void 0!==this.linegraph.groups[groupId]&&this.linegraph.groups[groupId].visible},Graph2d.prototype.getItemRange=function(){var groupId,min=null,max=null;for(groupId in this.linegraph.groups)if(this.linegraph.groups.hasOwnProperty(groupId)&&1==this.linegraph.groups[groupId].visible)for(var i=0;i<this.linegraph.groups[groupId].itemsData.length;i++)var item=this.linegraph.groups[groupId].itemsData[i],item=util.convert(item.x,"Date").valueOf(),min=null==min||item<min?item:min,max=null==max||max<item?item:max;return{min:null!=min?new Date(min):null,max:null!=max?new Date(max):null}},module.exports=Graph2d},function(module,exports,__webpack_require__){function DataStep(start,end,minimumStep,containerHeight,forcedStepSize){this.current=0,this.autoScale=!0,this.stepIndex=0,this.step=1,this.scale=1,this.marginStart,this.marginEnd,this.majorSteps=[1,2,5,10],this.minorSteps=[.25,.5,1,2],this.setRange(start,end,minimumStep,containerHeight,forcedStepSize)}DataStep.prototype.setRange=function(start,end,minimumStep,containerHeight,forcedStepSize){(this._start=start)==(this._end=end)&&(this._start=start-.75,this._end=end+1),this.autoScale&&this.setMinimumStep(minimumStep,containerHeight,forcedStepSize),this.setFirst()},DataStep.prototype.setMinimumStep=function(minimumStep,containerHeight){for(var safeSize=1.1*(this._end-this._start),minimumStepValue=minimumStep*(safeSize/containerHeight),orderOfMagnitude=Math.round(Math.log(safeSize)/Math.LN10),minorStepIdx=-1,magnitudefactor=Math.pow(10,orderOfMagnitude),minimumStep=0,solutionFound=!1,i=minimumStep=orderOfMagnitude<0?orderOfMagnitude:minimumStep;Math.abs(i)<=Math.abs(orderOfMagnitude);i++){for(var magnitudefactor=Math.pow(10,i),j=0;j<this.minorSteps.length;j++)if(minimumStepValue<=magnitudefactor*this.minorSteps[j]){solutionFound=!0,minorStepIdx=j;break}if(1==solutionFound)break}this.stepIndex=minorStepIdx,this.scale=magnitudefactor,this.step=magnitudefactor*this.minorSteps[minorStepIdx]},DataStep.prototype.first=function(){this.setFirst()},DataStep.prototype.setFirst=function(){var niceStart=this._start-this.scale*this.minorSteps[this.stepIndex],niceEnd=this._end+this.scale*this.minorSteps[this.stepIndex];this.marginEnd=this.roundToMinor(niceEnd),this.marginStart=this.roundToMinor(niceStart),this.marginRange=this.marginEnd-this.marginStart,this.current=this.marginEnd},DataStep.prototype.roundToMinor=function(value){var rounded=value-value%(this.scale*this.minorSteps[this.stepIndex]);return value%(this.scale*this.minorSteps[this.stepIndex])>this.scale*this.minorSteps[this.stepIndex]*.5?rounded+this.scale*this.minorSteps[this.stepIndex]:rounded},DataStep.prototype.hasNext=function(){return this.current>=this.marginStart},DataStep.prototype.next=function(){var prev=this.current;this.current-=this.step,this.current==prev&&(this.current=this._end)},DataStep.prototype.previous=function(){this.current+=this.step,this.marginEnd+=this.step,this.marginRange=this.marginEnd-this.marginStart},DataStep.prototype.getCurrent=function(){for(var toPrecision=""+Number(this.current).toPrecision(5),i=toPrecision.length-1;0<i;i--){if("0"!=toPrecision[i]){if("."!=toPrecision[i]&&","!=toPrecision[i])break;toPrecision=toPrecision.slice(0,i);break}toPrecision=toPrecision.slice(0,i)}return toPrecision},DataStep.prototype.snap=function(date){},DataStep.prototype.isMajor=function(){return this.current%(this.scale*this.majorSteps[this.stepIndex])==0},module.exports=DataStep},function(module,exports,__webpack_require__){var util=__webpack_require__(1),hammerUtil=__webpack_require__(43),moment=__webpack_require__(40),__webpack_require__=__webpack_require__(18);function Range(body,options){var now=moment().hours(0).minutes(0).seconds(0).milliseconds(0);this.start=now.clone().add("days",-3).valueOf(),this.end=now.clone().add("days",4).valueOf(),this.body=body,this.defaultOptions={start:null,end:null,direction:"horizontal",moveable:!0,zoomable:!0,min:null,max:null,zoomMin:10,zoomMax:31536e10},this.options=util.extend({},this.defaultOptions),this.props={touch:{}},this.body.emitter.on("dragstart",this._onDragStart.bind(this)),this.body.emitter.on("drag",this._onDrag.bind(this)),this.body.emitter.on("dragend",this._onDragEnd.bind(this)),this.body.emitter.on("hold",this._onHold.bind(this)),this.body.emitter.on("mousewheel",this._onMouseWheel.bind(this)),this.body.emitter.on("DOMMouseScroll",this._onMouseWheel.bind(this)),this.body.emitter.on("touch",this._onTouch.bind(this)),this.body.emitter.on("pinch",this._onPinch.bind(this)),this.setOptions(options)}function validateDirection(direction){if("horizontal"!=direction&&"vertical"!=direction)throw new TypeError('Unknown direction "'+direction+'". Choose "horizontal" or "vertical".')}function getPointer(touch,element){return{x:touch.pageX-util.getAbsoluteLeft(element),y:touch.pageY-util.getAbsoluteTop(element)}}(Range.prototype=new __webpack_require__).setOptions=function(options){options&&(util.selectiveExtend(["direction","min","max","zoomMin","zoomMax","moveable","zoomable"],this.options,options),"start"in options||"end"in options)&&this.setRange(options.start,options.end)},Range.prototype.setRange=function(start,end){this._applyRange(start,end)&&(start={start:new Date(this.start),end:new Date(this.end)},this.body.emitter.emit("rangechange",start),this.body.emitter.emit("rangechanged",start))},Range.prototype._applyRange=function(start,end){var diff,newStart=null!=start?util.convert(start,"Date").valueOf():this.start,newEnd=null!=end?util.convert(end,"Date").valueOf():this.end,max=null!=this.options.max?util.convert(this.options.max,"Date").valueOf():null,min=null!=this.options.min?util.convert(this.options.min,"Date").valueOf():null;if(isNaN(newStart)||null===newStart)throw new Error('Invalid start "'+start+'"');if(isNaN(newEnd)||null===newEnd)throw new Error('Invalid end "'+end+'"');newEnd<newStart&&(newEnd=newStart),null!==min&&newStart<min&&(newStart+=diff=min-newStart,newEnd+=diff,null!=max)&&max<newEnd&&(newEnd=max),null!==max&&max<newEnd&&(newStart-=diff=newEnd-max,newEnd-=diff,null!=min)&&newStart<min&&(newStart=min),null!==this.options.zoomMin&&newEnd-newStart<(start=(start=parseFloat(this.options.zoomMin))<0?0:start)&&(this.end-this.start===start?(newStart=this.start,newEnd=this.end):(newStart-=(diff=start-(newEnd-newStart))/2,newEnd+=diff/2)),null!==this.options.zoomMax&&(end=(end=parseFloat(this.options.zoomMax))<0?0:end)<newEnd-newStart&&(this.end-this.start===end?(newStart=this.start,newEnd=this.end):(newStart+=(diff=newEnd-newStart-end)/2,newEnd-=diff/2));max=this.start!=newStart||this.end!=newEnd;return this.start=newStart,this.end=newEnd,max},Range.prototype.getRange=function(){return{start:this.start,end:this.end}},Range.prototype.conversion=function(width){return Range.conversion(this.start,this.end,width)},Range.conversion=function(start,end,width){return 0!=width&&end-start!=0?{offset:start,scale:width/(end-start)}:{offset:0,scale:1}},Range.prototype._onDragStart=function(event){this.options.moveable&&this.props.touch.allowDragging&&(this.props.touch.start=this.start,this.props.touch.end=this.end,this.body.dom.root)&&(this.body.dom.root.style.cursor="move")},Range.prototype._onDrag=function(event){var direction,interval;this.options.moveable&&(validateDirection(direction=this.options.direction),this.props.touch.allowDragging)&&(event="horizontal"==direction?event.gesture.deltaX:event.gesture.deltaY,interval=this.props.touch.end-this.props.touch.start,event=-event/("horizontal"==direction?this.body.domProps.center.width:this.body.domProps.center.height)*interval,this._applyRange(this.props.touch.start+event,this.props.touch.end+event),this.body.emitter.emit("rangechange",{start:new Date(this.start),end:new Date(this.end)}))},Range.prototype._onDragEnd=function(event){this.options.moveable&&this.props.touch.allowDragging&&(this.body.dom.root&&(this.body.dom.root.style.cursor="auto"),this.body.emitter.emit("rangechanged",{start:new Date(this.start),end:new Date(this.end)}))},Range.prototype._onMouseWheel=function(event){var delta,pointer;this.options.zoomable&&this.options.moveable&&(delta=0,event.wheelDelta?delta=event.wheelDelta/120:event.detail&&(delta=-event.detail/3),delta&&(delta=delta<0?1-delta/5:1/(1+delta/5),pointer=getPointer(hammerUtil.fakeGesture(this,event).center,this.body.dom.center),pointer=this._pointerToDate(pointer),this.zoom(delta,pointer)),event.preventDefault())},Range.prototype._onTouch=function(event){this.props.touch.start=this.start,this.props.touch.end=this.end,this.props.touch.allowDragging=!0,this.props.touch.center=null},Range.prototype._onHold=function(){this.props.touch.allowDragging=!1},Range.prototype._onPinch=function(event){var newStart,initDate;this.options.zoomable&&this.options.moveable&&(this.props.touch.allowDragging=!1,1<event.gesture.touches.length)&&(this.props.touch.center||(this.props.touch.center=getPointer(event.gesture.center,this.body.dom.center)),event=1/event.gesture.scale,initDate=this._pointerToDate(this.props.touch.center),newStart=parseInt(initDate+(this.props.touch.start-initDate)*event),initDate=parseInt(initDate+(this.props.touch.end-initDate)*event),this.setRange(newStart,initDate))},Range.prototype._pointerToDate=function(pointer){var conversion,direction=this.options.direction;return validateDirection(direction),"horizontal"==direction?(direction=this.body.domProps.center.width,conversion=this.conversion(direction),pointer.x/conversion.scale+conversion.offset):(direction=this.body.domProps.center.height,conversion=this.conversion(direction),pointer.y/conversion.scale+conversion.offset)},Range.prototype.zoom=function(scale,center){var newStart=(center=null==center?(this.start+this.end)/2:center)+(this.start-center)*scale,center=center+(this.end-center)*scale;this.setRange(newStart,center)},Range.prototype.move=function(delta){var diff=this.end-this.start,newStart=this.start+diff*delta,diff=this.end+diff*delta;this.start=newStart,this.end=diff},Range.prototype.moveTo=function(moveTo){var moveTo=(this.start+this.end)/2-moveTo,newStart=this.start-moveTo,moveTo=this.end-moveTo;this.setRange(newStart,moveTo)},module.exports=Range},function(module,exports,__webpack_require__){exports.orderByStart=function(items){items.sort(function(a,b){return a.data.start-b.data.start})},exports.orderByEnd=function(items){items.sort(function(a,b){return("end"in a.data?a.data.end:a.data.start)-("end"in b.data?b.data.end:b.data.start)})},exports.stack=function(items,margin,force){var i,iMax;if(force)for(i=0,iMax=items.length;i<iMax;i++)items[i].top=null;for(i=0,iMax=items.length;i<iMax;i++){var item=items[i];if(null===item.top){item.top=margin.axis;do{for(var collidingItem=null,j=0,jj=items.length;j<jj;j++){var other=items[j];if(null!==other.top&&other!==item&&exports.collision(item,other,margin.item)){collidingItem=other;break}}}while(null!=collidingItem&&(item.top=collidingItem.top+collidingItem.height+margin.item.vertical),collidingItem)}}},exports.nostack=function(items,margin){for(var i=0,iMax=items.length;i<iMax;i++)items[i].top=margin.axis},exports.collision=function(a,b,margin){return a.left-margin.horizontal+.001<b.left+b.width&&a.left+a.width+margin.horizontal-.001>b.left&&a.top-margin.vertical+.001<b.top+b.height&&a.top+a.height+margin.vertical-.001>b.top}},function(module,exports,__webpack_require__){var moment=__webpack_require__(40);function TimeStep(start,end,minimumStep){this.current=new Date,this._start=new Date,this._end=new Date,this.autoScale=!0,this.scale=TimeStep.SCALE.DAY,this.step=1,this.setRange(start,end,minimumStep)}TimeStep.SCALE={MILLISECOND:1,SECOND:2,MINUTE:3,HOUR:4,DAY:5,WEEKDAY:6,MONTH:7,YEAR:8},TimeStep.prototype.setRange=function(start,end,minimumStep){if(!(start instanceof Date&&end instanceof Date))throw"No legal start or end date in method setRange";this._start=null!=start?new Date(start.valueOf()):new Date,this._end=null!=end?new Date(end.valueOf()):new Date,this.autoScale&&this.setMinimumStep(minimumStep)},TimeStep.prototype.first=function(){this.current=new Date(this._start.valueOf()),this.roundToMinor()},TimeStep.prototype.roundToMinor=function(){switch(this.scale){case TimeStep.SCALE.YEAR:this.current.setFullYear(this.step*Math.floor(this.current.getFullYear()/this.step)),this.current.setMonth(0);case TimeStep.SCALE.MONTH:this.current.setDate(1);case TimeStep.SCALE.DAY:case TimeStep.SCALE.WEEKDAY:this.current.setHours(0);case TimeStep.SCALE.HOUR:this.current.setMinutes(0);case TimeStep.SCALE.MINUTE:this.current.setSeconds(0);case TimeStep.SCALE.SECOND:this.current.setMilliseconds(0)}if(1!=this.step)switch(this.scale){case TimeStep.SCALE.MILLISECOND:this.current.setMilliseconds(this.current.getMilliseconds()-this.current.getMilliseconds()%this.step);break;case TimeStep.SCALE.SECOND:this.current.setSeconds(this.current.getSeconds()-this.current.getSeconds()%this.step);break;case TimeStep.SCALE.MINUTE:this.current.setMinutes(this.current.getMinutes()-this.current.getMinutes()%this.step);break;case TimeStep.SCALE.HOUR:this.current.setHours(this.current.getHours()-this.current.getHours()%this.step);break;case TimeStep.SCALE.WEEKDAY:case TimeStep.SCALE.DAY:this.current.setDate(this.current.getDate()-1-(this.current.getDate()-1)%this.step+1);break;case TimeStep.SCALE.MONTH:this.current.setMonth(this.current.getMonth()-this.current.getMonth()%this.step);break;case TimeStep.SCALE.YEAR:this.current.setFullYear(this.current.getFullYear()-this.current.getFullYear()%this.step)}},TimeStep.prototype.hasNext=function(){return this.current.valueOf()<=this._end.valueOf()},TimeStep.prototype.next=function(){var prev=this.current.valueOf();if(this.current.getMonth()<6)switch(this.scale){case TimeStep.SCALE.MILLISECOND:this.current=new Date(this.current.valueOf()+this.step);break;case TimeStep.SCALE.SECOND:this.current=new Date(this.current.valueOf()+1e3*this.step);break;case TimeStep.SCALE.MINUTE:this.current=new Date(this.current.valueOf()+1e3*this.step*60);break;case TimeStep.SCALE.HOUR:this.current=new Date(this.current.valueOf()+1e3*this.step*60*60);var h=this.current.getHours();this.current.setHours(h-h%this.step);break;case TimeStep.SCALE.WEEKDAY:case TimeStep.SCALE.DAY:this.current.setDate(this.current.getDate()+this.step);break;case TimeStep.SCALE.MONTH:this.current.setMonth(this.current.getMonth()+this.step);break;case TimeStep.SCALE.YEAR:this.current.setFullYear(this.current.getFullYear()+this.step)}else switch(this.scale){case TimeStep.SCALE.MILLISECOND:this.current=new Date(this.current.valueOf()+this.step);break;case TimeStep.SCALE.SECOND:this.current.setSeconds(this.current.getSeconds()+this.step);break;case TimeStep.SCALE.MINUTE:this.current.setMinutes(this.current.getMinutes()+this.step);break;case TimeStep.SCALE.HOUR:this.current.setHours(this.current.getHours()+this.step);break;case TimeStep.SCALE.WEEKDAY:case TimeStep.SCALE.DAY:this.current.setDate(this.current.getDate()+this.step);break;case TimeStep.SCALE.MONTH:this.current.setMonth(this.current.getMonth()+this.step);break;case TimeStep.SCALE.YEAR:this.current.setFullYear(this.current.getFullYear()+this.step)}if(1!=this.step)switch(this.scale){case TimeStep.SCALE.MILLISECOND:this.current.getMilliseconds()<this.step&&this.current.setMilliseconds(0);break;case TimeStep.SCALE.SECOND:this.current.getSeconds()<this.step&&this.current.setSeconds(0);break;case TimeStep.SCALE.MINUTE:this.current.getMinutes()<this.step&&this.current.setMinutes(0);break;case TimeStep.SCALE.HOUR:this.current.getHours()<this.step&&this.current.setHours(0);break;case TimeStep.SCALE.WEEKDAY:case TimeStep.SCALE.DAY:this.current.getDate()<this.step+1&&this.current.setDate(1);break;case TimeStep.SCALE.MONTH:this.current.getMonth()<this.step&&this.current.setMonth(0);break;case TimeStep.SCALE.YEAR:}this.current.valueOf()==prev&&(this.current=new Date(this._end.valueOf()))},TimeStep.prototype.getCurrent=function(){return this.current},TimeStep.prototype.setScale=function(newScale,newStep){this.scale=newScale,0<newStep&&(this.step=newStep),this.autoScale=!1},TimeStep.prototype.setAutoScale=function(enable){this.autoScale=enable},TimeStep.prototype.setMinimumStep=function(minimumStep){null!=minimumStep&&(minimumStep<31104e9&&(this.scale=TimeStep.SCALE.YEAR,this.step=1e3),minimumStep<15552e9&&(this.scale=TimeStep.SCALE.YEAR,this.step=500),minimumStep<31104e8&&(this.scale=TimeStep.SCALE.YEAR,this.step=100),minimumStep<15552e8&&(this.scale=TimeStep.SCALE.YEAR,this.step=50),minimumStep<31104e7&&(this.scale=TimeStep.SCALE.YEAR,this.step=10),minimumStep<15552e7&&(this.scale=TimeStep.SCALE.YEAR,this.step=5),minimumStep<31104e6&&(this.scale=TimeStep.SCALE.YEAR,this.step=1),minimumStep<7776e6&&(this.scale=TimeStep.SCALE.MONTH,this.step=3),minimumStep<2592e6&&(this.scale=TimeStep.SCALE.MONTH,this.step=1),minimumStep<432e6&&(this.scale=TimeStep.SCALE.DAY,this.step=5),minimumStep<1728e5&&(this.scale=TimeStep.SCALE.DAY,this.step=2),minimumStep<864e5&&(this.scale=TimeStep.SCALE.DAY,this.step=1),minimumStep<432e5&&(this.scale=TimeStep.SCALE.WEEKDAY,this.step=1),minimumStep<144e5&&(this.scale=TimeStep.SCALE.HOUR,this.step=4),minimumStep<36e5&&(this.scale=TimeStep.SCALE.HOUR,this.step=1),minimumStep<9e5&&(this.scale=TimeStep.SCALE.MINUTE,this.step=15),minimumStep<6e5&&(this.scale=TimeStep.SCALE.MINUTE,this.step=10),minimumStep<3e5&&(this.scale=TimeStep.SCALE.MINUTE,this.step=5),minimumStep<6e4&&(this.scale=TimeStep.SCALE.MINUTE,this.step=1),minimumStep<15e3&&(this.scale=TimeStep.SCALE.SECOND,this.step=15),minimumStep<1e4&&(this.scale=TimeStep.SCALE.SECOND,this.step=10),minimumStep<5e3&&(this.scale=TimeStep.SCALE.SECOND,this.step=5),minimumStep<1e3&&(this.scale=TimeStep.SCALE.SECOND,this.step=1),minimumStep<200&&(this.scale=TimeStep.SCALE.MILLISECOND,this.step=200),minimumStep<100&&(this.scale=TimeStep.SCALE.MILLISECOND,this.step=100),minimumStep<50&&(this.scale=TimeStep.SCALE.MILLISECOND,this.step=50),minimumStep<10&&(this.scale=TimeStep.SCALE.MILLISECOND,this.step=10),minimumStep<5&&(this.scale=TimeStep.SCALE.MILLISECOND,this.step=5),minimumStep<1)&&(this.scale=TimeStep.SCALE.MILLISECOND,this.step=1)},TimeStep.prototype.snap=function(date){var clone=new Date(date.valueOf());if(this.scale==TimeStep.SCALE.YEAR){var date=clone.getFullYear()+Math.round(clone.getMonth()/12);clone.setFullYear(Math.round(date/this.step)*this.step),clone.setMonth(0),clone.setDate(0),clone.setHours(0),clone.setMinutes(0),clone.setSeconds(0),clone.setMilliseconds(0)}else if(this.scale==TimeStep.SCALE.MONTH)15<clone.getDate()?(clone.setDate(1),clone.setMonth(clone.getMonth()+1)):clone.setDate(1),clone.setHours(0),clone.setMinutes(0),clone.setSeconds(0),clone.setMilliseconds(0);else if(this.scale==TimeStep.SCALE.DAY){switch(this.step){case 5:case 2:clone.setHours(24*Math.round(clone.getHours()/24));break;default:clone.setHours(12*Math.round(clone.getHours()/12))}clone.setMinutes(0),clone.setSeconds(0),clone.setMilliseconds(0)}else if(this.scale==TimeStep.SCALE.WEEKDAY){switch(this.step){case 5:case 2:clone.setHours(12*Math.round(clone.getHours()/12));break;default:clone.setHours(6*Math.round(clone.getHours()/6))}clone.setMinutes(0),clone.setSeconds(0),clone.setMilliseconds(0)}else if(this.scale==TimeStep.SCALE.HOUR)4===this.step?clone.setMinutes(60*Math.round(clone.getMinutes()/60)):clone.setMinutes(30*Math.round(clone.getMinutes()/30)),clone.setSeconds(0),clone.setMilliseconds(0);else if(this.scale==TimeStep.SCALE.MINUTE){switch(this.step){case 15:case 10:clone.setMinutes(5*Math.round(clone.getMinutes()/5)),clone.setSeconds(0);break;case 5:clone.setSeconds(60*Math.round(clone.getSeconds()/60));break;default:clone.setSeconds(30*Math.round(clone.getSeconds()/30))}clone.setMilliseconds(0)}else if(this.scale==TimeStep.SCALE.SECOND)switch(this.step){case 15:case 10:clone.setSeconds(5*Math.round(clone.getSeconds()/5)),clone.setMilliseconds(0);break;case 5:clone.setMilliseconds(1e3*Math.round(clone.getMilliseconds()/1e3));break;default:clone.setMilliseconds(500*Math.round(clone.getMilliseconds()/500))}else this.scale==TimeStep.SCALE.MILLISECOND&&(date=5<this.step?this.step/2:1,clone.setMilliseconds(Math.round(clone.getMilliseconds()/date)*date));return clone},TimeStep.prototype.isMajor=function(){switch(this.scale){case TimeStep.SCALE.MILLISECOND:return 0==this.current.getMilliseconds();case TimeStep.SCALE.SECOND:return 0==this.current.getSeconds();case TimeStep.SCALE.MINUTE:return 0==this.current.getHours()&&0==this.current.getMinutes();case TimeStep.SCALE.HOUR:return 0==this.current.getHours();case TimeStep.SCALE.WEEKDAY:case TimeStep.SCALE.DAY:return 1==this.current.getDate();case TimeStep.SCALE.MONTH:return 0==this.current.getMonth();default:TimeStep.SCALE.YEAR;return!1}},TimeStep.prototype.getLabelMinor=function(date){switch(null==date&&(date=this.current),this.scale){case TimeStep.SCALE.MILLISECOND:return moment(date).format("SSS");case TimeStep.SCALE.SECOND:return moment(date).format("s");case TimeStep.SCALE.MINUTE:case TimeStep.SCALE.HOUR:return moment(date).format("HH:mm");case TimeStep.SCALE.WEEKDAY:return moment(date).format("ddd D");case TimeStep.SCALE.DAY:return moment(date).format("D");case TimeStep.SCALE.MONTH:return moment(date).format("MMM");case TimeStep.SCALE.YEAR:return moment(date).format("YYYY");default:return""}},TimeStep.prototype.getLabelMajor=function(date){switch(null==date&&(date=this.current),this.scale){case TimeStep.SCALE.MILLISECOND:return moment(date).format("HH:mm:ss");case TimeStep.SCALE.SECOND:return moment(date).format("D MMMM HH:mm");case TimeStep.SCALE.MINUTE:case TimeStep.SCALE.HOUR:return moment(date).format("ddd D MMMM");case TimeStep.SCALE.WEEKDAY:case TimeStep.SCALE.DAY:return moment(date).format("MMMM YYYY");case TimeStep.SCALE.MONTH:return moment(date).format("YYYY");default:TimeStep.SCALE.YEAR;return""}},module.exports=TimeStep},function(module,exports,__webpack_require__){function Component(body,options){this.options=null,this.props=null}Component.prototype.setOptions=function(options){options&&util.extend(this.options,options)},Component.prototype.redraw=function(){return!1},Component.prototype.destroy=function(){},Component.prototype._isResized=function(){var resized=this.props._previousWidth!==this.props.width||this.props._previousHeight!==this.props.height;return this.props._previousWidth=this.props.width,this.props._previousHeight=this.props.height,resized},module.exports=Component},function(module,exports,__webpack_require__){var util=__webpack_require__(1),__webpack_require__=__webpack_require__(18);function CurrentTime(body,options){this.body=body,this.defaultOptions={showCurrentTime:!0},this.options=util.extend({},this.defaultOptions),this._create(),this.setOptions(options)}(CurrentTime.prototype=new __webpack_require__)._create=function(){var bar=document.createElement("div");bar.className="currenttime",bar.style.position="absolute",bar.style.top="0px",bar.style.height="100%",this.bar=bar},CurrentTime.prototype.destroy=function(){this.options.showCurrentTime=!1,this.redraw(),this.body=null},CurrentTime.prototype.setOptions=function(options){options&&util.selectiveExtend(["showCurrentTime"],this.options,options)},CurrentTime.prototype.redraw=function(){var parent,x;return this.options.showCurrentTime?(parent=this.body.dom.backgroundVertical,this.bar.parentNode!=parent&&(this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),parent.appendChild(this.bar),this.start()),parent=new Date,x=this.body.util.toScreen(parent),this.bar.style.left=x+"px",this.bar.title="Current time: "+parent):(this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),this.stop()),!1},CurrentTime.prototype.start=function(){var me=this;!function update(){me.stop();var interval=1/me.body.range.conversion(me.body.domProps.center.width).scale/10;1e3<(interval=interval<30?30:interval)&&(interval=1e3),me.redraw(),me.currentTimeTimer=setTimeout(update,interval)}()},CurrentTime.prototype.stop=function(){void 0!==this.currentTimeTimer&&(clearTimeout(this.currentTimeTimer),delete this.currentTimeTimer)},module.exports=CurrentTime},function(module,exports,__webpack_require__){var Hammer=__webpack_require__(41),util=__webpack_require__(1),__webpack_require__=__webpack_require__(18);function CustomTime(body,options){this.body=body,this.defaultOptions={showCustomTime:!1},this.options=util.extend({},this.defaultOptions),this.customTime=new Date,this.customTime1=new Date,this.eventParams={},this._create(),this.setOptions(options)}(CustomTime.prototype=new __webpack_require__).setOptions=function(options){options&&util.selectiveExtend(["showCustomTime"],this.options,options)},CustomTime.prototype._create=function(){var bar=document.createElement("div"),drag=(bar.className="customtime",bar.style.position="absolute",bar.style.top="0px",bar.style.height="100%",this.bar=bar,document.createElement("div")),drag=(drag.style.position="relative",drag.style.top="0px",drag.style.left="-10px",drag.style.height="100%",drag.style.width="20px",bar.appendChild(drag),document.createElement("div")),drag1=(drag.className="customtime1",drag.style.position="absolute",drag.style.top="0px",this.bar1=drag,document.createElement("div"));drag1.style.position="relative",drag1.style.top="0px",drag1.style.left="-10px",drag1.style.height="100%",drag1.style.width="20px",bar.appendChild(drag1),this.hammer=Hammer(bar,{prevent_default:!0}),this.hammer.on("dragstart",this._onDragStart.bind(this)),this.hammer.on("drag",this._onDrag.bind(this)),this.hammer.on("dragend",this._onDragEnd.bind(this)),this.hammer1=Hammer(drag,{prevent_default:!0}),this.hammer1.on("dragstart",this._onDragStart1.bind(this)),this.hammer1.on("drag",this._onDrag1.bind(this)),this.hammer1.on("dragend",this._onDragEnd1.bind(this))},CustomTime.prototype.destroy=function(){this.options.showCustomTime=!1,this.redraw(),this.hammer.enable(!1),this.hammer=null,this.hammer1.enable(!1),this.hammer1=null,this.body=null},CustomTime.prototype.redraw=function(){var parent;return this.options.showCustomTime?(parent=this.body.dom.backgroundVertical,this.bar.parentNode!=parent&&(this.bar.parentNode&&(this.bar.parentNode.removeChild(this.bar),this.bar1.parentNode.removeChild(this.bar1)),parent.appendChild(this.bar),parent.appendChild(this.bar1)),parent=this.body.util.toScreen(this.customTime),this.bar.style.left=parent+"px",this.bar.title="Time: "+this.customTime,parent=this.body.util.toScreen(this.customTime1),this.bar1.style.left=parent+"px",this.bar1.title="Time: "+this.customTime):(this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),this.bar1.parentNode&&this.bar1.parentNode.removeChild(this.bar1)),!1},CustomTime.prototype.setCustomTime=function(time){this.customTime=new Date(time.valueOf()),this.redraw()},CustomTime.prototype.getCustomTime=function(){return new Date(this.customTime.valueOf())},CustomTime.prototype._onDragStart=function(event){this.eventParams.dragging=!0,this.eventParams.customTime=this.customTime,event.stopPropagation(),event.preventDefault()},CustomTime.prototype._onDrag=function(event){var deltaX;this.eventParams.dragging&&(deltaX=event.gesture.deltaX,deltaX=this.body.util.toScreen(this.eventParams.customTime)+deltaX,deltaX=this.body.util.toTime(deltaX),this.setCustomTime(deltaX),this.body.emitter.emit("timechange",{time:new Date(this.customTime.valueOf())}),event.stopPropagation(),event.preventDefault())},CustomTime.prototype._onDragEnd=function(event){this.eventParams.dragging&&(this.body.emitter.emit("timechanged",{time:new Date(this.customTime.valueOf())}),event.stopPropagation(),event.preventDefault())},(module.exports=CustomTime).prototype.setCustomTime1=function(time){this.customTime1=new Date(time.valueOf()),this.redraw()},CustomTime.prototype.getCustomTime1=function(){return new Date(this.customTime1.valueOf())},CustomTime.prototype._onDragStart1=function(event){this.eventParams.dragging=!0,this.eventParams.customTime1=this.customTime1,event.stopPropagation(),event.preventDefault()},CustomTime.prototype._onDrag1=function(event){var deltaX;this.eventParams.dragging&&(deltaX=event.gesture.deltaX,deltaX=this.body.util.toScreen(this.eventParams.customTime1)+deltaX,deltaX=this.body.util.toTime(deltaX),this.setCustomTime1(deltaX),this.body.emitter.emit("timechange1",{time:new Date(this.customTime1.valueOf())}),event.stopPropagation(),event.preventDefault())},CustomTime.prototype._onDragEnd1=function(event){this.eventParams.dragging&&(this.body.emitter.emit("timechanged1",{time:new Date(this.customTime1.valueOf())}),event.stopPropagation(),event.preventDefault())}},function(module,exports,__webpack_require__){var util=__webpack_require__(1),DOMutil=__webpack_require__(2),Component=__webpack_require__(18),DataStep=__webpack_require__(14);function DataAxis(body,options,svg){this.id=util.randomUUID(),this.body=body,this.defaultOptions={orientation:"left",showMinorLabels:!0,showMajorLabels:!0,icons:!0,majorLinesOffset:7,minorLinesOffset:4,labelOffsetX:10,labelOffsetY:2,iconWidth:20,width:"40px",visible:!0},this.linegraphSVG=svg,this.props={},this.DOMelements={lines:{},labels:{}},this.dom={},this.range={start:0,end:0},this.options=util.extend({},this.defaultOptions),this.conversionFactor=1,this.setOptions(options),this.width=Number((""+this.options.width).replace("px","")),this.minWidth=this.width,this.height=this.linegraphSVG.offsetHeight,this.stepPixels=25,this.stepPixelsForced=25,this.lineOffset=0,this.master=!0,this.svgElements={},this.groups={},this.amountOfGroups=0,this._create()}(DataAxis.prototype=new Component).addGroup=function(label,graphOptions){this.groups.hasOwnProperty(label)||(this.groups[label]=graphOptions),this.amountOfGroups+=1},DataAxis.prototype.updateGroup=function(label,graphOptions){this.groups[label]=graphOptions},DataAxis.prototype.removeGroup=function(label){this.groups.hasOwnProperty(label)&&(delete this.groups[label],--this.amountOfGroups)},DataAxis.prototype.setOptions=function(options){var redraw;options&&(redraw=!1,this.options.orientation!=options.orientation&&void 0!==options.orientation&&(redraw=!0),util.selectiveExtend(["orientation","showMinorLabels","showMajorLabels","icons","majorLinesOffset","minorLinesOffset","labelOffsetX","labelOffsetY","iconWidth","width","visible"],this.options,options),this.minWidth=Number((""+this.options.width).replace("px","")),1==redraw)&&this.dom.frame&&(this.hide(),this.show())},DataAxis.prototype._create=function(){this.dom.frame=document.createElement("div"),this.dom.frame.style.width=this.options.width,this.dom.frame.style.height=this.height,this.dom.lineContainer=document.createElement("div"),this.dom.lineContainer.style.width="100%",this.dom.lineContainer.style.height=this.height,this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.style.position="absolute",this.svg.style.top="0px",this.svg.style.height="100%",this.svg.style.width="100%",this.svg.style.display="block",this.dom.frame.appendChild(this.svg)},DataAxis.prototype._redrawGroupIcons=function(){DOMutil.prepareElements(this.svgElements);var groupId,iconWidth=this.options.iconWidth,y=11.5,x="left"==this.options.orientation?4:this.width-iconWidth-4;for(groupId in this.groups)this.groups.hasOwnProperty(groupId)&&1==this.groups[groupId].visible&&(this.groups[groupId].drawIcon(x,y,this.svgElements,this.svg,iconWidth,15),y+=19);DOMutil.cleanupElements(this.svgElements)},DataAxis.prototype.show=function(){this.dom.frame.parentNode||("left"==this.options.orientation?this.body.dom.left:this.body.dom.right).appendChild(this.dom.frame),this.dom.lineContainer.parentNode||this.body.dom.backgroundHorizontal.appendChild(this.dom.lineContainer)},DataAxis.prototype.hide=function(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame),this.dom.lineContainer.parentNode&&this.dom.lineContainer.parentNode.removeChild(this.dom.lineContainer)},DataAxis.prototype.setRange=function(start,end){this.range.start=start,this.range.end=end},DataAxis.prototype.redraw=function(){var groupId,props,frame,orientation,showMinorLabels,showMajorLabels,changeCalled=!1,activeGroups=0;for(groupId in this.groups)this.groups.hasOwnProperty(groupId)&&1==this.groups[groupId].visible&&activeGroups++;return 0==this.amountOfGroups||0==activeGroups?this.hide():(this.show(),this.height=Number(this.linegraphSVG.style.height.replace("px","")),this.dom.lineContainer.style.height=this.height+"px",this.width=1==this.options.visible?Number((""+this.options.width).replace("px","")):0,props=this.props,(frame=this.dom.frame).className="dataaxis",this._calculateCharSize(),orientation=this.options.orientation,showMinorLabels=this.options.showMinorLabels,showMajorLabels=this.options.showMajorLabels,props.minorLabelHeight=showMinorLabels?props.minorCharHeight:0,props.majorLabelHeight=showMajorLabels?props.majorCharHeight:0,props.minorLineWidth=this.body.dom.backgroundHorizontal.offsetWidth-this.lineOffset-this.width+2*this.options.minorLinesOffset,props.minorLineHeight=1,props.majorLineWidth=this.body.dom.backgroundHorizontal.offsetWidth-this.lineOffset-this.width+2*this.options.majorLinesOffset,props.majorLineHeight=1,"left"==orientation?(frame.style.top="0",frame.style.left="0",frame.style.bottom=""):(frame.style.top="",frame.style.bottom="0",frame.style.left="0"),frame.style.width=this.width+"px",frame.style.height=this.height+"px",changeCalled=this._redrawLabels(),1==this.options.icons&&this._redrawGroupIcons()),changeCalled},DataAxis.prototype._redrawLabels=function(){DOMutil.prepareElements(this.DOMelements.lines),DOMutil.prepareElements(this.DOMelements.labels);var orientation=this.options.orientation,minimumStep=this.master?this.props.majorCharHeight||10:this.stepPixelsForced,step=new DataStep(this.range.start,this.range.end,minimumStep,this.dom.frame.offsetHeight),stepPixels=((this.step=step).first(),this.dom.frame.offsetHeight/(step.marginRange/step.step+1)),amountOfSteps=(this.stepPixels=stepPixels,this.height/stepPixels);if(0==this.master){for(var stepPixels=this.stepPixelsForced,stepDifference=Math.round(this.height/stepPixels-amountOfSteps),i=0;i<.5*stepDifference;i++)step.previous();amountOfSteps=this.height/stepPixels}this.valueAtZero=step.marginEnd;var marginStartPos=0,max=1;for(step.next(),this.maxLabelSize=0;max<Math.round(amountOfSteps);){var y=Math.round(max*stepPixels),marginStartPos=max*stepPixels,isMajor=step.isMajor();(this.options.showMinorLabels&&0==isMajor||0==this.master&&1==this.options.showMinorLabels)&&this._redrawLabel(y-2,step.getCurrent(),orientation,"yAxis minor",this.props.minorCharHeight),isMajor&&this.options.showMajorLabels&&1==this.master||0==this.options.showMinorLabels&&0==this.master&&1==isMajor?(0<=y&&this._redrawLabel(y-2,step.getCurrent(),orientation,"yAxis major",this.props.majorCharHeight),this._redrawLine(y,orientation,"grid horizontal major",this.options.majorLinesOffset,this.props.majorLineWidth)):this._redrawLine(y,orientation,"grid horizontal minor",this.options.minorLinesOffset,this.props.minorLineWidth),step.next(),max++}this.conversionFactor=marginStartPos/((amountOfSteps-1)*step.step);minimumStep=1==this.options.icons?this.options.iconWidth+this.options.labelOffsetX+15:this.options.labelOffsetX+15;return this.maxLabelSize>this.width-minimumStep&&1==this.options.visible?(this.width=this.maxLabelSize+minimumStep,this.options.width=this.width+"px",DOMutil.cleanupElements(this.DOMelements.lines),DOMutil.cleanupElements(this.DOMelements.labels),this.redraw(),!0):this.maxLabelSize<this.width-minimumStep&&1==this.options.visible&&this.width>this.minWidth?(this.width=Math.max(this.minWidth,this.maxLabelSize+minimumStep),this.options.width=this.width+"px",DOMutil.cleanupElements(this.DOMelements.lines),DOMutil.cleanupElements(this.DOMelements.labels),this.redraw(),!0):(DOMutil.cleanupElements(this.DOMelements.lines),DOMutil.cleanupElements(this.DOMelements.labels),!1)},DataAxis.prototype._redrawLabel=function(y,text,orientation,className,characterHeight){var label=DOMutil.getDOMElement("div",this.DOMelements.labels,this.dom.frame),className=(label.className=className,label.innerHTML=text,"left"==orientation?(label.style.left="-"+this.options.labelOffsetX+"px",label.style.textAlign="right"):(label.style.right="-"+this.options.labelOffsetX+"px",label.style.textAlign="left"),label.style.top=y-.5*characterHeight+this.options.labelOffsetY+"px",text+="",Math.max(this.props.majorCharWidth,this.props.minorCharWidth));this.maxLabelSize<text.length*className&&(this.maxLabelSize=text.length*className)},DataAxis.prototype._redrawLine=function(y,orientation,className,offset,width){var line;1==this.master&&((line=DOMutil.getDOMElement("div",this.DOMelements.lines,this.dom.lineContainer)).className=className,line.innerHTML="","left"==orientation?line.style.left=this.width-offset+"px":line.style.right=this.width-offset+"px",line.style.width=width+"px",line.style.top=y+"px")},DataAxis.prototype.convertValue=function(value){return(this.valueAtZero-value)*this.conversionFactor},DataAxis.prototype._calculateCharSize=function(){var textMinor,measureCharMinor;"minorCharHeight"in this.props||(textMinor=document.createTextNode("0"),(measureCharMinor=document.createElement("DIV")).className="yAxis minor measure",measureCharMinor.appendChild(textMinor),this.dom.frame.appendChild(measureCharMinor),this.props.minorCharHeight=measureCharMinor.clientHeight,this.props.minorCharWidth=measureCharMinor.clientWidth,this.dom.frame.removeChild(measureCharMinor)),"majorCharHeight"in this.props||(textMinor=document.createTextNode("0"),(measureCharMinor=document.createElement("DIV")).className="yAxis major measure",measureCharMinor.appendChild(textMinor),this.dom.frame.appendChild(measureCharMinor),this.props.majorCharHeight=measureCharMinor.clientHeight,this.props.majorCharWidth=measureCharMinor.clientWidth,this.dom.frame.removeChild(measureCharMinor))},DataAxis.prototype.snap=function(date){return this.step.snap(date)},module.exports=DataAxis},function(module,exports,__webpack_require__){var util=__webpack_require__(1),DOMutil=__webpack_require__(2);function GraphGroup(group,groupId,options,groupsUsingDefaultStyles){this.id=groupId;this.options=util.selectiveBridgeObject(["sampling","style","sort","yAxisOrientation","barChart","drawPoints","shaded","catmullRom"],options),this.usingDefaultStyle=void 0===group.className,this.groupsUsingDefaultStyles=groupsUsingDefaultStyles,this.zeroPosition=0,this.update(group),1==this.usingDefaultStyle&&(this.groupsUsingDefaultStyles[0]+=1),this.itemsData=[],this.visible=void 0===group.visible||group.visible}GraphGroup.prototype.setItems=function(items){null!=items?(this.itemsData=items,1==this.options.sort&&this.itemsData.sort(function(a,b){return a.x-b.x})):this.itemsData=[]},GraphGroup.prototype.setZeroPosition=function(pos){this.zeroPosition=pos},GraphGroup.prototype.setOptions=function(options){void 0!==options&&(util.selectiveDeepExtend(["sampling","style","sort","yAxisOrientation","barChart"],this.options,options),util.mergeOptions(this.options,options,"catmullRom"),util.mergeOptions(this.options,options,"drawPoints"),util.mergeOptions(this.options,options,"shaded"),options.catmullRom)&&"object"==typeof options.catmullRom&&options.catmullRom.parametrization&&("uniform"==options.catmullRom.parametrization?this.options.catmullRom.alpha=0:"chordal"==options.catmullRom.parametrization?this.options.catmullRom.alpha=1:(this.options.catmullRom.parametrization="centripetal",this.options.catmullRom.alpha=.5))},GraphGroup.prototype.update=function(group){this.group=group,this.content=group.content||"graph",this.className=group.className||this.className||"graphGroup"+this.groupsUsingDefaultStyles[0]%10,this.visible=void 0===group.visible||group.visible,this.setOptions(group.options)},GraphGroup.prototype.drawIcon=function(x,y,JSONcontainer,SVGcontainer,iconWidth,iconHeight){var bar1Height,fillHeight=.5*iconHeight,outline=DOMutil.getSVGElement("rect",JSONcontainer,SVGcontainer);outline.setAttributeNS(null,"x",x),outline.setAttributeNS(null,"y",y-fillHeight),outline.setAttributeNS(null,"width",iconWidth),outline.setAttributeNS(null,"height",2*fillHeight),outline.setAttributeNS(null,"class","outline"),"line"==this.options.style?((outline=DOMutil.getSVGElement("path",JSONcontainer,SVGcontainer)).setAttributeNS(null,"class",this.className),outline.setAttributeNS(null,"d","M"+x+","+y+" L"+(x+iconWidth)+","+y),1==this.options.shaded.enabled&&(outline=DOMutil.getSVGElement("path",JSONcontainer,SVGcontainer),"top"==this.options.shaded.orientation?outline.setAttributeNS(null,"d","M"+x+", "+(y-fillHeight)+"L"+x+","+y+" L"+(x+iconWidth)+","+y+" L"+(x+iconWidth)+","+(y-fillHeight)):outline.setAttributeNS(null,"d","M"+x+","+y+" L"+x+","+(y+fillHeight)+" L"+(x+iconWidth)+","+(y+fillHeight)+"L"+(x+iconWidth)+","+y),outline.setAttributeNS(null,"class",this.className+" iconFill")),1==this.options.drawPoints.enabled&&DOMutil.drawPoint(x+.5*iconWidth,y,this,JSONcontainer,SVGcontainer)):(outline=Math.round(.3*iconWidth),bar1Height=Math.round(.4*iconHeight),iconHeight=Math.round(.75*iconHeight),iconWidth=Math.round((iconWidth-2*outline)/3),DOMutil.drawBar(x+.5*outline+iconWidth,y+fillHeight-bar1Height-1,outline,bar1Height,this.className+" bar",JSONcontainer,SVGcontainer),DOMutil.drawBar(x+1.5*outline+iconWidth+2,y+fillHeight-iconHeight-1,outline,iconHeight,this.className+" bar",JSONcontainer,SVGcontainer))},GraphGroup.prototype.getLegend=function(iconWidth,iconHeight){var svg=document.createElementNS("http://www.w3.org/2000/svg","svg");return this.drawIcon(0,.5*iconHeight,[],svg,iconWidth,iconHeight),{icon:svg,label:this.content,orientation:this.options.yAxisOrientation}},module.exports=GraphGroup},function(module,exports,__webpack_require__){var util=__webpack_require__(1),stack=__webpack_require__(16),ItemRange=__webpack_require__(31);function Group(groupId,data,itemSet){this.groupId=groupId,this.itemSet=itemSet,this.dom={},this.props={label:{width:0,height:0}},this.className=null,this.items={},this.visibleItems=[],this.orderedItems={byStart:[],byEnd:[]},this._create(),this.setData(data)}Group.prototype._create=function(){var label=document.createElement("div"),inner=(label.className="vlabel",this.dom.label=label,document.createElement("div")),label=(inner.className="inner",label.appendChild(inner),this.dom.inner=inner,document.createElement("div"));label.className="group",(label["timeline-group"]=this).dom.foreground=label,this.dom.background=document.createElement("div"),this.dom.background.className="group",this.dom.axis=document.createElement("div"),this.dom.axis.className="group",this.dom.marker=document.createElement("div"),this.dom.marker.style.visibility="hidden",this.dom.marker.innerHTML="?",this.dom.background.appendChild(this.dom.marker)},Group.prototype.setData=function(data){var content=data&&data.content,content=(content instanceof Element?this.dom.inner.appendChild(content):this.dom.inner.innerHTML=null!=content?content:this.groupId||"",this.dom.label.title=data&&data.title||"",this.dom.inner.firstChild?util.removeClassName(this.dom.inner,"hidden"):util.addClassName(this.dom.inner,"hidden"),data&&data.className||null);content!=this.className&&(this.className&&(util.removeClassName(this.dom.label,content),util.removeClassName(this.dom.foreground,content),util.removeClassName(this.dom.background,content),util.removeClassName(this.dom.axis,content)),util.addClassName(this.dom.label,content),util.addClassName(this.dom.foreground,content),util.addClassName(this.dom.background,content),util.addClassName(this.dom.axis,content))},Group.prototype.getLabelWidth=function(){return this.props.label.width},Group.prototype.redraw=function(range,margin,restack){this.visibleItems=this._updateVisibleItems(this.orderedItems,this.visibleItems,range);var min,max,offset,range=this.dom.marker.clientHeight,range=(range!=this.lastMarkerHeight&&(this.lastMarkerHeight=range,util.forEach(this.items,function(item){item.dirty=!0,item.displayed&&item.redraw()}),restack=!0),this.itemSet.options.stack?stack.stack(this.visibleItems,margin,restack):stack.nostack(this.visibleItems,margin),this.visibleItems),restack=range.length?(min=range[0].top,max=range[0].top+range[0].height,util.forEach(range,function(item){min=Math.min(min,item.top),max=Math.max(max,item.top+item.height)}),min>margin.axis&&(offset=min-margin.axis,max-=offset,util.forEach(range,function(item){item.top-=offset})),max+margin.item.vertical/2):margin.axis+margin.item.vertical,range=(restack=Math.max(restack,this.props.label.height),this.dom.foreground);this.top=range.offsetTop,this.left=range.offsetLeft,this.width=range.offsetWidth,margin=util.updateProperty(this,"height",restack)||!1,margin=util.updateProperty(this.props.label,"width",this.dom.inner.clientWidth)||margin,margin=util.updateProperty(this.props.label,"height",this.dom.inner.clientHeight)||margin,this.dom.background.style.height=restack+"px",this.dom.foreground.style.height=restack+"px",this.dom.label.style.height=restack+"px";for(var i=0,ii=this.visibleItems.length;i<ii;i++)this.visibleItems[i].repositionY();return margin},Group.prototype.show=function(){this.dom.label.parentNode||this.itemSet.dom.labelSet.appendChild(this.dom.label),this.dom.foreground.parentNode||this.itemSet.dom.foreground.appendChild(this.dom.foreground),this.dom.background.parentNode||this.itemSet.dom.background.appendChild(this.dom.background),this.dom.axis.parentNode||this.itemSet.dom.axis.appendChild(this.dom.axis)},Group.prototype.hide=function(){var label=this.dom.label,label=(label.parentNode&&label.parentNode.removeChild(label),this.dom.foreground),label=(label.parentNode&&label.parentNode.removeChild(label),this.dom.background),label=(label.parentNode&&label.parentNode.removeChild(label),this.dom.axis);label.parentNode&&label.parentNode.removeChild(label)},Group.prototype.add=function(item){var range;(this.items[item.id]=item).setParent(this),-1==this.visibleItems.indexOf(item)&&(range=this.itemSet.body.range,this._checkIfVisible(item,this.visibleItems,range))},Group.prototype.remove=function(item){delete this.items[item.id],item.setParent(this.itemSet);item=this.visibleItems.indexOf(item);-1!=item&&this.visibleItems.splice(item,1)},Group.prototype.removeFromDataSet=function(item){this.itemSet.removeItem(item.id)},Group.prototype.order=function(){var array=util.toArray(this.items);this.orderedItems.byStart=array,this.orderedItems.byEnd=this._constructByEndArray(array),stack.orderByStart(this.orderedItems.byStart),stack.orderByEnd(this.orderedItems.byEnd)},Group.prototype._constructByEndArray=function(array){for(var endArray=[],i=0;i<array.length;i++)array[i]instanceof ItemRange&&endArray.push(array[i]);return endArray},Group.prototype._updateVisibleItems=function(orderedItems,visibleItems,range){var i,newVisibleItems=[];if(0<visibleItems.length)for(i=0;i<visibleItems.length;i++)this._checkIfVisible(visibleItems[i],newVisibleItems,range);var initialPosByStart=0==newVisibleItems.length?util.binarySearch(orderedItems.byStart,range,"data","start"):orderedItems.byStart.indexOf(newVisibleItems[0]),initialPosByEnd=util.binarySearch(orderedItems.byEnd,range,"data","end");if(-1!=initialPosByStart){for(i=initialPosByStart;0<=i&&!this._checkIfInvisible(orderedItems.byStart[i],newVisibleItems,range);i--);for(i=initialPosByStart+1;i<orderedItems.byStart.length&&!this._checkIfInvisible(orderedItems.byStart[i],newVisibleItems,range);i++);}if(-1!=initialPosByEnd){for(i=initialPosByEnd;0<=i&&!this._checkIfInvisible(orderedItems.byEnd[i],newVisibleItems,range);i--);for(i=initialPosByEnd+1;i<orderedItems.byEnd.length&&!this._checkIfInvisible(orderedItems.byEnd[i],newVisibleItems,range);i++);}return newVisibleItems},Group.prototype._checkIfInvisible=function(item,visibleItems,range){return item.isVisible(range)?(item.displayed||item.show(),item.repositionX(),-1==visibleItems.indexOf(item)&&visibleItems.push(item),!1):(item.displayed&&item.hide(),!0)},Group.prototype._checkIfVisible=function(item,visibleItems,range){item.isVisible(range)?(item.displayed||item.show(),item.repositionX(),visibleItems.push(item)):item.displayed&&item.hide()},module.exports=Group},function(module,exports,__webpack_require__){var Hammer=__webpack_require__(41),util=__webpack_require__(1),DataSet=__webpack_require__(3),DataView=__webpack_require__(4),Component=__webpack_require__(18),Group=__webpack_require__(23),ItemBox=__webpack_require__(28),ItemPoint=__webpack_require__(30),ItemRange=__webpack_require__(31),UNGROUPED="__ungrouped__";function ItemSet(body,options){this.body=body,this.defaultOptions={type:null,orientation:"bottom",align:"center",stack:!0,groupOrder:null,selectable:!0,editable:{updateTime:!1,updateGroup:!1,add:!1,remove:!1},onAdd:function(item,callback){callback(item)},onUpdate:function(item,callback){callback(item)},onMove:function(item,callback){callback(item)},onRemove:function(item,callback){callback(item)},margin:{item:{horizontal:10,vertical:10},axis:20},padding:5},this.options=util.extend({},this.defaultOptions),this.itemOptions={type:{start:"Date",end:"Date"}},this.conversion={toScreen:body.util.toScreen,toTime:body.util.toTime},this.dom={},this.props={},this.hammer=null;var me=this;this.itemsData=null,this.groupsData=null,this.itemListeners={add:function(event,params,senderId){me._onAdd(params.items)},update:function(event,params,senderId){me._onUpdate(params.items)},remove:function(event,params,senderId){me._onRemove(params.items)}},this.groupListeners={add:function(event,params,senderId){me._onAddGroups(params.items)},update:function(event,params,senderId){me._onUpdateGroups(params.items)},remove:function(event,params,senderId){me._onRemoveGroups(params.items)}},this.items={},this.groups={},this.groupIds=[],this.selection=[],this.stackDirty=!0,this.touchParams={},this._create(),this.setOptions(options)}ItemSet.prototype=new Component,ItemSet.types={box:ItemBox,range:ItemRange,point:ItemPoint},ItemSet.prototype._create=function(){var frame=document.createElement("div"),background=(frame.className="itemset",(frame["timeline-itemset"]=this).dom.frame=frame,document.createElement("div")),background=(background.className="background",frame.appendChild(background),this.dom.background=background,document.createElement("div")),frame=(background.className="foreground",frame.appendChild(background),this.dom.foreground=background,document.createElement("div")),background=(frame.className="axis",this.dom.axis=frame,document.createElement("div"));background.className="labelset",this.dom.labelSet=background,this._updateUngrouped(),this.hammer=Hammer(this.body.dom.centerContainer,{prevent_default:!0}),this.hammer.on("touch",this._onTouch.bind(this)),this.hammer.on("dragstart",this._onDragStart.bind(this)),this.hammer.on("drag",this._onDrag.bind(this)),this.hammer.on("dragend",this._onDragEnd.bind(this)),this.hammer.on("tap",this._onSelectItem.bind(this)),this.hammer.on("hold",this._onMultiSelectItem.bind(this)),this.hammer.on("doubletap",this._onAddItem.bind(this)),this.show()},ItemSet.prototype.setOptions=function(options){var addCallback;options&&(util.selectiveExtend(["type","align","orientation","padding","stack","selectable","groupOrder"],this.options,options),"margin"in options&&("number"==typeof options.margin?(this.options.margin.axis=options.margin,this.options.margin.item.horizontal=options.margin,this.options.margin.item.vertical=options.margin):"object"==typeof options.margin&&(util.selectiveExtend(["axis"],this.options.margin,options.margin),"item"in options.margin)&&("number"==typeof options.margin.item?(this.options.margin.item.horizontal=options.margin.item,this.options.margin.item.vertical=options.margin.item):"object"==typeof options.margin.item&&util.selectiveExtend(["horizontal","vertical"],this.options.margin.item,options.margin.item))),"editable"in options&&("boolean"==typeof options.editable?(this.options.editable.updateTime=options.editable,this.options.editable.updateGroup=options.editable,this.options.editable.add=options.editable,this.options.editable.remove=options.editable):"object"==typeof options.editable&&util.selectiveExtend(["updateTime","updateGroup","add","remove"],this.options.editable,options.editable)),addCallback=function(name){if(name in options){var fn=options[name];if(!(fn instanceof Function))throw new Error("option "+name+" must be a function "+name+"(item, callback)");this.options[name]=fn}}.bind(this),["onAdd","onUpdate","onRemove","onMove"].forEach(addCallback),this.markDirty())},ItemSet.prototype.markDirty=function(){this.groupIds=[],this.stackDirty=!0},ItemSet.prototype.destroy=function(){this.hide(),this.setItems(null),this.setGroups(null),this.hammer=null,this.body=null,this.conversion=null},ItemSet.prototype.hide=function(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame),this.dom.axis.parentNode&&this.dom.axis.parentNode.removeChild(this.dom.axis),this.dom.labelSet.parentNode&&this.dom.labelSet.parentNode.removeChild(this.dom.labelSet)},ItemSet.prototype.show=function(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame),this.dom.axis.parentNode||this.body.dom.backgroundVertical.appendChild(this.dom.axis),this.dom.labelSet.parentNode||this.body.dom.left.appendChild(this.dom.labelSet)},ItemSet.prototype.setSelection=function(ids){var i,ii,id,item;if(ids){if(!Array.isArray(ids))throw new TypeError("Array expected");for(i=0,ii=this.selection.length;i<ii;i++)id=this.selection[i],(item=this.items[id])&&item.unselect();for(this.selection=[],i=0,ii=ids.length;i<ii;i++)id=ids[i],(item=this.items[id])&&(this.selection.push(id),item.select())}},ItemSet.prototype.getSelection=function(){return this.selection.concat([])},ItemSet.prototype.getVisibleItems=function(){var groupId,range=this.body.range.getRange(),left=this.body.util.toScreen(range.start),right=this.body.util.toScreen(range.end),ids=[];for(groupId in this.groups)if(this.groups.hasOwnProperty(groupId))for(var rawVisibleItems=this.groups[groupId].visibleItems,i=0;i<rawVisibleItems.length;i++){var item=rawVisibleItems[i];item.left<right&&item.left+item.width>left&&ids.push(item.id)}return ids},ItemSet.prototype._deselect=function(id){for(var selection=this.selection,i=0,ii=selection.length;i<ii;i++)if(selection[i]==id){selection.splice(i,1);break}},ItemSet.prototype.redraw=function(){var margin=this.options.margin,range=this.body.range,asSize=util.option.asSize,options=this.options,orientation=options.orientation,resized=!1,frame=this.dom.frame,options=options.editable.updateTime||options.editable.updateGroup,options=(frame.className="itemset"+(options?" editable":""),resized=this._orderGroups()||resized,range.end-range.start),restack=((options!=this.lastVisibleInterval||this.props.width!=this.props.lastWidth)&&(this.stackDirty=!0),this.lastVisibleInterval=options,this.props.lastWidth=this.props.width,this.stackDirty),firstGroup=this._firstGroup(),firstMargin={item:margin.item,axis:margin.axis},nonFirstMargin={item:margin.item,axis:margin.item.vertical/2},height=0,options=margin.axis+margin.item.vertical;return util.forEach(this.groups,function(group){var groupResized=group.redraw(range,group==firstGroup?firstMargin:nonFirstMargin,restack);resized=groupResized||resized,height+=group.height}),height=Math.max(height,options),this.stackDirty=!1,frame.style.height=asSize(height),this.props.top=frame.offsetTop,this.props.left=frame.offsetLeft,this.props.width=frame.offsetWidth,this.props.height=height,this.dom.axis.style.top=asSize("top"==orientation?this.body.domProps.top.height+this.body.domProps.border.top:this.body.domProps.top.height+this.body.domProps.centerContainer.height),this.dom.axis.style.left=this.body.domProps.border.left+"px",resized=this._isResized()||resized},ItemSet.prototype._firstGroup=function(){var firstGroupIndex="top"==this.options.orientation?0:this.groupIds.length-1,firstGroupIndex=this.groupIds[firstGroupIndex];return this.groups[firstGroupIndex]||this.groups[UNGROUPED]||null},ItemSet.prototype._updateUngrouped=function(){var ungrouped=this.groups[UNGROUPED];if(this.groupsData)ungrouped&&(ungrouped.hide(),delete this.groups[UNGROUPED]);else if(!ungrouped){var itemId,ungrouped=new Group(null,null,this);for(itemId in this.groups[UNGROUPED]=ungrouped,this.items)this.items.hasOwnProperty(itemId)&&ungrouped.add(this.items[itemId]);ungrouped.show()}},ItemSet.prototype.getLabelSet=function(){return this.dom.labelSet},ItemSet.prototype.setItems=function(items){var ids,id,me=this,oldItemsData=this.itemsData;if(items){if(!(items instanceof DataSet||items instanceof DataView))throw new TypeError("Data must be an instance of DataSet or DataView");this.itemsData=items}else this.itemsData=null;oldItemsData&&(util.forEach(this.itemListeners,function(callback,event){oldItemsData.off(event,callback)}),ids=oldItemsData.getIds(),this._onRemove(ids)),this.itemsData&&(id=this.id,util.forEach(this.itemListeners,function(callback,event){me.itemsData.on(event,callback,id)}),ids=this.itemsData.getIds(),this._onAdd(ids),this._updateUngrouped())},ItemSet.prototype.getItems=function(){return this.itemsData},ItemSet.prototype.setGroups=function(groups){var ids,id,me=this;if(this.groupsData&&(util.forEach(this.groupListeners,function(callback,event){me.groupsData.unsubscribe(event,callback)}),ids=this.groupsData.getIds(),this.groupsData=null,this._onRemoveGroups(ids)),groups){if(!(groups instanceof DataSet||groups instanceof DataView))throw new TypeError("Data must be an instance of DataSet or DataView");this.groupsData=groups}else this.groupsData=null;this.groupsData&&(id=this.id,util.forEach(this.groupListeners,function(callback,event){me.groupsData.on(event,callback,id)}),ids=this.groupsData.getIds(),this._onAddGroups(ids)),this._updateUngrouped(),this._order(),this.body.emitter.emit("change")},ItemSet.prototype.getGroups=function(){return this.groupsData},ItemSet.prototype.removeItem=function(id){var item=this.itemsData.get(id),dataset=this.itemsData.getDataSet();item&&this.options.onRemove(item,function(item){item&&dataset.remove(id)})},ItemSet.prototype._onAdd=ItemSet.prototype._onUpdate=function(ids){var me=this;ids.forEach(function(id){var itemData=me.itemsData.get(id,me.itemOptions),item=me.items[id],type=itemData.type||me.options.type||(itemData.end?"range":"box"),constructor=ItemSet.types[type];if(item&&(constructor&&item instanceof constructor?me._updateItem(item,itemData):(me._removeItem(item),item=null)),!item){if(!constructor)throw"rangeoverflow"==type?new TypeError('Item type "rangeoverflow" is deprecated. Use css styling instead: .vis.timeline .item.range .content {overflow: visible;}'):new TypeError('Unknown item type "'+type+'"');(item=new constructor(itemData,me.conversion,me.options)).id=id,me._addItem(item)}}),this._order(),this.stackDirty=!0,this.body.emitter.emit("change")},ItemSet.prototype._onRemove=function(ids){var count=0,me=this;ids.forEach(function(id){id=me.items[id];id&&(count++,me._removeItem(id))}),count&&(this._order(),this.stackDirty=!0,this.body.emitter.emit("change"))},ItemSet.prototype._order=function(){util.forEach(this.groups,function(group){group.order()})},ItemSet.prototype._onUpdateGroups=function(ids){this._onAddGroups(ids)},ItemSet.prototype._onAddGroups=function(ids){var me=this;ids.forEach(function(id){var groupData=me.groupsData.get(id),group=me.groups[id];if(group)group.setData(groupData);else{if(id==UNGROUPED)throw new Error("Illegal group id. "+id+" is a reserved id.");var itemId,item,groupOptions=Object.create(me.options);for(itemId in util.extend(groupOptions,{height:null}),group=new Group(id,groupData,me),me.groups[id]=group,me.items)me.items.hasOwnProperty(itemId)&&(item=me.items[itemId]).data.group==id&&group.add(item);group.order(),group.show()}}),this.body.emitter.emit("change")},ItemSet.prototype._onRemoveGroups=function(ids){var groups=this.groups;ids.forEach(function(id){var group=groups[id];group&&(group.hide(),delete groups[id])}),this.markDirty(),this.body.emitter.emit("change")},ItemSet.prototype._orderGroups=function(){var groupIds,changed,groups;return!!this.groupsData&&(groupIds=this.groupsData.getIds({order:this.options.groupOrder}),(changed=!util.equalArray(groupIds,this.groupIds))&&(groups=this.groups,groupIds.forEach(function(groupId){groups[groupId].hide()}),groupIds.forEach(function(groupId){groups[groupId].show()}),this.groupIds=groupIds),changed)},ItemSet.prototype._addItem=function(item){this.items[item.id]=item;var groupId=this.groupsData?item.data.group:UNGROUPED,groupId=this.groups[groupId];groupId&&groupId.add(item)},ItemSet.prototype._updateItem=function(item,itemData){var oldGroupId=item.data.group;item.data=itemData,item.displayed&&item.redraw(),oldGroupId!=item.data.group&&((itemData=this.groups[oldGroupId])&&itemData.remove(item),oldGroupId=this.groupsData?item.data.group:UNGROUPED,itemData=this.groups[oldGroupId])&&itemData.add(item)},ItemSet.prototype._removeItem=function(item){item.hide(),delete this.items[item.id];var index=this.selection.indexOf(item.id),index=(-1!=index&&this.selection.splice(index,1),this.groupsData?item.data.group:UNGROUPED),index=this.groups[index];index&&index.remove(item)},ItemSet.prototype._constructByEndArray=function(array){for(var endArray=[],i=0;i<array.length;i++)array[i]instanceof ItemRange&&endArray.push(array[i]);return endArray},ItemSet.prototype._onTouch=function(event){this.touchParams.item=ItemSet.itemFromTarget(event)},ItemSet.prototype._onDragStart=function(event){var item,me,props,dragLeftItem,dragRightItem;(this.options.editable.updateTime||this.options.editable.updateGroup)&&(item=this.touchParams.item||null,me=this,item)&&item.selected&&(dragLeftItem=event.target.dragLeftItem,dragRightItem=event.target.dragRightItem,dragLeftItem?(props={item:dragLeftItem},me.options.editable.updateTime&&(props.start=item.data.start.valueOf()),me.options.editable.updateGroup&&"group"in item.data&&(props.group=item.data.group),this.touchParams.itemProps=[props]):dragRightItem?(props={item:dragRightItem},me.options.editable.updateTime&&(props.end=item.data.end.valueOf()),me.options.editable.updateGroup&&"group"in item.data&&(props.group=item.data.group),this.touchParams.itemProps=[props]):this.touchParams.itemProps=this.getSelection().map(function(id){var id=me.items[id],props={item:id};return me.options.editable.updateTime&&("start"in id.data&&(props.start=id.data.start.valueOf()),"end"in id.data)&&(props.end=id.data.end.valueOf()),me.options.editable.updateGroup&&"group"in id.data&&(props.group=id.data.group),props}),event.stopPropagation())},ItemSet.prototype._onDrag=function(event){var range,snap,offset;this.touchParams.itemProps&&(range=this.body.range,snap=this.body.util.snap||null,offset=event.gesture.deltaX/(this.props.width/(range.end-range.start)),this.touchParams.itemProps.forEach(function(props){var start,oldGroup;"start"in props&&(start=new Date(props.start+offset),props.item.data.start=snap?snap(start):start),"end"in props&&(start=new Date(props.end+offset),props.item.data.end=snap?snap(start):start),"group"in props&&(start=ItemSet.groupFromTarget(event))&&start.groupId!=props.item.data.group&&((oldGroup=props.item.parent).remove(props.item),oldGroup.order(),start.add(props.item),start.order(),props.item.data.group=start.groupId)}),this.stackDirty=!0,this.body.emitter.emit("change"),event.stopPropagation())},ItemSet.prototype._onDragEnd=function(event){var changes,me,dataset;this.touchParams.itemProps&&(changes=[],dataset=(me=this).itemsData.getDataSet(),this.touchParams.itemProps.forEach(function(props){var id=props.item.id,itemData=me.itemsData.get(id,me.itemOptions),changed=!1;"start"in props.item.data&&(changed=props.start!=props.item.data.start.valueOf(),itemData.start=util.convert(props.item.data.start,dataset._options.type&&dataset._options.type.start||"Date")),"end"in props.item.data&&(changed=changed||props.end!=props.item.data.end.valueOf(),itemData.end=util.convert(props.item.data.end,dataset._options.type&&dataset._options.type.end||"Date")),"group"in props.item.data&&(changed=changed||props.group!=props.item.data.group,itemData.group=props.item.data.group),changed&&me.options.onMove(itemData,function(itemData){itemData?(itemData[dataset._fieldId]=id,changes.push(itemData)):("start"in props&&(props.item.data.start=props.start),"end"in props&&(props.item.data.end=props.end),me.stackDirty=!0,me.body.emitter.emit("change"))})}),this.touchParams.itemProps=null,changes.length&&dataset.update(changes),event.stopPropagation())},ItemSet.prototype._onSelectItem=function(event){var ctrlKey,shiftKey;this.options.selectable&&(ctrlKey=event.gesture.srcEvent&&event.gesture.srcEvent.ctrlKey,shiftKey=event.gesture.srcEvent&&event.gesture.srcEvent.shiftKey,ctrlKey||shiftKey?this._onMultiSelectItem(event):(ctrlKey=this.getSelection(),shiftKey=(shiftKey=ItemSet.itemFromTarget(event))?[shiftKey.id]:[],this.setSelection(shiftKey),(0<this.getSelection().length||0<ctrlKey.length)&&this.body.emitter.emit("select",{items:this.getSelection()}),event.stopPropagation()))},ItemSet.prototype._onAddItem=function(event){var me,snap,newItem,start,item;this.options.selectable&&this.options.editable.add&&(snap=(me=this).body.util.snap||null,(item=ItemSet.itemFromTarget(event))?(item=me.itemsData.get(item.id),this.options.onUpdate(item,function(itemData){itemData&&me.itemsData.update(itemData)})):(item=util.getAbsoluteLeft(this.dom.frame),item=event.gesture.center.pageX-item,start=this.body.util.toTime(item),newItem={start:snap?snap(start):start,content:"new item"},"range"===this.options.type&&(start=this.body.util.toTime(item+this.props.width/5),newItem.end=snap?snap(start):start),newItem[this.itemsData.fieldId]=util.randomUUID(),(item=ItemSet.groupFromTarget(event))&&(newItem.group=item.groupId),this.options.onAdd(newItem,function(item){item&&me.itemsData.add(newItem)})))},ItemSet.prototype._onMultiSelectItem=function(event){var item,selection,index;this.options.selectable&&(item=ItemSet.itemFromTarget(event))&&(-1==(index=(selection=this.getSelection()).indexOf(item.id))?selection.push(item.id):selection.splice(index,1),this.setSelection(selection),this.body.emitter.emit("select",{items:this.getSelection()}),event.stopPropagation())},ItemSet.itemFromTarget=function(event){for(var target=event.target;target;){if(target.hasOwnProperty("timeline-item"))return target["timeline-item"];target=target.parentNode}return null},ItemSet.groupFromTarget=function(event){for(var target=event.target;target;){if(target.hasOwnProperty("timeline-group"))return target["timeline-group"];target=target.parentNode}return null},ItemSet.itemSetFromTarget=function(event){for(var target=event.target;target;){if(target.hasOwnProperty("timeline-itemset"))return target["timeline-itemset"];target=target.parentNode}return null},module.exports=ItemSet},function(module,exports,__webpack_require__){var util=__webpack_require__(1),DOMutil=__webpack_require__(2),__webpack_require__=__webpack_require__(18);function Legend(body,options,side){this.body=body,this.defaultOptions={enabled:!0,icons:!0,iconSize:20,iconSpacing:6,left:{visible:!0,position:"top-left"},right:{visible:!0,position:"top-left"}},this.side=side,this.options=util.extend({},this.defaultOptions),this.svgElements={},this.dom={},this.groups={},this.amountOfGroups=0,this._create(),this.setOptions(options)}(Legend.prototype=new __webpack_require__).addGroup=function(label,graphOptions){this.groups.hasOwnProperty(label)||(this.groups[label]=graphOptions),this.amountOfGroups+=1},Legend.prototype.updateGroup=function(label,graphOptions){this.groups[label]=graphOptions},Legend.prototype.removeGroup=function(label){this.groups.hasOwnProperty(label)&&(delete this.groups[label],--this.amountOfGroups)},Legend.prototype._create=function(){this.dom.frame=document.createElement("div"),this.dom.frame.className="legend",this.dom.frame.style.position="absolute",this.dom.frame.style.top="10px",this.dom.frame.style.display="block",this.dom.textArea=document.createElement("div"),this.dom.textArea.className="legendText",this.dom.textArea.style.position="relative",this.dom.textArea.style.top="0px",this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.style.position="absolute",this.svg.style.top="0px",this.svg.style.width=this.options.iconSize+5+"px",this.dom.frame.appendChild(this.svg),this.dom.frame.appendChild(this.dom.textArea)},Legend.prototype.hide=function(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame)},Legend.prototype.show=function(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame)},Legend.prototype.setOptions=function(options){util.selectiveDeepExtend(["enabled","orientation","icons","left","right"],this.options,options)},Legend.prototype.redraw=function(){var activeGroups=0;for(groupId in this.groups)this.groups.hasOwnProperty(groupId)&&1==this.groups[groupId].visible&&activeGroups++;if(0==this.options[this.side].visible||0==this.amountOfGroups||0==this.options.enabled||0==activeGroups)this.hide();else{this.show(),"top-left"==this.options[this.side].position||"bottom-left"==this.options[this.side].position?(this.dom.frame.style.left="4px",this.dom.frame.style.textAlign="left",this.dom.textArea.style.textAlign="left",this.dom.textArea.style.left=this.options.iconSize+15+"px",this.dom.textArea.style.right="",this.svg.style.left="0px",this.svg.style.right=""):(this.dom.frame.style.right="4px",this.dom.frame.style.textAlign="right",this.dom.textArea.style.textAlign="right",this.dom.textArea.style.right=this.options.iconSize+15+"px",this.dom.textArea.style.left="",this.svg.style.right="0px",this.svg.style.left=""),"top-left"==this.options[this.side].position||"top-right"==this.options[this.side].position?(this.dom.frame.style.top=4-Number(this.body.dom.center.style.top.replace("px",""))+"px",this.dom.frame.style.bottom=""):(this.dom.frame.style.bottom=4-Number(this.body.dom.center.style.top.replace("px",""))+"px",this.dom.frame.style.top=""),0==this.options.icons?(this.dom.frame.style.width=this.dom.textArea.offsetWidth+10+"px",this.dom.textArea.style.right="",this.dom.textArea.style.left="",this.svg.style.width="0px"):(this.dom.frame.style.width=this.options.iconSize+15+this.dom.textArea.offsetWidth+10+"px",this.drawLegendIcons());var groupId,content="";for(groupId in this.groups)this.groups.hasOwnProperty(groupId)&&1==this.groups[groupId].visible&&(content+=this.groups[groupId].content+"<br />");this.dom.textArea.innerHTML=content,this.dom.textArea.style.lineHeight=.75*this.options.iconSize+this.options.iconSpacing+"px"}},Legend.prototype.drawLegendIcons=function(){if(this.dom.frame.parentNode){DOMutil.prepareElements(this.svgElements);var groupId,padding=window.getComputedStyle(this.dom.frame).paddingTop,padding=Number(padding.replace("px","")),x=padding,iconWidth=this.options.iconSize,iconHeight=.75*this.options.iconSize,y=padding+.5*iconHeight+3;for(groupId in this.svg.style.width=iconWidth+5+padding+"px",this.groups)this.groups.hasOwnProperty(groupId)&&1==this.groups[groupId].visible&&(this.groups[groupId].drawIcon(x,y,this.svgElements,this.svg,iconWidth,iconHeight),y+=iconHeight+this.options.iconSpacing);DOMutil.cleanupElements(this.svgElements)}},module.exports=Legend},function(module,exports,__webpack_require__){var util=__webpack_require__(1),DOMutil=__webpack_require__(2),DataSet=__webpack_require__(3),DataView=__webpack_require__(4),Component=__webpack_require__(18),DataAxis=__webpack_require__(21),GraphGroup=__webpack_require__(22),Legend=__webpack_require__(25),UNGROUPED="__ungrouped__";function LineGraph(body,options){this.id=util.randomUUID(),this.body=body,this.defaultOptions={yAxisOrientation:"left",defaultGroup:"default",sort:!0,sampling:!0,graphHeight:"400px",shaded:{enabled:!1,orientation:"bottom"},style:"line",barChart:{width:50,align:"center"},catmullRom:{enabled:!0,parametrization:"centripetal",alpha:.5},drawPoints:{enabled:!0,size:6,style:"square"},dataAxis:{showMinorLabels:!0,showMajorLabels:!0,icons:!1,width:"40px",visible:!0},legend:{enabled:!1,icons:!0,left:{visible:!0,position:"top-left"},right:{visible:!0,position:"top-right"}}},this.options=util.extend({},this.defaultOptions),this.dom={},this.props={},this.hammer=null,this.groups={};var me=this;this.itemsData=null,this.groupsData=null,this.itemListeners={add:function(event,params,senderId){me._onAdd(params.items)},update:function(event,params,senderId){me._onUpdate(params.items)},remove:function(event,params,senderId){me._onRemove(params.items)}},this.groupListeners={add:function(event,params,senderId){me._onAddGroups(params.items)},update:function(event,params,senderId){me._onUpdateGroups(params.items)},remove:function(event,params,senderId){me._onRemoveGroups(params.items)}},this.items={},this.selection=[],this.lastStart=this.body.range.start,this.touchParams={},this.svgElements={},this.setOptions(options),this.groupsUsingDefaultStyles=[0],this.body.emitter.on("rangechange",function(){var offset,range;0!=me.lastStart&&(offset=me.body.range.start-me.lastStart,range=me.body.range.end-me.body.range.start,0!=me.width)&&(range=me.width/range,me.svg.style.left=-me.width-offset*range+"px")}),this.body.emitter.on("rangechanged",function(){me.lastStart=me.body.range.start,me.svg.style.left=util.option.asSize(-me.width),me._updateGraph.apply(me)}),this._create(),this.body.emitter.emit("change")}(LineGraph.prototype=new Component)._create=function(){var frame=document.createElement("div");frame.className="LineGraph",this.dom.frame=frame,this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.style.position="relative",this.svg.style.height=(""+this.options.graphHeight).replace("px","")+"px",this.svg.style.display="block",frame.appendChild(this.svg),this.options.dataAxis.orientation="left",this.yAxisLeft=new DataAxis(this.body,this.options.dataAxis,this.svg),this.options.dataAxis.orientation="right",this.yAxisRight=new DataAxis(this.body,this.options.dataAxis,this.svg),delete this.options.dataAxis.orientation,this.legendLeft=new Legend(this.body,this.options.legend,"left"),this.legendRight=new Legend(this.body,this.options.legend,"right"),this.show()},LineGraph.prototype.setOptions=function(options){options&&(util.selectiveDeepExtend(["sampling","defaultGroup","graphHeight","yAxisOrientation","style","barChart","dataAxis","sort"],this.options,options),util.mergeOptions(this.options,options,"catmullRom"),util.mergeOptions(this.options,options,"drawPoints"),util.mergeOptions(this.options,options,"shaded"),util.mergeOptions(this.options,options,"legend"),options.catmullRom&&"object"==typeof options.catmullRom&&options.catmullRom.parametrization&&("uniform"==options.catmullRom.parametrization?this.options.catmullRom.alpha=0:"chordal"==options.catmullRom.parametrization?this.options.catmullRom.alpha=1:(this.options.catmullRom.parametrization="centripetal",this.options.catmullRom.alpha=.5)),this.yAxisLeft&&void 0!==options.dataAxis&&(this.yAxisLeft.setOptions(this.options.dataAxis),this.yAxisRight.setOptions(this.options.dataAxis)),this.legendLeft&&void 0!==options.legend&&(this.legendLeft.setOptions(this.options.legend),this.legendRight.setOptions(this.options.legend)),this.groups.hasOwnProperty(UNGROUPED))&&this.groups[UNGROUPED].setOptions(options),this.dom.frame&&this._updateGraph()},LineGraph.prototype.hide=function(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame)},LineGraph.prototype.show=function(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame)},LineGraph.prototype.setItems=function(items){var ids,id,me=this,oldItemsData=this.itemsData;if(items){if(!(items instanceof DataSet||items instanceof DataView))throw new TypeError("Data must be an instance of DataSet or DataView");this.itemsData=items}else this.itemsData=null;oldItemsData&&(util.forEach(this.itemListeners,function(callback,event){oldItemsData.off(event,callback)}),ids=oldItemsData.getIds(),this._onRemove(ids)),this.itemsData&&(id=this.id,util.forEach(this.itemListeners,function(callback,event){me.itemsData.on(event,callback,id)}),ids=this.itemsData.getIds(),this._onAdd(ids)),this._updateUngrouped(),this._updateGraph(),this.redraw()},LineGraph.prototype.setGroups=function(groups){var ids,id,me=this;if(this.groupsData&&(util.forEach(this.groupListeners,function(callback,event){me.groupsData.unsubscribe(event,callback)}),ids=this.groupsData.getIds(),this.groupsData=null,this._onRemoveGroups(ids)),groups){if(!(groups instanceof DataSet||groups instanceof DataView))throw new TypeError("Data must be an instance of DataSet or DataView");this.groupsData=groups}else this.groupsData=null;this.groupsData&&(id=this.id,util.forEach(this.groupListeners,function(callback,event){me.groupsData.on(event,callback,id)}),ids=this.groupsData.getIds(),this._onAddGroups(ids)),this._onUpdate()},LineGraph.prototype._onUpdate=function(ids){this._updateUngrouped(),this._updateAllGroupData(),this._updateGraph(),this.redraw()},LineGraph.prototype._onAdd=function(ids){this._onUpdate(ids)},LineGraph.prototype._onRemove=function(ids){this._onUpdate(ids)},LineGraph.prototype._onUpdateGroups=function(groupIds){for(var i=0;i<groupIds.length;i++){var group=this.groupsData.get(groupIds[i]);this._updateGroup(group,groupIds[i])}this._updateGraph(),this.redraw()},LineGraph.prototype._onAddGroups=function(groupIds){this._onUpdateGroups(groupIds)},LineGraph.prototype._onRemoveGroups=function(groupIds){for(var i=0;i<groupIds.length;i++)this.groups.hasOwnProperty(groupIds[i])||(("right"==this.groups[groupIds[i]].options.yAxisOrientation?(this.yAxisRight.removeGroup(groupIds[i]),this.legendRight.removeGroup(groupIds[i]),this.legendRight):(this.yAxisLeft.removeGroup(groupIds[i]),this.legendLeft.removeGroup(groupIds[i]),this.legendLeft)).redraw(),delete this.groups[groupIds[i]]);this._updateUngrouped(),this._updateGraph(),this.redraw()},LineGraph.prototype._updateGroup=function(group,groupId){this.groups.hasOwnProperty(groupId)?(this.groups[groupId].update(group),("right"==this.groups[groupId].options.yAxisOrientation?(this.yAxisRight.updateGroup(groupId,this.groups[groupId]),this.legendRight):(this.yAxisLeft.updateGroup(groupId,this.groups[groupId]),this.legendLeft)).updateGroup(groupId,this.groups[groupId])):(this.groups[groupId]=new GraphGroup(group,groupId,this.options,this.groupsUsingDefaultStyles),("right"==this.groups[groupId].options.yAxisOrientation?(this.yAxisRight.addGroup(groupId,this.groups[groupId]),this.legendRight):(this.yAxisLeft.addGroup(groupId,this.groups[groupId]),this.legendLeft)).addGroup(groupId,this.groups[groupId])),this.legendLeft.redraw(),this.legendRight.redraw()},LineGraph.prototype._updateAllGroupData=function(){if(null!=this.itemsData){var itemId,item,groupId,groupsContent={};for(groupId in this.groups)this.groups.hasOwnProperty(groupId)&&(groupsContent[groupId]=[]);for(itemId in this.itemsData._data)this.itemsData._data.hasOwnProperty(itemId)&&((item=this.itemsData._data[itemId]).x=util.convert(item.x,"Date"),groupsContent[item.group].push(item));for(groupId in this.groups)this.groups.hasOwnProperty(groupId)&&this.groups[groupId].setItems(groupsContent[groupId])}},LineGraph.prototype._updateUngrouped=function(){if(null!=this.itemsData){var group={id:UNGROUPED,content:this.options.defaultGroup},ungroupedCounter=(this._updateGroup(group,UNGROUPED),0);if(this.itemsData)for(var itemId in this.itemsData._data)this.itemsData._data.hasOwnProperty(itemId)&&null!=(itemId=this.itemsData._data[itemId])&&(itemId.hasOwnProperty("group")&&void 0!==itemId.group||(itemId.group=UNGROUPED),ungroupedCounter=itemId.group==UNGROUPED?ungroupedCounter+1:ungroupedCounter);0==ungroupedCounter&&(delete this.groups[UNGROUPED],this.legendLeft.removeGroup(UNGROUPED),this.legendRight.removeGroup(UNGROUPED),this.yAxisLeft.removeGroup(UNGROUPED),this.yAxisRight.removeGroup(UNGROUPED))}else delete this.groups[UNGROUPED],this.legendLeft.removeGroup(UNGROUPED),this.legendRight.removeGroup(UNGROUPED),this.yAxisLeft.removeGroup(UNGROUPED),this.yAxisRight.removeGroup(UNGROUPED);this.legendLeft.redraw(),this.legendRight.redraw()},LineGraph.prototype.redraw=function(){var resized=!1,visibleInterval=(this.svg.style.height=(""+this.options.graphHeight).replace("px","")+"px",(void 0===this.lastWidth&&this.width||this.lastWidth!=this.width)&&(resized=!0),resized=this._isResized()||resized,this.body.range.end-this.body.range.start),zoomed=visibleInterval!=this.lastVisibleInterval||this.width!=this.lastWidth;return this.lastVisibleInterval=visibleInterval,this.lastWidth=this.width,this.width=this.dom.frame.offsetWidth,1==resized&&(this.svg.style.width=util.option.asSize(3*this.width),this.svg.style.left=util.option.asSize(-this.width)),1==zoomed&&this._updateGraph(),this.legendLeft.redraw(),this.legendRight.redraw(),resized},LineGraph.prototype._updateGraph=function(){if(DOMutil.prepareElements(this.svgElements),0!=this.width&&null!=this.itemsData){var group,groupData,preprocessedGroup,i,groupId,preprocessedGroupData=[],processedGroupData=[],groupRanges=[],groupIds=[];for(groupId in this.groups)this.groups.hasOwnProperty(groupId)&&groupIds.push(groupId);var minDate=this.body.util.toGlobalTime(-this.body.domProps.root.width),maxDate=this.body.util.toGlobalTime(2*this.body.domProps.root.width);if(0<groupIds.length){for(i=0;i<groupIds.length;i++)if(1==(group=this.groups[groupIds[i]]).visible){if(groupData=[],1==group.options.sort){for(var j=Math.max(0,util.binarySearchGeneric(group.itemsData,minDate,"x","before"));j<group.itemsData.length;j++)if(void 0!==(item=group.itemsData[j])){if(item.x>maxDate){groupData.push(item);break}groupData.push(item)}}else for(var item,j=0;j<group.itemsData.length;j++)void 0!==(item=group.itemsData[j])&&item.x>minDate&&item.x<maxDate&&groupData.push(item);0<groupData.length?(preprocessedGroup=this._preprocessData(groupData,group),groupRanges.push({min:preprocessedGroup.min,max:preprocessedGroup.max}),preprocessedGroupData.push(preprocessedGroup.data)):(groupRanges.push({}),preprocessedGroupData.push([]))}else groupRanges.push({}),preprocessedGroupData.push([]);if(1==this._updateYAxis(groupIds,groupRanges))return DOMutil.cleanupElements(this.svgElements),void this.body.emitter.emit("change");for(i=0;i<groupIds.length;i++)group=this.groups[groupIds[i]],processedGroupData.push(this._convertYvalues(preprocessedGroupData[i],group));for(i=0;i<groupIds.length;i++)1==(group=this.groups[groupIds[i]]).visible&&("line"==group.options.style?this._drawLineGraph(processedGroupData[i],group):this._drawBarGraph(processedGroupData[i],group))}}DOMutil.cleanupElements(this.svgElements)},LineGraph.prototype._updateYAxis=function(groupIds,groupRanges){var maxVal,changeCalled=!1,yAxisLeftUsed=!1,yAxisRightUsed=!1,minLeft=1e9,minRight=1e9,maxLeft=-1e9,maxRight=-1e9,orientation="left";if(0<groupIds.length){for(var i=0;i<groupIds.length;i++){var orientation="left",group=this.groups[groupIds[i]];1==group.visible&&("right"==group.options.yAxisOrientation&&(orientation="right"),group=groupRanges[i].min,maxVal=groupRanges[i].max,"left"==orientation?(yAxisLeftUsed=!0,minLeft=group<minLeft?group:minLeft,maxLeft=maxLeft<maxVal?maxVal:maxLeft):(yAxisRightUsed=!0,minRight=group<minRight?group:minRight,maxRight=maxRight<maxVal?maxVal:maxRight))}1==yAxisLeftUsed&&this.yAxisLeft.setRange(minLeft,maxLeft),1==yAxisRightUsed&&this.yAxisRight.setRange(minRight,maxRight)}return changeCalled=this._toggleAxisVisiblity(yAxisLeftUsed,this.yAxisLeft)||changeCalled,changeCalled=this._toggleAxisVisiblity(yAxisRightUsed,this.yAxisRight)||changeCalled,1==yAxisRightUsed&&1==yAxisLeftUsed?(this.yAxisLeft.drawIcons=!0,this.yAxisRight.drawIcons=!0):(this.yAxisLeft.drawIcons=!1,this.yAxisRight.drawIcons=!1),this.yAxisRight.master=!yAxisLeftUsed,0==this.yAxisRight.master&&(this.yAxisLeft.lineOffset=1==yAxisRightUsed?this.yAxisRight.width:0,changeCalled=this.yAxisLeft.redraw()||changeCalled,this.yAxisRight.stepPixelsForced=this.yAxisLeft.stepPixels),changeCalled=this.yAxisRight.redraw()||changeCalled},LineGraph.prototype._toggleAxisVisiblity=function(axisUsed,axis){var changed=!1;return 0==axisUsed?axis.dom.frame.parentNode&&(axis.hide(),changed=!0):axis.dom.frame.parentNode||(axis.show(),changed=!0),changed},LineGraph.prototype._drawBarGraph=function(dataset,group){if(null!=dataset&&0<dataset.length){var coreDistance,minWidth=.1*group.options.barChart.width,offset=0,width=group.options.barChart.width;"left"==group.options.barChart.align?offset-=.5*width:"right"==group.options.barChart.align&&(offset+=.5*width);for(var i=0;i<dataset.length;i++)i+1<dataset.length&&(coreDistance=Math.abs(dataset[i+1].x-dataset[i].x)),(coreDistance=0<i?Math.min(coreDistance,Math.abs(dataset[i-1].x-dataset[i].x)):coreDistance)<width&&(width=coreDistance<minWidth?minWidth:coreDistance),DOMutil.drawBar(dataset[i].x+offset,dataset[i].y,width,group.zeroPosition-dataset[i].y,group.className+" bar",this.svgElements,this.svg);1==group.options.drawPoints.enabled&&this._drawPoints(dataset,group,this.svgElements,this.svg,offset)}},LineGraph.prototype._drawLineGraph=function(dataset,group){var d,fillPath,svgHeight,path;null!=dataset&&0<dataset.length&&(svgHeight=Number(this.svg.style.height.replace("px","")),(path=DOMutil.getSVGElement("path",this.svgElements,this.svg)).setAttributeNS(null,"class",group.className),d=1==group.options.catmullRom.enabled?this._catmullRom(dataset,group):this._linear(dataset),1==group.options.shaded.enabled&&(fillPath=DOMutil.getSVGElement("path",this.svgElements,this.svg),svgHeight="top"==group.options.shaded.orientation?"M"+dataset[0].x+",0 "+d+"L"+dataset[dataset.length-1].x+",0":"M"+dataset[0].x+","+svgHeight+" "+d+"L"+dataset[dataset.length-1].x+","+svgHeight,fillPath.setAttributeNS(null,"class",group.className+" fill"),fillPath.setAttributeNS(null,"d",svgHeight)),path.setAttributeNS(null,"d","M"+d),1==group.options.drawPoints.enabled)&&this._drawPoints(dataset,group,this.svgElements,this.svg)},LineGraph.prototype._drawPoints=function(dataset,group,JSONcontainer,svg,offset){void 0===offset&&(offset=0);for(var i=0;i<dataset.length;i++)DOMutil.drawPoint(dataset[i].x+offset,dataset[i].y,group,JSONcontainer,svg)},LineGraph.prototype._preprocessData=function(datapoints,group){var xValue,yValue,extractedData=[],toScreen=this.body.util.toScreen,increment=1,amountOfPoints=datapoints.length,yMin=datapoints[0].y,yMax=datapoints[0].y;1==group.options.sampling&&(group=amountOfPoints/(this.body.util.toGlobalScreen(datapoints[datapoints.length-1].x)-this.body.util.toGlobalScreen(datapoints[0].x)),increment=Math.min(Math.ceil(.2*amountOfPoints),Math.max(1,Math.round(group))));for(var i=0;i<amountOfPoints;i+=increment)xValue=toScreen(datapoints[i].x)+this.width-1,yValue=datapoints[i].y,extractedData.push({x:xValue,y:yValue}),yMin=yValue<yMin?yValue:yMin,yMax=yMax<yValue?yValue:yMax;return{min:yMin,max:yMax,data:extractedData}},LineGraph.prototype._convertYvalues=function(datapoints,group){var xValue,yValue,extractedData=[],axis=this.yAxisLeft,svgHeight=Number(this.svg.style.height.replace("px",""));"right"==group.options.yAxisOrientation&&(axis=this.yAxisRight);for(var i=0;i<datapoints.length;i++)xValue=datapoints[i].x,yValue=Math.round(axis.convertValue(datapoints[i].y)),extractedData.push({x:xValue,y:yValue});return group.setZeroPosition(Math.min(svgHeight,axis.convertValue(0))),extractedData},LineGraph.prototype._catmullRomUniform=function(data){for(var p2,p3,p0,p1,d=Math.round(data[0].x)+","+Math.round(data[0].y)+" ",length=data.length,i=0;i<length-1;i++)p0=0==i?data[0]:data[i-1],p1=data[i],p2=data[i+1],p3=i+2<length?data[i+2]:p2,p0={x:(-p0.x+6*p1.x+p2.x)*(1/6),y:(-p0.y+6*p1.y+p2.y)*(1/6)},p1={x:(p1.x+6*p2.x-p3.x)*(1/6),y:(p1.y+6*p2.y-p3.y)*(1/6)},d+="C"+p0.x+","+p0.y+" "+p1.x+","+p1.y+" "+p2.x+","+p2.y+" ";return d},LineGraph.prototype._catmullRom=function(data,group){var alpha=group.options.catmullRom.alpha;if(0==alpha||void 0===alpha)return this._catmullRomUniform(data);for(var p1,p2,p3,p0,N,M,d3powA,d2powA,d3,d2,d1,d1powA,d=Math.round(data[0].x)+","+Math.round(data[0].y)+" ",length=data.length,i=0;i<length-1;i++)p0=0==i?data[0]:data[i-1],p1=data[i],p2=data[i+1],p3=i+2<length?data[i+2]:p2,d1=Math.sqrt(Math.pow(p0.x-p1.x,2)+Math.pow(p0.y-p1.y,2)),d2=Math.sqrt(Math.pow(p1.x-p2.x,2)+Math.pow(p1.y-p2.y,2)),d3=Math.sqrt(Math.pow(p2.x-p3.x,2)+Math.pow(p2.y-p3.y,2)),d3powA=Math.pow(d3,alpha),d3=Math.pow(d3,2*alpha),d2powA=Math.pow(d2,alpha),d2=Math.pow(d2,2*alpha),d1powA=Math.pow(d1,alpha),d1=Math.pow(d1,2*alpha),0<(N=3*d1powA*(d1powA+d2powA))&&(N=1/N),0<(M=3*d3powA*(d3powA+d2powA))&&(M=1/M),p0={x:(-d2*p0.x+(d1powA=2*d1+3*d1powA*d2powA+d2)*p1.x+d1*p2.x)*N,y:(-d2*p0.y+d1powA*p1.y+d1*p2.y)*N},d1={x:(d3*p1.x+(d1powA=2*d3+3*d3powA*d2powA+d2)*p2.x-d2*p3.x)*M,y:(d3*p1.y+d1powA*p2.y-d2*p3.y)*M},0==p0.x&&0==p0.y&&(p0=p1),0==d1.x&&0==d1.y&&(d1=p2),d+="C"+p0.x+","+p0.y+" "+d1.x+","+d1.y+" "+p2.x+","+p2.y+" ";return d},LineGraph.prototype._linear=function(data){for(var d="",i=0;i<data.length;i++)d+=0==i?data[i].x+","+data[i].y:" "+data[i].x+","+data[i].y;return d},module.exports=LineGraph},function(module,exports,__webpack_require__){var util=__webpack_require__(1),Component=__webpack_require__(18),TimeStep=__webpack_require__(17);function TimeAxis(body,options){this.dom={foreground:null,majorLines:[],majorTexts:[],minorLines:[],minorTexts:[],redundant:{majorLines:[],majorTexts:[],minorLines:[],minorTexts:[]}},this.props={range:{start:0,end:0,minimumStep:0},lineTop:0},this.defaultOptions={orientation:"bottom",showMinorLabels:!0,showMajorLabels:!0},this.options=util.extend({},this.defaultOptions),this.body=body,this._create(),this.setOptions(options)}(TimeAxis.prototype=new Component).setOptions=function(options){options&&util.selectiveExtend(["orientation","showMinorLabels","showMajorLabels"],this.options,options)},TimeAxis.prototype._create=function(){this.dom.foreground=document.createElement("div"),this.dom.background=document.createElement("div"),this.dom.foreground.className="timeaxis foreground",this.dom.background.className="timeaxis background"},TimeAxis.prototype.destroy=function(){this.dom.foreground.parentNode&&this.dom.foreground.parentNode.removeChild(this.dom.foreground),this.dom.background.parentNode&&this.dom.background.parentNode.removeChild(this.dom.background),this.body=null},TimeAxis.prototype.redraw=function(){var options=this.options,props=this.props,foreground=this.dom.foreground,background=this.dom.background,parent="top"==options.orientation?this.body.dom.top:this.body.dom.bottom,parentChanged=foreground.parentNode!==parent,showMinorLabels=(this._calculateCharSize(),this.options.orientation,this.options.showMinorLabels),showMajorLabels=this.options.showMajorLabels,showMinorLabels=(props.minorLabelHeight=showMinorLabels?props.minorCharHeight:0,props.majorLabelHeight=showMajorLabels?props.majorCharHeight:0,props.height=props.minorLabelHeight+props.majorLabelHeight,props.width=foreground.offsetWidth,props.minorLineHeight=this.body.domProps.root.height-props.majorLabelHeight-("top"==options.orientation?this.body.domProps.bottom:this.body.domProps.top).height,props.minorLineWidth=1,props.majorLineHeight=props.minorLineHeight+props.majorLabelHeight,props.majorLineWidth=1,foreground.nextSibling),showMajorLabels=background.nextSibling;return foreground.parentNode&&foreground.parentNode.removeChild(foreground),background.parentNode&&background.parentNode.removeChild(background),foreground.style.height=this.props.height+"px",this._repaintLabels(),showMinorLabels?parent.insertBefore(foreground,showMinorLabels):parent.appendChild(foreground),showMajorLabels?this.body.dom.backgroundVertical.insertBefore(background,showMajorLabels):this.body.dom.backgroundVertical.appendChild(background),this._isResized()||parentChanged},TimeAxis.prototype._repaintLabels=function(){for(var orientation=this.options.orientation,start=util.convert(this.body.range.start,"Number"),end=util.convert(this.body.range.end,"Number"),minimumStep=this.body.util.toTime(7*(this.props.minorCharWidth||10)).valueOf()-this.body.util.toTime(0).valueOf(),step=new TimeStep(new Date(start),new Date(end),minimumStep),start=(this.step=step,this.dom),xFirstMajorLabel=(start.redundant.majorLines=start.majorLines,start.redundant.majorTexts=start.majorTexts,start.redundant.minorLines=start.minorLines,start.redundant.minorTexts=start.minorTexts,start.majorLines=[],start.majorTexts=[],start.minorLines=[],start.minorTexts=[],step.first(),void 0),max=0;step.hasNext()&&max<1e3;){max++;var cur=step.getCurrent(),cur=this.body.util.toScreen(cur),isMajor=step.isMajor();this.options.showMinorLabels&&this._repaintMinorText(cur,step.getLabelMinor(),orientation),isMajor&&this.options.showMajorLabels?(0<cur&&(null==xFirstMajorLabel&&(xFirstMajorLabel=cur),this._repaintMajorText(cur,step.getLabelMajor(),orientation)),this._repaintMajorLine(cur,orientation)):this._repaintMinorLine(cur,orientation),step.next()}this.options.showMajorLabels&&(end=this.body.util.toTime(0),start=(minimumStep=step.getLabelMajor(end)).length*(this.props.majorCharWidth||10)+10,null==xFirstMajorLabel||start<xFirstMajorLabel)&&this._repaintMajorText(0,minimumStep,orientation),util.forEach(this.dom.redundant,function(arr){for(;arr.length;){var elem=arr.pop();elem&&elem.parentNode&&elem.parentNode.removeChild(elem)}})},TimeAxis.prototype._repaintMinorText=function(x,text,orientation){var content,label=this.dom.redundant.minorTexts.shift();label||(content=document.createTextNode(""),(label=document.createElement("div")).appendChild(content),label.className="text minor",this.dom.foreground.appendChild(label)),this.dom.minorTexts.push(label),label.childNodes[0].nodeValue=text,label.style.top="top"==orientation?this.props.majorLabelHeight+"px":"0",label.style.left=x+"px"},TimeAxis.prototype._repaintMajorText=function(x,text,orientation){var content,label=this.dom.redundant.majorTexts.shift();label||(content=document.createTextNode(text),(label=document.createElement("div")).className="text major",label.appendChild(content),this.dom.foreground.appendChild(label)),this.dom.majorTexts.push(label),label.childNodes[0].nodeValue=text,label.style.top="top"==orientation?"0":this.props.minorLabelHeight+"px",label.style.left=x+"px"},TimeAxis.prototype._repaintMinorLine=function(x,orientation){var line=this.dom.redundant.minorLines.shift(),props=(line||((line=document.createElement("div")).className="grid vertical minor",this.dom.background.appendChild(line)),this.dom.minorLines.push(line),this.props);line.style.top="top"==orientation?props.majorLabelHeight+"px":this.body.domProps.top.height+"px",line.style.height=props.minorLineHeight+"px",line.style.left=x-props.minorLineWidth/2+"px"},TimeAxis.prototype._repaintMajorLine=function(x,orientation){var line=this.dom.redundant.majorLines.shift(),props=(line||((line=document.createElement("DIV")).className="grid vertical major",this.dom.background.appendChild(line)),this.dom.majorLines.push(line),this.props);line.style.top="top"==orientation?"0":this.body.domProps.top.height+"px",line.style.left=x-props.majorLineWidth/2+"px",line.style.height=props.majorLineHeight+"px"},TimeAxis.prototype._calculateCharSize=function(){this.dom.measureCharMinor||(this.dom.measureCharMinor=document.createElement("DIV"),this.dom.measureCharMinor.className="text minor measure",this.dom.measureCharMinor.style.position="absolute",this.dom.measureCharMinor.appendChild(document.createTextNode("0")),this.dom.foreground.appendChild(this.dom.measureCharMinor)),this.props.minorCharHeight=this.dom.measureCharMinor.clientHeight,this.props.minorCharWidth=this.dom.measureCharMinor.clientWidth,this.dom.measureCharMajor||(this.dom.measureCharMajor=document.createElement("DIV"),this.dom.measureCharMajor.className="text minor measure",this.dom.measureCharMajor.style.position="absolute",this.dom.measureCharMajor.appendChild(document.createTextNode("0")),this.dom.foreground.appendChild(this.dom.measureCharMajor)),this.props.majorCharHeight=this.dom.measureCharMajor.clientHeight,this.props.majorCharWidth=this.dom.measureCharMajor.clientWidth},TimeAxis.prototype.snap=function(date){return this.step.snap(date)},module.exports=TimeAxis},function(module,exports,__webpack_require__){var Item=__webpack_require__(29);function ItemBox(data,conversion,options){if(this.props={dot:{width:0,height:0},line:{width:0,height:0}},data&&null==data.start)throw new Error('Property "start" missing in item '+data);Item.call(this,data,conversion,options)}(ItemBox.prototype=new Item(null,null,null)).isVisible=function(range){var interval=(range.end-range.start)/4;return this.data.start>range.start-interval&&this.data.start<range.end+interval},ItemBox.prototype.redraw=function(){var dom=this.dom;if(dom||(this.dom={},(dom=this.dom).box=document.createElement("DIV"),dom.content=document.createElement("DIV"),dom.content.className="content",dom.box.appendChild(dom.content),dom.line=document.createElement("DIV"),dom.line.className="line",dom.dot=document.createElement("DIV"),dom.dot.className="dot",dom.box["timeline-item"]=this),!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!dom.box.parentNode){var foreground=this.parent.dom.foreground;if(!foreground)throw new Error("Cannot redraw time axis: parent has no foreground container element");foreground.appendChild(dom.box)}if(!dom.line.parentNode){var background=this.parent.dom.background;if(!background)throw new Error("Cannot redraw time axis: parent has no background container element");background.appendChild(dom.line)}if(!dom.dot.parentNode){foreground=this.parent.dom.axis;if(!background)throw new Error("Cannot redraw time axis: parent has no axis container element");foreground.appendChild(dom.dot)}if(this.displayed=!0,this.data.content!=this.content){if(this.content=this.data.content,this.content instanceof Element)dom.content.innerHTML="",dom.content.appendChild(this.content);else{if(null==this.data.content)throw new Error('Property "content" missing in item '+this.data.id);dom.content.innerHTML=this.content}this.dirty=!0}this.data.title!=this.title&&(dom.box.title=this.data.title,this.title=this.data.title);background=(this.data.className?" "+this.data.className:"")+(this.selected?" selected":"");this.className!=background&&(this.className=background,dom.box.className="item box"+background,dom.line.className="item line"+background,dom.dot.className="item dot"+background,this.dirty=!0),this.dirty&&(this.props.dot.height=dom.dot.offsetHeight,this.props.dot.width=dom.dot.offsetWidth,this.props.line.width=dom.line.offsetWidth,this.width=dom.box.offsetWidth,this.height=dom.box.offsetHeight,this.dirty=!1),this._repaintDeleteButton(dom.box)},ItemBox.prototype.show=function(){this.displayed||this.redraw()},ItemBox.prototype.hide=function(){var dom;this.displayed&&((dom=this.dom).box.parentNode&&dom.box.parentNode.removeChild(dom.box),dom.line.parentNode&&dom.line.parentNode.removeChild(dom.line),dom.dot.parentNode&&dom.dot.parentNode.removeChild(dom.dot),this.top=null,this.left=null,this.displayed=!1)},ItemBox.prototype.repositionX=function(){var start=this.conversion.toScreen(this.data.start),align=this.options.align,box=this.dom.box,line=this.dom.line,dot=this.dom.dot;this.left="right"==align?start-this.width:"left"==align?start:start-this.width/2,box.style.left=this.left+"px",line.style.left=start-this.props.line.width/2+"px",dot.style.left=start-this.props.dot.width/2+"px"},ItemBox.prototype.repositionY=function(){var lineHeight,orientation=this.options.orientation,box=this.dom.box,line=this.dom.line,dot=this.dom.dot;"top"==orientation?(box.style.top=(this.top||0)+"px",line.style.top="0",line.style.height=this.parent.top+this.top+1+"px",line.style.bottom=""):(lineHeight=(orientation=this.parent.itemSet.props.height)-this.parent.top-this.parent.height+this.top,box.style.top=(this.parent.height-this.top-this.height||0)+"px",line.style.top=orientation-lineHeight+"px",line.style.bottom="0"),dot.style.top=-this.props.dot.height/2+"px"},module.exports=ItemBox},function(module,exports,__webpack_require__){var Hammer=__webpack_require__(41);function Item(data,conversion,options){this.id=null,this.parent=null,this.data=data,this.dom=null,this.conversion=conversion||{},this.options=options||{},this.selected=!1,this.displayed=!1,this.dirty=!0,this.top=null,this.left=null,this.width=null,this.height=null}Item.prototype.select=function(){this.selected=!0,this.displayed&&this.redraw()},Item.prototype.unselect=function(){this.selected=!1,this.displayed&&this.redraw()},Item.prototype.setParent=function(parent){this.displayed?(this.hide(),this.parent=parent,this.parent&&this.show()):this.parent=parent},Item.prototype.isVisible=function(range){return!1},Item.prototype.show=function(){return!1},Item.prototype.hide=function(){return!1},Item.prototype.redraw=function(){},Item.prototype.repositionX=function(){},Item.prototype.repositionY=function(){},Item.prototype._repaintDeleteButton=function(anchor){var me,deleteButton;this.selected&&this.options.editable.remove&&!this.dom.deleteButton?(me=this,(deleteButton=document.createElement("div")).className="delete",deleteButton.title="Delete this item",Hammer(deleteButton,{preventDefault:!0}).on("tap",function(event){me.parent.removeFromDataSet(me),event.stopPropagation()}),anchor.appendChild(deleteButton),this.dom.deleteButton=deleteButton):!this.selected&&this.dom.deleteButton&&(this.dom.deleteButton.parentNode&&this.dom.deleteButton.parentNode.removeChild(this.dom.deleteButton),this.dom.deleteButton=null)},module.exports=Item},function(module,exports,__webpack_require__){var Item=__webpack_require__(29);function ItemPoint(data,conversion,options){if(this.props={dot:{top:0,width:0,height:0},content:{height:0,marginLeft:0}},data&&null==data.start)throw new Error('Property "start" missing in item '+data);Item.call(this,data,conversion,options)}(ItemPoint.prototype=new Item(null,null,null)).isVisible=function(range){var interval=(range.end-range.start)/4;return this.data.start>range.start-interval&&this.data.start<range.end+interval},ItemPoint.prototype.redraw=function(){var dom=this.dom;if(dom||(this.dom={},(dom=this.dom).point=document.createElement("div"),dom.content=document.createElement("div"),dom.content.className="content",dom.point.appendChild(dom.content),dom.dot=document.createElement("div"),dom.point.appendChild(dom.dot),dom.point["timeline-item"]=this),!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!dom.point.parentNode){var foreground=this.parent.dom.foreground;if(!foreground)throw new Error("Cannot redraw time axis: parent has no foreground container element");foreground.appendChild(dom.point)}if(this.displayed=!0,this.data.content!=this.content){if(this.content=this.data.content,this.content instanceof Element)dom.content.innerHTML="",dom.content.appendChild(this.content);else{if(null==this.data.content)throw new Error('Property "content" missing in item '+this.data.id);dom.content.innerHTML=this.content}this.dirty=!0}this.data.title!=this.title&&(dom.point.title=this.data.title,this.title=this.data.title);foreground=(this.data.className?" "+this.data.className:"")+(this.selected?" selected":"");this.className!=foreground&&(this.className=foreground,dom.point.className="item point"+foreground,dom.dot.className="item dot"+foreground,this.dirty=!0),this.dirty&&(this.width=dom.point.offsetWidth,this.height=dom.point.offsetHeight,this.props.dot.width=dom.dot.offsetWidth,this.props.dot.height=dom.dot.offsetHeight,this.props.content.height=dom.content.offsetHeight,dom.content.style.marginLeft=2*this.props.dot.width+"px",dom.dot.style.top=(this.height-this.props.dot.height)/2+"px",dom.dot.style.left=this.props.dot.width/2+"px",this.dirty=!1),this._repaintDeleteButton(dom.point)},ItemPoint.prototype.show=function(){this.displayed||this.redraw()},ItemPoint.prototype.hide=function(){this.displayed&&(this.dom.point.parentNode&&this.dom.point.parentNode.removeChild(this.dom.point),this.top=null,this.left=null,this.displayed=!1)},ItemPoint.prototype.repositionX=function(){var start=this.conversion.toScreen(this.data.start);this.left=start-this.props.dot.width,this.dom.point.style.left=this.left+"px"},ItemPoint.prototype.repositionY=function(){var orientation=this.options.orientation,point=this.dom.point;point.style.top="top"==orientation?this.top+"px":this.parent.height-this.top-this.height+"px"},module.exports=ItemPoint},function(module,exports,__webpack_require__){var Hammer=__webpack_require__(41),Item=__webpack_require__(29);function ItemRange(data,conversion,options){if(this.props={content:{width:0}},this.overflow=!1,data){if(null==data.start)throw new Error('Property "start" missing in item '+data.id);if(null==data.end)throw new Error('Property "end" missing in item '+data.id)}Item.call(this,data,conversion,options)}(ItemRange.prototype=new Item(null,null,null)).baseClassName="item range",ItemRange.prototype.isVisible=function(range){return this.data.start<range.end&&this.data.end>range.start},ItemRange.prototype.redraw=function(){var dom=this.dom;if(dom||(this.dom={},(dom=this.dom).box=document.createElement("div"),dom.content=document.createElement("div"),dom.content.className="content",dom.box.appendChild(dom.content),dom.box["timeline-item"]=this),!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!dom.box.parentNode){var foreground=this.parent.dom.foreground;if(!foreground)throw new Error("Cannot redraw time axis: parent has no foreground container element");foreground.appendChild(dom.box)}if(this.displayed=!0,this.data.content!=this.content){if(this.content=this.data.content,this.content instanceof Element)dom.content.innerHTML="",dom.content.appendChild(this.content);else{if(null==this.data.content)throw new Error('Property "content" missing in item '+this.data.id);dom.content.innerHTML=this.content}this.dirty=!0}this.data.title!=this.title&&(dom.box.title=this.data.title,this.title=this.data.title);foreground=(this.data.className?" "+this.data.className:"")+(this.selected?" selected":"");this.className!=foreground&&(this.className=foreground,dom.box.className=this.baseClassName+foreground,this.dirty=!0),this.dirty&&(this.overflow="hidden"!==window.getComputedStyle(dom.content).overflow,this.props.content.width=this.dom.content.offsetWidth,this.height=this.dom.box.offsetHeight,this.dirty=!1),this._repaintDeleteButton(dom.box),this._repaintDragLeft(),this._repaintDragRight()},ItemRange.prototype.show=function(){this.displayed||this.redraw()},ItemRange.prototype.hide=function(){var box;this.displayed&&((box=this.dom.box).parentNode&&box.parentNode.removeChild(box),this.top=null,this.left=null,this.displayed=!1)},ItemRange.prototype.repositionX=function(){var contentLeft,props=this.props,parentWidth=this.parent.width,start=this.conversion.toScreen(this.data.start),end=this.conversion.toScreen(this.data.end),padding=this.options.padding,parentWidth=(start<-parentWidth&&(start=-parentWidth),2*parentWidth<end&&(end=2*parentWidth),Math.max(end-start,1));this.overflow?(contentLeft=Math.max(-start,0),this.left=start,this.width=parentWidth+this.props.content.width):(contentLeft=start<0?Math.min(-start,end-start-props.content.width-2*padding):0,this.left=start,this.width=parentWidth),this.dom.box.style.left=this.left+"px",this.dom.box.style.width=parentWidth+"px",this.dom.content.style.left=contentLeft+"px"},ItemRange.prototype.repositionY=function(){var orientation=this.options.orientation,box=this.dom.box;box.style.top="top"==orientation?this.top+"px":this.parent.height-this.top-this.height+"px"},ItemRange.prototype._repaintDragLeft=function(){var dragLeft;this.selected&&this.options.editable.updateTime&&!this.dom.dragLeft?((dragLeft=document.createElement("div")).className="drag-left",dragLeft.dragLeftItem=this,Hammer(dragLeft,{preventDefault:!0}).on("drag",function(){}),this.dom.box.appendChild(dragLeft),this.dom.dragLeft=dragLeft):!this.selected&&this.dom.dragLeft&&(this.dom.dragLeft.parentNode&&this.dom.dragLeft.parentNode.removeChild(this.dom.dragLeft),this.dom.dragLeft=null)},ItemRange.prototype._repaintDragRight=function(){var dragRight;this.selected&&this.options.editable.updateTime&&!this.dom.dragRight?((dragRight=document.createElement("div")).className="drag-right",dragRight.dragRightItem=this,Hammer(dragRight,{preventDefault:!0}).on("drag",function(){}),this.dom.box.appendChild(dragRight),this.dom.dragRight=dragRight):!this.selected&&this.dom.dragRight&&(this.dom.dragRight.parentNode&&this.dom.dragRight.parentNode.removeChild(this.dom.dragRight),this.dom.dragRight=null)},module.exports=ItemRange},function(module,exports,__webpack_require__){var Emitter=__webpack_require__(46),Hammer=__webpack_require__(41),mousetrap=__webpack_require__(47),util=__webpack_require__(1),hammerUtil=__webpack_require__(43),DataSet=__webpack_require__(3),DataView=__webpack_require__(4),dotparser=__webpack_require__(38),gephiParser=__webpack_require__(39),Groups=__webpack_require__(34),Images=__webpack_require__(35),Node=__webpack_require__(36),Edge=__webpack_require__(33),Popup=__webpack_require__(37),MixinLoader=__webpack_require__(45);function Network(container,data,options){if(!(this instanceof Network))throw new SyntaxError("Constructor must be called with the new operator");this._initializeMixinLoaders(),this.containerElement=container,this.renderRefreshRate=60,this.renderTimestep=1e3/this.renderRefreshRate,this.renderTime=.5*this.renderTimestep,this.maxPhysicsTicksPerRender=3,this.physicsDiscreteStepsize=.5,this.initializing=!0,this.triggerFunctions={add:null,edit:null,editEdge:null,connect:null,del:null},this.defaultOptions={nodes:{mass:1,radiusMin:10,radiusMax:30,radius:10,shape:"ellipse",image:void 0,widthMin:16,widthMax:64,fixed:!1,fontColor:"black",fontSize:14,fontFace:"verdana",level:-1,color:{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},borderColor:"#2B7CE9",backgroundColor:"#97C2FC",highlightColor:"#D2E5FF",group:void 0,borderWidth:1},edges:{widthMin:1,widthMax:15,width:1,widthSelectionMultiplier:2,hoverWidth:1.5,style:"line",color:{color:"#848484",highlight:"#848484",hover:"#848484"},fontColor:"#343434",fontSize:14,fontFace:"arial",fontFill:"white",arrowScaleFactor:1,dash:{length:10,gap:5,altLength:void 0},inheritColor:"from"},configurePhysics:!1,physics:{barnesHut:{enabled:!0,theta:1/.6,gravitationalConstant:-2e3,centralGravity:.3,springLength:95,springConstant:.04,damping:.09},repulsion:{centralGravity:0,springLength:200,springConstant:.05,nodeDistance:100,damping:.09},hierarchicalRepulsion:{enabled:!1,centralGravity:0,springLength:100,springConstant:.01,nodeDistance:150,damping:.09},damping:null,centralGravity:null,springLength:null,springConstant:null},clustering:{enabled:!1,initialMaxNodes:100,clusterThreshold:500,reduceToNodes:300,chainThreshold:.4,clusterEdgeThreshold:20,sectorThreshold:100,screenSizeThreshold:.2,fontSizeMultiplier:4,maxFontSize:1e3,forceAmplification:.1,distanceAmplification:.1,edgeGrowth:20,nodeScaling:{width:1,height:1,radius:1},maxNodeSizeIncrements:600,activeAreaBoxSize:80,clusterLevelDifference:2},navigation:{enabled:!1},keyboard:{enabled:!1,speed:{x:10,y:10,zoom:.02}},dataManipulation:{enabled:!1,initiallyVisible:!1},hierarchicalLayout:{enabled:!1,levelSeparation:150,nodeSpacing:100,direction:"UD"},freezeForStabilization:!1,smoothCurves:{enabled:!0,dynamic:!0,type:"continuous",roundness:.5},dynamicSmoothCurves:!0,maxVelocity:30,minVelocity:.1,stabilize:!0,stabilizationIterations:1e3,labels:{add:"Add Node",edit:"Edit",link:"Add Link",del:"Delete selected",editNode:"Edit Node",editEdge:"Edit Edge",back:"Back",addDescription:"Click in an empty space to place a new node.",linkDescription:"Click on a node and drag the edge to another node to connect them.",editEdgeDescription:"Click on the control points and drag them to a node to connect to it.",addError:"The function for add does not support two arguments (data,callback).",linkError:"The function for connect does not support two arguments (data,callback).",editError:"The function for edit does not support two arguments (data, callback).",editBoundError:"No edit function has been bound to this button.",deleteError:"The function for delete does not support two arguments (data, callback).",deleteClusterError:"Clusters cannot be deleted."},tooltip:{delay:300,fontColor:"black",fontSize:14,fontFace:"verdana",color:{border:"#666",background:"#FFFFC6"}},dragNetwork:!0,dragNodes:!0,zoomable:!0,hover:!1,hideEdgesOnDrag:!1,hideNodesOnDrag:!1,width:"100%",height:"100%",selectable:!0},this.constants=util.extend({},this.defaultOptions),this.hoverObj={nodes:{},edges:{}},this.controlNodesActive=!1;var network=this;this.groups=new Groups,this.images=new Images,this.images.setOnloadCallback(function(){network._redraw()}),this.xIncrement=0,this.yIncrement=0,this.zoomIncrement=0,this._loadPhysicsSystem(),this._create(),this._loadSectorSystem(),this._loadClusterSystem(),this._loadSelectionSystem(),this._loadHierarchySystem(),this._setTranslation(this.frame.clientWidth/2,this.frame.clientHeight/2),this._setScale(1),this.setOptions(options),this.freezeSimulation=!1,this.cachedFunctions={},this.calculationNodes={},this.calculationNodeIndices=[],this.nodeIndices=[],this.nodes={},this.edges={},this.canvasTopLeft={x:0,y:0},this.canvasBottomRight={x:0,y:0},this.pointerPosition={x:0,y:0},this.areaCenter={},this.scale=1,this.previousScale=this.scale,this.nodesData=null,this.edgesData=null,this.nodesListeners={add:function(event,params){network._addNodes(params.items),network.start()},update:function(event,params){network._updateNodes(params.items),network.start()},remove:function(event,params){network._removeNodes(params.items),network.start()}},this.edgesListeners={add:function(event,params){network._addEdges(params.items),network.start()},update:function(event,params){network._updateEdges(params.items),network.start()},remove:function(event,params){network._removeEdges(params.items),network.start()}},this.moving=!0,this.timer=void 0,this.setData(data,this.constants.clustering.enabled||this.constants.hierarchicalLayout.enabled),this.initializing=!1,1==this.constants.hierarchicalLayout.enabled?this._setupHierarchicalLayout():0==this.constants.stabilize&&this.zoomExtent(!0,this.constants.clustering.enabled),this.constants.clustering.enabled&&this.startWithClustering()}__webpack_require__(44),Emitter(Network.prototype),Network.prototype._getScriptPath=function(){for(var scripts=document.getElementsByTagName("script"),i=0;i<scripts.length;i++){var src=scripts[i].src,match=src&&/\/?vis(.min)?\.js$/.exec(src);if(match)return src.substring(0,src.length-match[0].length)}return null},Network.prototype._getRange=function(){var node,nodeId,minY=1e9,maxY=-1e9,minX=1e9,maxX=-1e9;for(nodeId in this.nodes)this.nodes.hasOwnProperty(nodeId)&&(minX>(node=this.nodes[nodeId]).x&&(minX=node.x),maxX<node.x&&(maxX=node.x),minY>node.y&&(minY=node.y),maxY<node.y)&&(maxY=node.y);return 1e9==minX&&-1e9==maxX&&1e9==minY&&-1e9==maxY&&(maxX=minX=maxY=minY=0),{minX:minX,maxX:maxX,minY:minY,maxY:maxY}},Network.prototype._findCenter=function(range){return{x:.5*(range.maxX+range.minX),y:.5*(range.maxY+range.minY)}},Network.prototype._centerNetwork=function(range){range=this._findCenter(range);range.x*=this.scale,range.y*=this.scale,range.x-=.5*this.frame.canvas.clientWidth,range.y-=.5*this.frame.canvas.clientHeight,this._setTranslation(-range.x,-range.y)},Network.prototype.zoomExtent=function(initialZoom,disableStart){void 0===initialZoom&&(initialZoom=!1),void 0===disableStart&&(disableStart=!1);var zoomLevel,yDistance,range=this._getRange();1==initialZoom?(initialZoom=this.nodeIndices.length,zoomLevel=1==this.constants.smoothCurves?1==this.constants.clustering.enabled&&initialZoom>=this.constants.clustering.initialMaxNodes?49.07548/(initialZoom+142.05338)+91444e-8:12.662/(initialZoom+7.4147)+.0964822:1==this.constants.clustering.enabled&&initialZoom>=this.constants.clustering.initialMaxNodes?77.5271985/(initialZoom+187.266146)+476710517e-13:30.5062972/(initialZoom+19.93597763)+.08413486,zoomLevel*=Math.min(this.frame.canvas.clientWidth/600,this.frame.canvas.clientHeight/600)):(initialZoom=1.1*(Math.abs(range.minX)+Math.abs(range.maxX)),yDistance=1.1*(Math.abs(range.minY)+Math.abs(range.maxY)),zoomLevel=(initialZoom=this.frame.canvas.clientWidth/initialZoom)<=(yDistance=this.frame.canvas.clientHeight/yDistance)?initialZoom:yDistance),this._setScale(zoomLevel=1<zoomLevel?1:zoomLevel),this._centerNetwork(range),0==disableStart&&(this.moving=!0,this.start())},Network.prototype._updateNodeIndexList=function(){for(var idx in this._clearNodeIndexList(),this.nodes)this.nodes.hasOwnProperty(idx)&&this.nodeIndices.push(idx)},Network.prototype.setData=function(data,disableStart){if(void 0===disableStart&&(disableStart=!1),data&&data.dot&&(data.nodes||data.edges))throw new SyntaxError('Data must contain either parameter "dot" or  parameter pair "nodes" and "edges", but not both.');var dotData,me;if(this.setOptions(data&&data.options),data&&data.dot){if(data&&data.dot)return dotData=dotparser.DOTToGraph(data.dot),void this.setData(dotData)}else if(data&&data.gephi){if(data&&data.gephi)return dotData=gephiParser.parseGephi(data.gephi),void this.setData(dotData)}else this._setNodes(data&&data.nodes),this._setEdges(data&&data.edges);this._putDataInSector(),disableStart||(this.constants.stabilize?(me=this,setTimeout(function(){me._stabilize(),me.start()},0)):this.start())},Network.prototype.setOptions=function(options){if(options){var prop,newColorObj,group;if(util.selectiveNotDeepExtend(["nodes","edges","smoothCurves","hierarchicalLayout","clustering","navigation","keyboard","dataManipulation","onAdd","onEdit","onEditEdge","onConnect","onDelete"],this.constants,options),util.selectiveNotDeepExtend(["color"],this.constants.nodes,options.nodes),util.selectiveNotDeepExtend(["color","length"],this.constants.edges,options.edges),options.physics&&(util.mergeOptions(this.constants.physics,options.physics,"barnesHut"),util.mergeOptions(this.constants.physics,options.physics,"repulsion"),options.physics.hierarchicalRepulsion))for(prop in this.constants.hierarchicalLayout.enabled=!0,this.constants.physics.hierarchicalRepulsion.enabled=!0,this.constants.physics.barnesHut.enabled=!1,options.physics.hierarchicalRepulsion)options.physics.hierarchicalRepulsion.hasOwnProperty(prop)&&(this.constants.physics.hierarchicalRepulsion[prop]=options.physics.hierarchicalRepulsion[prop]);if(options.onAdd&&(this.triggerFunctions.add=options.onAdd),options.onEdit&&(this.triggerFunctions.edit=options.onEdit),options.onEditEdge&&(this.triggerFunctions.editEdge=options.onEditEdge),options.onConnect&&(this.triggerFunctions.connect=options.onConnect),options.onDelete&&(this.triggerFunctions.del=options.onDelete),util.mergeOptions(this.constants,options,"smoothCurves"),util.mergeOptions(this.constants,options,"hierarchicalLayout"),util.mergeOptions(this.constants,options,"clustering"),util.mergeOptions(this.constants,options,"navigation"),util.mergeOptions(this.constants,options,"keyboard"),util.mergeOptions(this.constants,options,"dataManipulation"),options.dataManipulation&&(this.editMode=this.constants.dataManipulation.initiallyVisible),options.edges&&(void 0!==options.edges.color&&(util.isString(options.edges.color)?(this.constants.edges.color={},this.constants.edges.color.color=options.edges.color,this.constants.edges.color.highlight=options.edges.color,this.constants.edges.color.hover=options.edges.color):(void 0!==options.edges.color.color&&(this.constants.edges.color.color=options.edges.color.color),void 0!==options.edges.color.highlight&&(this.constants.edges.color.highlight=options.edges.color.highlight),void 0!==options.edges.color.hover&&(this.constants.edges.color.hover=options.edges.color.hover))),options.edges.fontColor||void 0!==options.edges.color&&(util.isString(options.edges.color)?this.constants.edges.fontColor=options.edges.color:void 0!==options.edges.color.color&&(this.constants.edges.fontColor=options.edges.color.color))),options.nodes&&options.nodes.color&&(newColorObj=util.parseColor(options.nodes.color),this.constants.nodes.color.background=newColorObj.background,this.constants.nodes.color.border=newColorObj.border,this.constants.nodes.color.highlight.background=newColorObj.highlight.background,this.constants.nodes.color.highlight.border=newColorObj.highlight.border,this.constants.nodes.color.hover.background=newColorObj.hover.background,this.constants.nodes.color.hover.border=newColorObj.hover.border),options.groups)for(var groupname in options.groups)options.groups.hasOwnProperty(groupname)&&(group=options.groups[groupname],this.groups.add(groupname,group));if(options.tooltip){for(prop in options.tooltip)options.tooltip.hasOwnProperty(prop)&&(this.constants.tooltip[prop]=options.tooltip[prop]);options.tooltip.color&&(this.constants.tooltip.color=util.parseColor(options.tooltip.color))}}this._loadPhysicsSystem(),this._loadNavigationControls(),this._loadManipulationSystem(),this._configureSmoothCurves(),this._createKeyBinds(),this.setSize(this.constants.width,this.constants.height),this.moving=!0,this.start()},Network.prototype._create=function(){for(;this.containerElement.hasChildNodes();)this.containerElement.removeChild(this.containerElement.firstChild);this.frame=document.createElement("div"),this.frame.className="network-frame",this.frame.style.position="relative",this.frame.style.overflow="hidden",this.frame.canvas=document.createElement("canvas"),this.frame.canvas.style.position="relative",this.frame.appendChild(this.frame.canvas),this.frame.canvas.getContext||((noCanvas=document.createElement("DIV")).style.color="red",noCanvas.style.fontWeight="bold",noCanvas.style.padding="10px",noCanvas.innerHTML="Error: your browser does not support HTML canvas",this.frame.canvas.appendChild(noCanvas));var noCanvas=this;this.drag={},this.pinch={},this.hammer=Hammer(this.frame.canvas,{prevent_default:!0}),this.hammer.on("tap",noCanvas._onTap.bind(noCanvas)),this.hammer.on("doubletap",noCanvas._onDoubleTap.bind(noCanvas)),this.hammer.on("hold",noCanvas._onHold.bind(noCanvas)),this.hammer.on("pinch",noCanvas._onPinch.bind(noCanvas)),this.hammer.on("touch",noCanvas._onTouch.bind(noCanvas)),this.hammer.on("dragstart",noCanvas._onDragStart.bind(noCanvas)),this.hammer.on("drag",noCanvas._onDrag.bind(noCanvas)),this.hammer.on("dragend",noCanvas._onDragEnd.bind(noCanvas)),this.hammer.on("release",noCanvas._onRelease.bind(noCanvas)),this.hammer.on("mousewheel",noCanvas._onMouseWheel.bind(noCanvas)),this.hammer.on("DOMMouseScroll",noCanvas._onMouseWheel.bind(noCanvas)),this.hammer.on("mousemove",noCanvas._onMouseMoveTitle.bind(noCanvas)),this.containerElement.appendChild(this.frame)},Network.prototype._createKeyBinds=function(){var me=this;this.mousetrap=mousetrap,this.mousetrap.reset(),1==this.constants.keyboard.enabled&&(this.mousetrap.bind("up",this._moveUp.bind(me),"keydown"),this.mousetrap.bind("up",this._yStopMoving.bind(me),"keyup"),this.mousetrap.bind("down",this._moveDown.bind(me),"keydown"),this.mousetrap.bind("down",this._yStopMoving.bind(me),"keyup"),this.mousetrap.bind("left",this._moveLeft.bind(me),"keydown"),this.mousetrap.bind("left",this._xStopMoving.bind(me),"keyup"),this.mousetrap.bind("right",this._moveRight.bind(me),"keydown"),this.mousetrap.bind("right",this._xStopMoving.bind(me),"keyup"),this.mousetrap.bind("=",this._zoomIn.bind(me),"keydown"),this.mousetrap.bind("=",this._stopZoom.bind(me),"keyup"),this.mousetrap.bind("-",this._zoomOut.bind(me),"keydown"),this.mousetrap.bind("-",this._stopZoom.bind(me),"keyup"),this.mousetrap.bind("[",this._zoomIn.bind(me),"keydown"),this.mousetrap.bind("[",this._stopZoom.bind(me),"keyup"),this.mousetrap.bind("]",this._zoomOut.bind(me),"keydown"),this.mousetrap.bind("]",this._stopZoom.bind(me),"keyup"),this.mousetrap.bind("pageup",this._zoomIn.bind(me),"keydown"),this.mousetrap.bind("pageup",this._stopZoom.bind(me),"keyup"),this.mousetrap.bind("pagedown",this._zoomOut.bind(me),"keydown"),this.mousetrap.bind("pagedown",this._stopZoom.bind(me),"keyup")),1==this.constants.dataManipulation.enabled&&(this.mousetrap.bind("escape",this._createManipulatorBar.bind(me)),this.mousetrap.bind("del",this._deleteSelected.bind(me)))},Network.prototype._getPointer=function(touch){return{x:touch.pageX-util.getAbsoluteLeft(this.frame.canvas),y:touch.pageY-util.getAbsoluteTop(this.frame.canvas)}},Network.prototype._onTouch=function(event){this.drag.pointer=this._getPointer(event.gesture.center),this.drag.pinched=!1,this.pinch.scale=this._getScale(),this._handleTouch(this.drag.pointer)},Network.prototype._onDragStart=function(){this._handleDragStart()},Network.prototype._handleDragStart=function(){var s,drag=this.drag,node=this._getNodeAt(drag.pointer);if(drag.dragging=!0,drag.selection=[],drag.translation=this._getTranslation(),(drag.nodeId=null)!=node)for(var objectId in drag.nodeId=node.id,node.isSelected()||this._selectObject(node,!1),this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(objectId)&&(s={id:(objectId=this.selectionObj.nodes[objectId]).id,node:objectId,x:objectId.x,y:objectId.y,xFixed:objectId.xFixed,yFixed:objectId.yFixed},objectId.xFixed=!0,objectId.yFixed=!0,drag.selection.push(s))},Network.prototype._onDrag=function(event){this._handleOnDrag(event)},Network.prototype._handleOnDrag=function(event){var me,deltaX,deltaY,drag,selection;this.drag.pinched||(event=this._getPointer(event.gesture.center),(selection=(drag=(me=this).drag).selection)&&selection.length&&1==this.constants.dragNodes?(deltaX=event.x-drag.pointer.x,deltaY=event.y-drag.pointer.y,selection.forEach(function(s){var node=s.node;s.xFixed||(node.x=me._XconvertDOMtoCanvas(me._XconvertCanvasToDOM(s.x)+deltaX)),s.yFixed||(node.y=me._YconvertDOMtoCanvas(me._YconvertCanvasToDOM(s.y)+deltaY))}),this.moving||(this.moving=!0,this.start())):1==this.constants.dragNetwork&&(drag=event.x-this.drag.pointer.x,selection=event.y-this.drag.pointer.y,this._setTranslation(this.drag.translation.x+drag,this.drag.translation.y+selection),this._redraw()))},Network.prototype._onDragEnd=function(){this.drag.dragging=!1;var selection=this.drag.selection;selection&&selection.length?(selection.forEach(function(s){s.node.xFixed=s.xFixed,s.node.yFixed=s.yFixed}),this.moving=!0,this.start()):this._redraw()},Network.prototype._onTap=function(event){event=this._getPointer(event.gesture.center);this.pointerPosition=event,this._handleTap(event)},Network.prototype._onDoubleTap=function(event){event=this._getPointer(event.gesture.center);this._handleDoubleTap(event)},Network.prototype._onHold=function(event){event=this._getPointer(event.gesture.center);this.pointerPosition=event,this._handleOnHold(event)},Network.prototype._onRelease=function(event){event=this._getPointer(event.gesture.center);this._handleOnRelease(event)},Network.prototype._onPinch=function(event){var pointer=this._getPointer(event.gesture.center),event=(this.drag.pinched=!0,"scale"in this.pinch||(this.pinch.scale=1),this.pinch.scale*event.gesture.scale);this._zoom(event,pointer)},Network.prototype._zoom=function(scale,pointer){var scaleOld,preScaleDragPointer,tx,translation,scaleFrac;if(1==this.constants.zoomable)return scaleOld=this._getScale(),10<(scale=scale<1e-5?1e-5:scale)&&(scale=10),preScaleDragPointer=null,void 0!==this.drag&&1==this.drag.dragging&&(preScaleDragPointer=this.DOMtoCanvas(this.drag.pointer)),translation=this._getTranslation(),tx=(1-(scaleFrac=scale/scaleOld))*pointer.x+translation.x*scaleFrac,translation=(1-scaleFrac)*pointer.y+translation.y*scaleFrac,this.areaCenter={x:this._XconvertDOMtoCanvas(pointer.x),y:this._YconvertDOMtoCanvas(pointer.y)},this._setScale(scale),this._setTranslation(tx,translation),this.updateClustersDefault(),null!=preScaleDragPointer&&(scaleFrac=this.canvasToDOM(preScaleDragPointer),this.drag.pointer.x=scaleFrac.x,this.drag.pointer.y=scaleFrac.y),this._redraw(),scaleOld<scale?this.emit("zoom",{direction:"+"}):this.emit("zoom",{direction:"-"}),scale},Network.prototype._onMouseWheel=function(event){var scale,zoom,delta=0;event.wheelDelta?delta=event.wheelDelta/120:event.detail&&(delta=-event.detail/3),delta&&(scale=this._getScale(),zoom=delta/10,delta<0&&(zoom/=1-zoom),scale*=1+zoom,delta=hammerUtil.fakeGesture(this,event),zoom=this._getPointer(delta.center),this._zoom(scale,zoom)),event.preventDefault()},Network.prototype._onMouseMoveTitle=function(event){var event=hammerUtil.fakeGesture(this,event),pointer=this._getPointer(event.center),me=(this.popupObj&&this._checkHidePopup(pointer),this);if(this.popupTimer&&clearInterval(this.popupTimer),this.drag.dragging||(this.popupTimer=setTimeout(function(){me._checkShowPopup(pointer)},this.constants.tooltip.delay)),1==this.constants.hover){for(var edgeId in this.hoverObj.edges)this.hoverObj.edges.hasOwnProperty(edgeId)&&(this.hoverObj.edges[edgeId].hover=!1,delete this.hoverObj.edges[edgeId]);var nodeId,obj=this._getNodeAt(pointer);for(nodeId in null!=(obj=null==obj?this._getEdgeAt(pointer):obj)&&this._hoverObject(obj),this.hoverObj.nodes)this.hoverObj.nodes.hasOwnProperty(nodeId)&&(obj instanceof Node&&obj.id!=nodeId||obj instanceof Edge||null==obj)&&(this._blurObject(this.hoverObj.nodes[nodeId]),delete this.hoverObj.nodes[nodeId]);this.redraw()}},Network.prototype._checkShowPopup=function(pointer){var id,obj={left:this._XconvertDOMtoCanvas(pointer.x),top:this._YconvertDOMtoCanvas(pointer.y),right:this._XconvertDOMtoCanvas(pointer.x),bottom:this._YconvertDOMtoCanvas(pointer.y)},lastPopupNode=this.popupObj;if(null==this.popupObj){var nodes=this.nodes;for(id in nodes)if(nodes.hasOwnProperty(id)){var node=nodes[id];if(void 0!==node.getTitle()&&node.isOverlappingWith(obj)){this.popupObj=node;break}}}if(void 0===this.popupObj){var edges=this.edges;for(id in edges)if(edges.hasOwnProperty(id)){var edge=edges[id];if(edge.connected&&void 0!==edge.getTitle()&&edge.isOverlappingWith(obj)){this.popupObj=edge;break}}}this.popupObj?this.popupObj!=lastPopupNode&&((lastPopupNode=this).popup||(lastPopupNode.popup=new Popup(lastPopupNode.frame,lastPopupNode.constants.tooltip)),lastPopupNode.popup.setPosition(pointer.x-3,pointer.y-3),lastPopupNode.popup.setText(lastPopupNode.popupObj.getTitle()),lastPopupNode.popup.show()):this.popup&&this.popup.hide()},Network.prototype._checkHidePopup=function(pointer){this.popupObj&&this._getNodeAt(pointer)||(this.popupObj=void 0,this.popup&&this.popup.hide())},Network.prototype.setSize=function(width,height){this.frame.style.width=width,this.frame.style.height=height,this.frame.canvas.style.width="100%",this.frame.canvas.style.height="100%",this.frame.canvas.width=this.frame.canvas.clientWidth,this.frame.canvas.height=this.frame.canvas.clientHeight,void 0!==this.manipulationDiv&&(this.manipulationDiv.style.width=this.frame.canvas.clientWidth+"px"),void 0!==this.navigationDivs&&void 0!==this.navigationDivs.wrapper&&(this.navigationDivs.wrapper.style.width=this.frame.canvas.clientWidth+"px",this.navigationDivs.wrapper.style.height=this.frame.canvas.clientHeight+"px"),this.emit("resize",{width:this.frame.canvas.width,height:this.frame.canvas.height})},Network.prototype._setNodes=function(nodes){var me,oldNodesData=this.nodesData;if(nodes instanceof DataSet||nodes instanceof DataView)this.nodesData=nodes;else if(nodes instanceof Array)this.nodesData=new DataSet,this.nodesData.add(nodes);else{if(nodes)throw new TypeError("Array or DataSet expected");this.nodesData=new DataSet}oldNodesData&&util.forEach(this.nodesListeners,function(callback,event){oldNodesData.off(event,callback)}),this.nodes={},this.nodesData&&(util.forEach((me=this).nodesListeners,function(callback,event){me.nodesData.on(event,callback)}),nodes=this.nodesData.getIds(),this._addNodes(nodes)),this._updateSelection()},Network.prototype._addNodes=function(ids){for(var i=0,len=ids.length;i<len;i++){var angle,id=ids[i],data=this.nodesData.get(id),data=new Node(data,this.images,this.groups,this.constants);0!=(this.nodes[id]=data).xFixed&&0!=data.yFixed||null!==data.x&&null!==data.y||(id=+ids.length,angle=2*Math.PI*Math.random(),0==data.xFixed&&(data.x=id*Math.cos(angle)),0==data.yFixed&&(data.y=id*Math.sin(angle))),this.moving=!0}this._updateNodeIndexList(),1==this.constants.hierarchicalLayout.enabled&&0==this.initializing&&(this._resetLevels(),this._setupHierarchicalLayout()),this._updateCalculationNodes(),this._reconnectEdges(),this._updateValueRange(this.nodes),this.updateLabels()},Network.prototype._updateNodes=function(ids){for(var nodes=this.nodes,nodesData=this.nodesData,i=0,len=ids.length;i<len;i++){var id=ids[i],node=nodes[id],data=nodesData.get(id);node?node.setProperties(data,this.constants):(node=new Node(properties,this.images,this.groups,this.constants),nodes[id]=node)}this.moving=!0,1==this.constants.hierarchicalLayout.enabled&&0==this.initializing&&(this._resetLevels(),this._setupHierarchicalLayout()),this._updateNodeIndexList(),this._reconnectEdges(),this._updateValueRange(nodes)},Network.prototype._removeNodes=function(ids){for(var nodes=this.nodes,i=0,len=ids.length;i<len;i++)delete nodes[ids[i]];this._updateNodeIndexList(),1==this.constants.hierarchicalLayout.enabled&&0==this.initializing&&(this._resetLevels(),this._setupHierarchicalLayout()),this._updateCalculationNodes(),this._reconnectEdges(),this._updateSelection(),this._updateValueRange(nodes)},Network.prototype._setEdges=function(edges){var me,oldEdgesData=this.edgesData;if(edges instanceof DataSet||edges instanceof DataView)this.edgesData=edges;else if(edges instanceof Array)this.edgesData=new DataSet,this.edgesData.add(edges);else{if(edges)throw new TypeError("Array or DataSet expected");this.edgesData=new DataSet}oldEdgesData&&util.forEach(this.edgesListeners,function(callback,event){oldEdgesData.off(event,callback)}),this.edges={},this.edgesData&&(util.forEach((me=this).edgesListeners,function(callback,event){me.edgesData.on(event,callback)}),edges=this.edgesData.getIds(),this._addEdges(edges)),this._reconnectEdges()},Network.prototype._addEdges=function(ids){for(var edges=this.edges,edgesData=this.edgesData,i=0,len=ids.length;i<len;i++){var id=ids[i],oldEdge=edges[id],oldEdge=(oldEdge&&oldEdge.disconnect(),edgesData.get(id,{showInternalIds:!0}));edges[id]=new Edge(oldEdge,this,this.constants)}this.moving=!0,this._updateValueRange(edges),this._createBezierNodes(),1==this.constants.hierarchicalLayout.enabled&&0==this.initializing&&(this._resetLevels(),this._setupHierarchicalLayout()),this._updateCalculationNodes()},Network.prototype._updateEdges=function(ids){for(var edges=this.edges,edgesData=this.edgesData,i=0,len=ids.length;i<len;i++){var id=ids[i],data=edgesData.get(id),edge=edges[id];edge?(edge.disconnect(),edge.setProperties(data,this.constants),edge.connect()):(edge=new Edge(data,this,this.constants),this.edges[id]=edge)}this._createBezierNodes(),1==this.constants.hierarchicalLayout.enabled&&0==this.initializing&&(this._resetLevels(),this._setupHierarchicalLayout()),this.moving=!0,this._updateValueRange(edges)},Network.prototype._removeEdges=function(ids){for(var edges=this.edges,i=0,len=ids.length;i<len;i++){var id=ids[i],edge=edges[id];edge&&(null!=edge.via&&delete this.sectors.support.nodes[edge.via.id],edge.disconnect(),delete edges[id])}this.moving=!0,this._updateValueRange(edges),1==this.constants.hierarchicalLayout.enabled&&0==this.initializing&&(this._resetLevels(),this._setupHierarchicalLayout()),this._updateCalculationNodes()},Network.prototype._reconnectEdges=function(){var id,edge,nodes=this.nodes,edges=this.edges;for(id in nodes)nodes.hasOwnProperty(id)&&(nodes[id].edges=[]);for(id in edges)edges.hasOwnProperty(id)&&((edge=edges[id]).from=null,edge.to=null,edge.connect())},Network.prototype._updateValueRange=function(obj){var id,value,valueMin=void 0,valueMax=void 0;for(id in obj)obj.hasOwnProperty(id)&&void 0!==(value=obj[id].getValue())&&(valueMin=void 0===valueMin?value:Math.min(value,valueMin),valueMax=void 0===valueMax?value:Math.max(value,valueMax));if(void 0!==valueMin&&void 0!==valueMax)for(id in obj)obj.hasOwnProperty(id)&&obj[id].setValueRange(valueMin,valueMax)},Network.prototype.redraw=function(){this.setSize(this.constants.width,this.constants.height),this._redraw()},Network.prototype._redraw=function(){var ctx=this.frame.canvas.getContext("2d"),w=this.frame.canvas.width,h=this.frame.canvas.height;ctx.clearRect(0,0,w,h),ctx.save(),ctx.translate(this.translation.x,this.translation.y),ctx.scale(this.scale,this.scale),this.canvasTopLeft={x:this._XconvertDOMtoCanvas(0),y:this._YconvertDOMtoCanvas(0)},this.canvasBottomRight={x:this._XconvertDOMtoCanvas(this.frame.canvas.clientWidth),y:this._YconvertDOMtoCanvas(this.frame.canvas.clientHeight)},this._doInAllSectors("_drawAllSectorNodes",ctx),0!=this.drag.dragging&&void 0!==this.drag.dragging&&0!=this.constants.hideEdgesOnDrag||this._doInAllSectors("_drawEdges",ctx),0!=this.drag.dragging&&void 0!==this.drag.dragging&&0!=this.constants.hideNodesOnDrag||this._doInAllSectors("_drawNodes",ctx,!1),1==this.controlNodesActive&&this._doInAllSectors("_drawControlNodes",ctx),ctx.restore()},Network.prototype._setTranslation=function(offsetX,offsetY){void 0===this.translation&&(this.translation={x:0,y:0}),void 0!==offsetX&&(this.translation.x=offsetX),void 0!==offsetY&&(this.translation.y=offsetY),this.emit("viewChanged")},Network.prototype._getTranslation=function(){return{x:this.translation.x,y:this.translation.y}},Network.prototype._setScale=function(scale){this.scale=scale},Network.prototype._getScale=function(){return this.scale},Network.prototype._XconvertDOMtoCanvas=function(x){return(x-this.translation.x)/this.scale},Network.prototype._XconvertCanvasToDOM=function(x){return x*this.scale+this.translation.x},Network.prototype._YconvertDOMtoCanvas=function(y){return(y-this.translation.y)/this.scale},Network.prototype._YconvertCanvasToDOM=function(y){return y*this.scale+this.translation.y},Network.prototype.canvasToDOM=function(pos){return{x:this._XconvertCanvasToDOM(pos.x),y:this._YconvertCanvasToDOM(pos.y)}},Network.prototype.DOMtoCanvas=function(pos){return{x:this._XconvertDOMtoCanvas(pos.x),y:this._YconvertDOMtoCanvas(pos.y)}},Network.prototype._drawNodes=function(ctx,alwaysShow){void 0===alwaysShow&&(alwaysShow=!1);var id,nodes=this.nodes,selected=[];for(id in nodes)nodes.hasOwnProperty(id)&&(nodes[id].setScaleAndPos(this.scale,this.canvasTopLeft,this.canvasBottomRight),nodes[id].isSelected()?selected.push(id):(nodes[id].inArea()||alwaysShow)&&nodes[id].draw(ctx));for(var s=0,sMax=selected.length;s<sMax;s++)(nodes[selected[s]].inArea()||alwaysShow)&&nodes[selected[s]].draw(ctx)},Network.prototype._drawEdges=function(ctx){var id,edge,edges=this.edges;for(id in edges)edges.hasOwnProperty(id)&&((edge=edges[id]).setScale(this.scale),edge.connected)&&edges[id].draw(ctx)},Network.prototype._drawControlNodes=function(ctx){var id,edges=this.edges;for(id in edges)edges.hasOwnProperty(id)&&edges[id]._drawControlNodes(ctx)},Network.prototype._stabilize=function(){1==this.constants.freezeForStabilization&&this._freezeDefinedNodes();for(var count=0;this.moving&&count<this.constants.stabilizationIterations;)this._physicsTick(),count++;this.zoomExtent(!1,!0),1==this.constants.freezeForStabilization&&this._restoreFrozenNodes(),this.emit("stabilized",{iterations:count})},Network.prototype._freezeDefinedNodes=function(){var id,nodes=this.nodes;for(id in nodes)nodes.hasOwnProperty(id)&&null!=nodes[id].x&&null!=nodes[id].y&&(nodes[id].fixedData.x=nodes[id].xFixed,nodes[id].fixedData.y=nodes[id].yFixed,nodes[id].xFixed=!0,nodes[id].yFixed=!0)},Network.prototype._restoreFrozenNodes=function(){var id,nodes=this.nodes;for(id in nodes)nodes.hasOwnProperty(id)&&null!=nodes[id].fixedData.x&&(nodes[id].xFixed=nodes[id].fixedData.x,nodes[id].yFixed=nodes[id].fixedData.y)},Network.prototype._isMoving=function(vmin){var id,nodes=this.nodes;for(id in nodes)if(nodes.hasOwnProperty(id)&&nodes[id].isMoving(vmin))return!0;return!1},Network.prototype._discreteStepNodes=function(){var nodeId,vminCorrected,interval=this.physicsDiscreteStepsize,nodes=this.nodes,nodesPresent=!1;if(0<this.constants.maxVelocity)for(nodeId in nodes)nodes.hasOwnProperty(nodeId)&&(nodes[nodeId].discreteStepLimited(interval,this.constants.maxVelocity),nodesPresent=!0);else for(nodeId in nodes)nodes.hasOwnProperty(nodeId)&&(nodes[nodeId].discreteStep(interval),nodesPresent=!0);1==nodesPresent&&((vminCorrected=this.constants.minVelocity/Math.max(this.scale,.05))>.5*this.constants.maxVelocity?this.moving=!0:(this.moving=this._isMoving(vminCorrected),0==this.moving&&this.emit("stabilized",{iterations:null}),this.moving=this.moving||this.configurePhysics))},Network.prototype._physicsTick=function(){this.freezeSimulation||1==this.moving&&(this._doInAllActiveSectors("_initializeForceCalculation"),this._doInAllActiveSectors("_discreteStepNodes"),1==this.constants.smoothCurves.enabled&&1==this.constants.smoothCurves.dynamic&&this._doInSupportSector("_discreteStepNodes"),this._findCenter(this._getRange()))},Network.prototype._animationStep=function(){this.timer=void 0,this._handleNavigation(),this.start();for(var calculationTime=Date.now(),maxSteps=1,timeRequired=(this._physicsTick(),Date.now()-calculationTime);timeRequired<.9*(this.renderTimestep-this.renderTime)&&maxSteps<this.maxPhysicsTicksPerRender;)this._physicsTick(),timeRequired=Date.now()-calculationTime,maxSteps++;var renderTime=Date.now();this._redraw(),this.renderTime=Date.now()-renderTime},"undefined"!=typeof window&&(window.requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame),Network.prototype.start=function(){var ua,requiresTimeout;1==this.moving||0!=this.xIncrement||0!=this.yIncrement||0!=this.zoomIncrement?this.timer||(requiresTimeout=!1,(-1!=(ua=navigator.userAgent.toLowerCase()).indexOf("msie 9.0")||-1!=ua.indexOf("safari")&&ua.indexOf("chrome")<=-1)&&(requiresTimeout=!0),this.timer=1==requiresTimeout?window.setTimeout(this._animationStep.bind(this),this.renderTimestep):window.requestAnimationFrame(this._animationStep.bind(this),this.renderTimestep)):this._redraw()},Network.prototype._handleNavigation=function(){var translation;0==this.xIncrement&&0==this.yIncrement||(translation=this._getTranslation(),this._setTranslation(translation.x+this.xIncrement,translation.y+this.yIncrement)),0!=this.zoomIncrement&&(translation={x:this.frame.canvas.clientWidth/2,y:this.frame.canvas.clientHeight/2},this._zoom(this.scale*(1+this.zoomIncrement),translation))},Network.prototype.toggleFreeze=function(){0==this.freezeSimulation?this.freezeSimulation=!0:(this.freezeSimulation=!1,this.start())},Network.prototype._configureSmoothCurves=function(disableStart){if(void 0===disableStart&&(disableStart=!0),1==this.constants.smoothCurves.enabled&&1==this.constants.smoothCurves.dynamic)for(var nodeId in this._createBezierNodes(),this.sectors.support.nodes)this.sectors.support.nodes.hasOwnProperty(nodeId)&&void 0===this.edges[this.sectors.support.nodes[nodeId].parentEdgeId]&&delete this.sectors.support.nodes[nodeId];else for(var edgeId in this.sectors.support.nodes={},this.edges)this.edges.hasOwnProperty(edgeId)&&(this.edges[edgeId].via=null);this._updateCalculationNodes(),disableStart||(this.moving=!0,this.start())},Network.prototype._createBezierNodes=function(){if(1==this.constants.smoothCurves.enabled&&1==this.constants.smoothCurves.dynamic)for(var edgeId in this.edges){var nodeId;this.edges.hasOwnProperty(edgeId)&&null==(edgeId=this.edges[edgeId]).via&&(nodeId="edgeId:".concat(edgeId.id),this.sectors.support.nodes[nodeId]=new Node({id:nodeId,mass:1,shape:"circle",image:"",internalMultiplier:1},{},{},this.constants),edgeId.via=this.sectors.support.nodes[nodeId],edgeId.via.parentEdgeId=edgeId.id,edgeId.positionBezierNode())}},Network.prototype._initializeMixinLoaders=function(){for(var mixin in MixinLoader)MixinLoader.hasOwnProperty(mixin)&&(Network.prototype[mixin]=MixinLoader[mixin])},Network.prototype.storePosition=function(){var nodeId,node,allowedToMoveX,allowedToMoveY,dataArray=[];for(nodeId in this.nodes)this.nodes.hasOwnProperty(nodeId)&&(node=this.nodes[nodeId],allowedToMoveX=!this.nodes.xFixed,allowedToMoveY=!this.nodes.yFixed,this.nodesData._data[nodeId].x==Math.round(node.x)&&this.nodesData._data[nodeId].y==Math.round(node.y)||dataArray.push({id:nodeId,x:Math.round(node.x),y:Math.round(node.y),allowedToMoveX:allowedToMoveX,allowedToMoveY:allowedToMoveY}));this.nodesData.update(dataArray)},Network.prototype.focusOnNode=function(nodeId,zoomLevel){var translation,nodePosition_x,canvasCenter;this.nodes.hasOwnProperty(nodeId)?(void 0===zoomLevel&&(zoomLevel=this._getScale()),nodePosition_x=this.nodes[nodeId].x,nodeId=this.nodes[nodeId].y,zoomLevel=zoomLevel,this._setScale(zoomLevel),canvasCenter=this.DOMtoCanvas({x:.5*this.frame.canvas.width,y:.5*this.frame.canvas.height}),translation=this._getTranslation(),nodePosition_x=canvasCenter.x-nodePosition_x,canvasCenter=canvasCenter.y-nodeId,this._setTranslation(translation.x+zoomLevel*nodePosition_x,translation.y+zoomLevel*canvasCenter),this.redraw()):console.log("This nodeId cannot be found.")},module.exports=Network},function(module,exports,__webpack_require__){var util=__webpack_require__(1),Node=__webpack_require__(36);function Edge(properties,network,networkConstants){if(!network)throw"No network provided";var constants=util.selectiveBridgeObject(["edges","physics"],networkConstants);this.options=constants.edges,this.physics=constants.physics,this.options.smoothCurves=networkConstants.smoothCurves,this.network=network,this.id=void 0,this.fromId=void 0,this.toId=void 0,this.title=void 0,this.widthSelected=this.options.width*this.options.widthSelectionMultiplier,this.value=void 0,this.selected=!1,this.hover=!1,this.from=null,this.to=null,this.via=null,this.originalFromId=[],this.originalToId=[],this.connected=!1,this.widthFixed=!1,this.lengthFixed=!1,this.setProperties(properties),this.controlNodesEnabled=!1,this.controlNodes={from:null,to:null,positions:{}},this.connectedNode=null}Edge.prototype.setProperties=function(properties){if(properties)switch(util.selectiveDeepExtend(["style","fontSize","fontFace","fontColor","fontFill","width","widthSelectionMultiplier","hoverWidth","arrowScaleFactor","dash"],this.options,properties),void 0!==properties.from&&(this.fromId=properties.from),void 0!==properties.to&&(this.toId=properties.to),void 0!==properties.id&&(this.id=properties.id),void 0!==properties.label&&(this.label=properties.label),void 0!==properties.title&&(this.title=properties.title),void 0!==properties.value&&(this.value=properties.value),void 0!==properties.length&&(this.physics.springLength=properties.length),void 0!==properties.arrowScaleFactor&&(this.options.arrowScaleFactor=properties.arrowScaleFactor),void 0!==properties.inheritColor&&(this.options.inheritColor=properties.inheritColor),void 0!==properties.color&&(this.options.inheritColor=!1,util.isString(properties.color)?(this.options.color.color=properties.color,this.options.color.highlight=properties.color):(void 0!==properties.color.color&&(this.options.color.color=properties.color.color),void 0!==properties.color.highlight&&(this.options.color.highlight=properties.color.highlight),void 0!==properties.color.hover&&(this.options.color.hover=properties.color.hover))),this.connect(),this.widthFixed=this.widthFixed||void 0!==properties.width,this.lengthFixed=this.lengthFixed||void 0!==properties.length,this.widthSelected=this.options.width*this.options.widthSelectionMultiplier,this.options.style){case"line":this.draw=this._drawLine;break;case"arrow":this.draw=this._drawArrow;break;case"arrow-center":this.draw=this._drawArrowCenter;break;case"dash-line":this.draw=this._drawDashLine;break;default:this.draw=this._drawLine}},Edge.prototype.connect=function(){this.disconnect(),this.from=this.network.nodes[this.fromId]||null,this.to=this.network.nodes[this.toId]||null,this.connected=this.from&&this.to,this.connected?(this.from.attachEdge(this),this.to.attachEdge(this)):(this.from&&this.from.detachEdge(this),this.to&&this.to.detachEdge(this))},Edge.prototype.disconnect=function(){this.from&&(this.from.detachEdge(this),this.from=null),this.to&&(this.to.detachEdge(this),this.to=null),this.connected=!1},Edge.prototype.getTitle=function(){return"function"==typeof this.title?this.title():this.title},Edge.prototype.getValue=function(){return this.value},Edge.prototype.setValueRange=function(min,max){this.widthFixed||void 0===this.value||(max=(this.options.widthMax-this.options.widthMin)/(max-min),this.options.width=(this.value-min)*max+this.options.widthMin,this.widthSelected=this.options.width*this.options.widthSelectionMultiplier)},Edge.prototype.draw=function(ctx){throw"Method draw not initialized in edge"},Edge.prototype.isOverlappingWith=function(obj){var xFrom,yFrom,xTo,yTo,xObj;return!!this.connected&&(xFrom=this.from.x,yFrom=this.from.y,xTo=this.to.x,yTo=this.to.y,xObj=obj.left,obj=obj.top,this._getDistanceToEdge(xFrom,yFrom,xTo,yTo,xObj,obj)<10)},Edge.prototype._getColor=function(){var colorObj=this.options.color;return"to"==this.options.inheritColor?colorObj={highlight:this.to.options.color.highlight.border,hover:this.to.options.color.hover.border,color:this.to.options.color.border}:"from"!=this.options.inheritColor&&1!=this.options.inheritColor||(colorObj={highlight:this.from.options.color.highlight.border,hover:this.from.options.color.hover.border,color:this.from.options.color.border}),1==this.selected?colorObj.highlight:1==this.hover?colorObj.hover:colorObj.color},Edge.prototype._drawLine=function(ctx){var point,x,via,node;ctx.strokeStyle=this._getColor(),ctx.lineWidth=this._getLineWidth(),this.from!=this.to?(via=this._line(ctx),this.label&&(point=1==this.options.smoothCurves.enabled&&null!=via?{x:.5*(.5*(this.from.x+via.x)+.5*(this.to.x+via.x)),y:.5*(.5*(this.from.y+via.y)+.5*(this.to.y+via.y))}:this._pointOnLine(.5),this._label(ctx,this.label,point.x,point.y))):(via=this.physics.springLength/4,(node=this.from).width||node.resize(ctx),node=node.width>node.height?(x=node.x+node.width/2,node.y-via):(x=node.x+via,node.y-node.height/2),this._circle(ctx,x,node,via),point=this._pointOnCircle(x,node,via,.5),this._label(ctx,this.label,point.x,point.y))},Edge.prototype._getLineWidth=function(){return 1==this.selected?Math.min(this.widthSelected,this.options.widthMax)*this.networkScaleInv:1==this.hover?Math.min(this.options.hoverWidth,this.options.widthMax)*this.networkScaleInv:this.options.width*this.networkScaleInv},Edge.prototype._getViaCoordinates=function(){var xVia=null,yVia=null,factor=this.options.smoothCurves.roundness,type=this.options.smoothCurves.type,dx=Math.abs(this.from.x-this.to.x),dy=Math.abs(this.from.y-this.to.y);return"discrete"==type||"diagonalCross"==type?Math.abs(this.from.x-this.to.x)<Math.abs(this.from.y-this.to.y)?(this.from.y>this.to.y?this.from.x<this.to.x?(xVia=this.from.x+factor*dy,yVia=this.from.y-factor*dy):this.from.x>this.to.x&&(xVia=this.from.x-factor*dy,yVia=this.from.y-factor*dy):this.from.y<this.to.y&&(this.from.x<this.to.x?(xVia=this.from.x+factor*dy,yVia=this.from.y+factor*dy):this.from.x>this.to.x&&(xVia=this.from.x-factor*dy,yVia=this.from.y+factor*dy)),"discrete"==type&&(xVia=dx<factor*dy?this.from.x:xVia)):Math.abs(this.from.x-this.to.x)>Math.abs(this.from.y-this.to.y)&&(this.from.y>this.to.y?this.from.x<this.to.x?(xVia=this.from.x+factor*dx,yVia=this.from.y-factor*dx):this.from.x>this.to.x&&(xVia=this.from.x-factor*dx,yVia=this.from.y-factor*dx):this.from.y<this.to.y&&(this.from.x<this.to.x?(xVia=this.from.x+factor*dx,yVia=this.from.y+factor*dx):this.from.x>this.to.x&&(xVia=this.from.x-factor*dx,yVia=this.from.y+factor*dx)),"discrete"==type)&&(yVia=dy<factor*dx?this.from.y:yVia):"straightCross"==type?Math.abs(this.from.x-this.to.x)<Math.abs(this.from.y-this.to.y)?(xVia=this.from.x,yVia=this.from.y<this.to.y?this.to.y-(1-factor)*dy:this.to.y+(1-factor)*dy):Math.abs(this.from.x-this.to.x)>Math.abs(this.from.y-this.to.y)&&(xVia=this.from.x<this.to.x?this.to.x-(1-factor)*dx:this.to.x+(1-factor)*dx,yVia=this.from.y):"horizontal"==type?(xVia=this.from.x<this.to.x?this.to.x-(1-factor)*dx:this.to.x+(1-factor)*dx,yVia=this.from.y):"vertical"==type?(xVia=this.from.x,yVia=this.from.y<this.to.y?this.to.y-(1-factor)*dy:this.to.y+(1-factor)*dy):Math.abs(this.from.x-this.to.x)<Math.abs(this.from.y-this.to.y)?this.from.y>this.to.y?this.from.x<this.to.x?(xVia=this.from.x+factor*dy,yVia=this.from.y-factor*dy,xVia=this.to.x<xVia?this.to.x:xVia):this.from.x>this.to.x&&(xVia=this.from.x-factor*dy,yVia=this.from.y-factor*dy,xVia=this.to.x>xVia?this.to.x:xVia):this.from.y<this.to.y&&(this.from.x<this.to.x?(xVia=this.from.x+factor*dy,yVia=this.from.y+factor*dy,xVia=this.to.x<xVia?this.to.x:xVia):this.from.x>this.to.x&&(xVia=this.from.x-factor*dy,yVia=this.from.y+factor*dy,xVia=this.to.x>xVia?this.to.x:xVia)):Math.abs(this.from.x-this.to.x)>Math.abs(this.from.y-this.to.y)&&(this.from.y>this.to.y?this.from.x<this.to.x?(xVia=this.from.x+factor*dx,yVia=this.from.y-factor*dx,yVia=this.to.y>yVia?this.to.y:yVia):this.from.x>this.to.x&&(xVia=this.from.x-factor*dx,yVia=this.from.y-factor*dx,yVia=this.to.y>yVia?this.to.y:yVia):this.from.y<this.to.y&&(this.from.x<this.to.x?(xVia=this.from.x+factor*dx,yVia=this.from.y+factor*dx,yVia=this.to.y<yVia?this.to.y:yVia):this.from.x>this.to.x&&(xVia=this.from.x-factor*dx,yVia=this.from.y+factor*dx,yVia=this.to.y<yVia?this.to.y:yVia))),{x:xVia,y:yVia}},Edge.prototype._line=function(ctx){var via;return ctx.beginPath(),ctx.moveTo(this.from.x,this.from.y),1==this.options.smoothCurves.enabled?0==this.options.smoothCurves.dynamic?null==(via=this._getViaCoordinates()).x?(ctx.lineTo(this.to.x,this.to.y),ctx.stroke(),null):(ctx.quadraticCurveTo(via.x,via.y,this.to.x,this.to.y),ctx.stroke(),via):(ctx.quadraticCurveTo(this.via.x,this.via.y,this.to.x,this.to.y),ctx.stroke(),this.via):(ctx.lineTo(this.to.x,this.to.y),ctx.stroke(),null)},Edge.prototype._circle=function(ctx,x,y,radius){ctx.beginPath(),ctx.arc(x,y,radius,0,2*Math.PI,!1),ctx.stroke()},Edge.prototype._label=function(ctx,text,x,y){var width,height;text&&(ctx.font=(this.from.selected||this.to.selected?"bold ":"")+this.options.fontSize+"px "+this.options.fontFace,ctx.fillStyle=this.options.fontFill,width=ctx.measureText(text).width,height=this.options.fontSize,ctx.fillRect(x=x-width/2,y=y-height/2,width,height),ctx.fillStyle=this.options.fontColor||"black",ctx.textAlign="left",ctx.textBaseline="top",ctx.fillText(text,x,y))},Edge.prototype._drawDashLine=function(ctx){1==this.selected?ctx.strokeStyle=this.options.color.highlight:1==this.hover?ctx.strokeStyle=this.options.color.hover:ctx.strokeStyle=this.options.color.color,ctx.lineWidth=this._getLineWidth();var pattern,via=null;void 0!==ctx.mozDash||void 0!==ctx.setLineDash?(pattern=[0],pattern=void 0!==this.options.dash.length&&void 0!==this.options.dash.gap?[this.options.dash.length,this.options.dash.gap]:[5,5],void 0!==ctx.setLineDash?(ctx.setLineDash(pattern),ctx.lineDashOffset=0):(ctx.mozDash=pattern,ctx.mozDashOffset=0),via=this._line(ctx),void 0!==ctx.setLineDash?(ctx.setLineDash([0]),ctx.lineDashOffset=0):(ctx.mozDash=[0],ctx.mozDashOffset=0)):(ctx.beginPath(),ctx.lineCap="round",void 0!==this.options.dash.altLength?ctx.dashedLine(this.from.x,this.from.y,this.to.x,this.to.y,[this.options.dash.length,this.options.dash.gap,this.options.dash.altLength,this.options.dash.gap]):void 0!==this.options.dash.length&&void 0!==this.options.dash.gap?ctx.dashedLine(this.from.x,this.from.y,this.to.x,this.to.y,[this.options.dash.length,this.options.dash.gap]):(ctx.moveTo(this.from.x,this.from.y),ctx.lineTo(this.to.x,this.to.y)),ctx.stroke()),this.label&&(pattern=1==this.options.smoothCurves.enabled&&null!=via?{x:.5*(.5*(this.from.x+via.x)+.5*(this.to.x+via.x)),y:.5*(.5*(this.from.y+via.y)+.5*(this.to.y+via.y))}:this._pointOnLine(.5),this._label(ctx,this.label,pattern.x,pattern.y))},Edge.prototype._pointOnLine=function(percentage){return{x:(1-percentage)*this.from.x+percentage*this.to.x,y:(1-percentage)*this.from.y+percentage*this.to.y}},Edge.prototype._pointOnCircle=function(x,y,radius,percentage){percentage=2*(percentage-3/8)*Math.PI;return{x:x+radius*Math.cos(percentage),y:y-radius*Math.sin(percentage)}},Edge.prototype._drawArrowCenter=function(ctx){var via,x,radius,node,angle,length;1==this.selected?(ctx.strokeStyle=this.options.color.highlight,ctx.fillStyle=this.options.color.highlight):1==this.hover?(ctx.strokeStyle=this.options.color.hover,ctx.fillStyle=this.options.color.hover):(ctx.strokeStyle=this.options.color.color,ctx.fillStyle=this.options.color.color),ctx.lineWidth=this._getLineWidth(),this.from!=this.to?(via=this._line(ctx),angle=Math.atan2(this.to.y-this.from.y,this.to.x-this.from.x),length=(10+5*this.options.width)*this.options.arrowScaleFactor,via=1==this.options.smoothCurves.enabled&&null!=via?{x:.5*(.5*(this.from.x+via.x)+.5*(this.to.x+via.x)),y:.5*(.5*(this.from.y+via.y)+.5*(this.to.y+via.y))}:this._pointOnLine(.5),ctx.arrow(via.x,via.y,angle,length),ctx.fill(),ctx.stroke(),this.label&&this._label(ctx,this.label,via.x,via.y)):(radius=.25*Math.max(100,this.physics.springLength),(node=this.from).width||node.resize(ctx),node=node.width>node.height?(x=node.x+.5*node.width,node.y-radius):(x=node.x+radius,node.y-.5*node.height),this._circle(ctx,x,node,radius),angle=.2*Math.PI,length=(10+5*this.options.width)*this.options.arrowScaleFactor,via=this._pointOnCircle(x,node,radius,.5),ctx.arrow(via.x,via.y,angle,length),ctx.fill(),ctx.stroke(),this.label&&(via=this._pointOnCircle(x,node,radius,.5),this._label(ctx,this.label,via.x,via.y)))},Edge.prototype._drawArrow=function(ctx){var angle,via,xTo,point,dy,dx,x,y,fromBorderPoint,xFrom,edgeSegmentLength;1==this.selected?(ctx.strokeStyle=this.options.color.highlight,ctx.fillStyle=this.options.color.highlight):1==this.hover?(ctx.strokeStyle=this.options.color.hover,ctx.fillStyle=this.options.color.hover):(ctx.strokeStyle=this.options.color.color,ctx.fillStyle=this.options.color.color),ctx.lineWidth=this._getLineWidth(),this.from!=this.to?(angle=Math.atan2(this.to.y-this.from.y,this.to.x-this.from.x),dx=this.to.x-this.from.x,dy=this.to.y-this.from.y,xFrom=(fromBorderPoint=((edgeSegmentLength=Math.sqrt(dx*dx+dy*dy))-this.from.distanceToBorder(ctx,angle+Math.PI))/edgeSegmentLength)*this.from.x+(1-fromBorderPoint)*this.to.x,fromBorderPoint=fromBorderPoint*this.from.y+(1-fromBorderPoint)*this.to.y,1==this.options.smoothCurves.dynamic&&1==this.options.smoothCurves.enabled?via=this.via:1==this.options.smoothCurves.enabled&&(via=this._getViaCoordinates()),1==this.options.smoothCurves.enabled&&null!=via.x&&(angle=Math.atan2(this.to.y-via.y,this.to.x-via.x),dx=this.to.x-via.x,dy=this.to.y-via.y,edgeSegmentLength=Math.sqrt(dx*dx+dy*dy)),dx=(edgeSegmentLength-this.to.distanceToBorder(ctx,angle))/edgeSegmentLength,dy=1==this.options.smoothCurves.enabled&&null!=via.x?(xTo=(1-dx)*via.x+dx*this.to.x,(1-dx)*via.y+dx*this.to.y):(xTo=(1-dx)*this.from.x+dx*this.to.x,(1-dx)*this.from.y+dx*this.to.y),ctx.beginPath(),ctx.moveTo(xFrom,fromBorderPoint),1==this.options.smoothCurves.enabled&&null!=via.x?ctx.quadraticCurveTo(via.x,via.y,xTo,dy):ctx.lineTo(xTo,dy),ctx.stroke(),edgeSegmentLength=(10+5*this.options.width)*this.options.arrowScaleFactor,ctx.arrow(xTo,dy,angle,edgeSegmentLength),ctx.fill(),ctx.stroke(),this.label&&(point=1==this.options.smoothCurves.enabled&&null!=via?{x:.5*(.5*(this.from.x+via.x)+.5*(this.to.x+via.x)),y:.5*(.5*(this.from.y+via.y)+.5*(this.to.y+via.y))}:this._pointOnLine(.5),this._label(ctx,this.label,point.x,point.y))):(dx=this.from,xFrom=.25*Math.max(100,this.physics.springLength),dx.width||dx.resize(ctx),fromBorderPoint=dx.width>dx.height?(x=dx.x+.5*dx.width,y=dx.y-xFrom,{x:x,y:dx.y,angle:.9*Math.PI}):(x=dx.x+xFrom,y=dx.y-.5*dx.height,{x:dx.x,y:y,angle:.6*Math.PI}),ctx.beginPath(),ctx.arc(x,y,xFrom,0,2*Math.PI,!1),ctx.stroke(),edgeSegmentLength=(10+5*this.options.width)*this.options.arrowScaleFactor,ctx.arrow(fromBorderPoint.x,fromBorderPoint.y,fromBorderPoint.angle,edgeSegmentLength),ctx.fill(),ctx.stroke(),this.label&&(point=this._pointOnCircle(x,y,xFrom,.5),this._label(ctx,this.label,point.x,point.y)))},Edge.prototype._getDistanceToEdge=function(x1,y1,x2,y2,x3,y3){var dy,radius;if(this.from==this.to)return radius=this.physics.springLength/4,(node=this.from).width||node.resize(ctx),y=node.width>node.height?(x=node.x+node.width/2,node.y-radius):(x=node.x+radius,node.y-node.height/2),node=x-x3,dy=y-y3,Math.abs(Math.sqrt(node*node+dy*dy)-radius);if(1!=this.options.smoothCurves.enabled)return this._getDistanceToLine(x1,y1,x2,y2,x3,y3);yVia=(1==this.options.smoothCurves.enabled&&1==this.options.smoothCurves.dynamic?(xVia=this.via.x,this.via):(xVia=(node=this._getViaCoordinates()).x,node)).y;for(var node,xVia,yVia,t,x,y,lastX,lastY,minDistance=1e9,i=0;i<10;i++)t=.1*i,x=Math.pow(1-t,2)*x1+2*t*(1-t)*xVia+Math.pow(t,2)*x2,y=Math.pow(1-t,2)*y1+2*t*(1-t)*yVia+Math.pow(t,2)*y2,0<i&&(minDistance=(t=this._getDistanceToLine(lastX,lastY,x,y,x3,y3))<minDistance?t:minDistance),lastX=x,lastY=y;return minDistance},Edge.prototype._getDistanceToLine=function(x1,y1,x2,y2,x3,y3){var x2=x2-x1,y2=y2-y1,u=((x3-x1)*x2+(y3-y1)*y2)/(x2*x2+y2*y2);1<u?u=1:u<0&&(u=0);x1=x1+u*x2-x3,x2=y1+u*y2-y3;return Math.sqrt(x1*x1+x2*x2)},Edge.prototype.setScale=function(scale){this.networkScaleInv=1/scale},Edge.prototype.select=function(){this.selected=!0},Edge.prototype.unselect=function(){this.selected=!1},Edge.prototype.positionBezierNode=function(){null!==this.via&&null!==this.from&&null!==this.to&&(this.via.x=.5*(this.from.x+this.to.x),this.via.y=.5*(this.from.y+this.to.y))},Edge.prototype._drawControlNodes=function(ctx){var nodeIdTo,nodeIdFrom;1==this.controlNodesEnabled?(null===this.controlNodes.from&&null===this.controlNodes.to&&(nodeIdFrom="edgeIdFrom:".concat(this.id),nodeIdTo="edgeIdTo:".concat(this.id),this.controlNodes.from=new Node({id:nodeIdFrom,shape:"dot",color:{background:"#ff4e00",border:"#3c3c3c",highlight:{background:"#07f968"}}},{},{},nodeIdFrom={nodes:{group:"",radius:8},physics:{damping:0},clustering:{maxNodeSizeIncrements:0,nodeScaling:{width:0,height:0,radius:0}}}),this.controlNodes.to=new Node({id:nodeIdTo,shape:"dot",color:{background:"#ff4e00",border:"#3c3c3c",highlight:{background:"#07f968"}}},{},{},nodeIdFrom)),0==this.controlNodes.from.selected&&0==this.controlNodes.to.selected&&(this.controlNodes.positions=this.getControlNodePositions(ctx),this.controlNodes.from.x=this.controlNodes.positions.from.x,this.controlNodes.from.y=this.controlNodes.positions.from.y,this.controlNodes.to.x=this.controlNodes.positions.to.x,this.controlNodes.to.y=this.controlNodes.positions.to.y),this.controlNodes.from.draw(ctx),this.controlNodes.to.draw(ctx)):this.controlNodes={from:null,to:null,positions:{}}},Edge.prototype._enableControlNodes=function(){this.controlNodesEnabled=!0},Edge.prototype._disableControlNodes=function(){this.controlNodesEnabled=!1},Edge.prototype._getSelectedControlNode=function(x,y){var positions=this.controlNodes.positions,fromDistance=Math.sqrt(Math.pow(x-positions.from.x,2)+Math.pow(y-positions.from.y,2)),x=Math.sqrt(Math.pow(x-positions.to.x,2)+Math.pow(y-positions.to.y,2));return fromDistance<15?(this.connectedNode=this.from,this.from=this.controlNodes.from,this.controlNodes.from):x<15?(this.connectedNode=this.to,this.to=this.controlNodes.to,this.controlNodes.to):null},Edge.prototype._restoreControlNodes=function(){1==this.controlNodes.from.selected&&(this.from=this.connectedNode,this.connectedNode=null,this.controlNodes.from.unselect()),1==this.controlNodes.to.selected&&(this.to=this.connectedNode,this.connectedNode=null,this.controlNodes.to.unselect())},Edge.prototype.getControlNodePositions=function(ctx){var via,xTo,angle=Math.atan2(this.to.y-this.from.y,this.to.x-this.from.x),dx=this.to.x-this.from.x,dy=this.to.y-this.from.y,edgeSegmentLength=Math.sqrt(dx*dx+dy*dy),fromBorderPoint=(edgeSegmentLength-this.from.distanceToBorder(ctx,angle+Math.PI))/edgeSegmentLength,xFrom=fromBorderPoint*this.from.x+(1-fromBorderPoint)*this.to.x,fromBorderPoint=fromBorderPoint*this.from.y+(1-fromBorderPoint)*this.to.y,dx=(1==this.options.smoothCurves.dynamic&&1==this.options.smoothCurves.enabled?via=this.via:1==this.options.smoothCurves.enabled&&(via=this._getViaCoordinates()),1==this.options.smoothCurves.enabled&&null!=via.x&&(angle=Math.atan2(this.to.y-via.y,this.to.x-via.x),dx=this.to.x-via.x,dy=this.to.y-via.y,edgeSegmentLength=Math.sqrt(dx*dx+dy*dy)),this.to.distanceToBorder(ctx,angle)),dy=(edgeSegmentLength-dx)/edgeSegmentLength,ctx=1==this.options.smoothCurves.enabled&&null!=via.x?(xTo=(1-dy)*via.x+dy*this.to.x,(1-dy)*via.y+dy*this.to.y):(xTo=(1-dy)*this.from.x+dy*this.to.x,(1-dy)*this.from.y+dy*this.to.y);return{from:{x:xFrom,y:fromBorderPoint},to:{x:xTo,y:ctx}}},module.exports=Edge},function(module,exports,__webpack_require__){var util=__webpack_require__(1);function Groups(){this.clear(),this.defaultIndex=0}Groups.DEFAULT=[{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},{border:"#FFA500",background:"#FFFF00",highlight:{border:"#FFA500",background:"#FFFFA3"},hover:{border:"#FFA500",background:"#FFFFA3"}},{border:"#FA0A10",background:"#FB7E81",highlight:{border:"#FA0A10",background:"#FFAFB1"},hover:{border:"#FA0A10",background:"#FFAFB1"}},{border:"#41A906",background:"#7BE141",highlight:{border:"#41A906",background:"#A1EC76"},hover:{border:"#41A906",background:"#A1EC76"}},{border:"#E129F0",background:"#EB7DF4",highlight:{border:"#E129F0",background:"#F0B3F5"},hover:{border:"#E129F0",background:"#F0B3F5"}},{border:"#7C29F0",background:"#AD85E4",highlight:{border:"#7C29F0",background:"#D3BDF0"},hover:{border:"#7C29F0",background:"#D3BDF0"}},{border:"#C37F00",background:"#FFA807",highlight:{border:"#C37F00",background:"#FFCA66"},hover:{border:"#C37F00",background:"#FFCA66"}},{border:"#4220FB",background:"#6E6EFD",highlight:{border:"#4220FB",background:"#9B9BFD"},hover:{border:"#4220FB",background:"#9B9BFD"}},{border:"#FD5A77",background:"#FFC0CB",highlight:{border:"#FD5A77",background:"#FFD1D9"},hover:{border:"#FD5A77",background:"#FFD1D9"}},{border:"#4AD63A",background:"#C2FABC",highlight:{border:"#4AD63A",background:"#E6FFE3"},hover:{border:"#4AD63A",background:"#E6FFE3"}}],Groups.prototype.clear=function(){this.groups={},this.groups.length=function(){var p,i=0;for(p in this)this.hasOwnProperty(p)&&i++;return i}},Groups.prototype.get=function(groupname){var index,group=this.groups[groupname];return null==group&&(index=this.defaultIndex%Groups.DEFAULT.length,this.defaultIndex++,(group={}).color=Groups.DEFAULT[index],this.groups[groupname]=group),group},Groups.prototype.add=function(groupname,style){return(this.groups[groupname]=style).color&&(style.color=util.parseColor(style.color)),style},module.exports=Groups},function(module,exports,__webpack_require__){function Images(){this.images={},this.callback=void 0}Images.prototype.setOnloadCallback=function(callback){this.callback=callback},Images.prototype.load=function(url){var images,img=this.images[url];return null==img&&(images=this,img=new Image,(this.images[url]=img).onload=function(){images.callback&&images.callback(this)},img.src=url),img},module.exports=Images},function(module,exports,__webpack_require__){var util=__webpack_require__(1);function Node(properties,imagelist,grouplist,networkConstants){var constants=util.selectiveBridgeObject(["nodes"],networkConstants);this.options=constants.nodes,this.selected=!1,this.hover=!1,this.edges=[],this.dynamicEdges=[],this.reroutedEdges={},this.fontDrawThreshold=3,this.id=void 0,this.x=null,this.y=null,this.xFixed=!1,this.yFixed=!1,this.horizontalAlignLeft=!0,this.verticalAlignTop=!0,this.baseRadiusValue=networkConstants.nodes.radius,this.radiusFixed=!1,this.level=-1,this.preassignedLevel=!1,this.imagelist=imagelist,this.grouplist=grouplist,this.fx=0,this.fy=0,this.vx=0,this.vy=0,this.damping=networkConstants.physics.damping,this.fixedData={x:null,y:null},this.setProperties(properties,constants),this.resetCluster(),this.dynamicEdgesLength=0,this.clusterSession=0,this.clusterSizeWidthFactor=networkConstants.clustering.nodeScaling.width,this.clusterSizeHeightFactor=networkConstants.clustering.nodeScaling.height,this.clusterSizeRadiusFactor=networkConstants.clustering.nodeScaling.radius,this.maxNodeSizeIncrements=networkConstants.clustering.maxNodeSizeIncrements,this.growthIndicator=0,this.networkScaleInv=1,this.networkScale=1,this.canvasTopLeft={x:-300,y:-300},this.canvasBottomRight={x:300,y:300},this.parentEdgeId=null}Node.prototype.resetCluster=function(){this.formationScale=void 0,this.clusterSize=1,this.containedNodes={},this.containedEdges={},this.clusterSessions=[]},Node.prototype.attachEdge=function(edge){-1==this.edges.indexOf(edge)&&this.edges.push(edge),-1==this.dynamicEdges.indexOf(edge)&&this.dynamicEdges.push(edge),this.dynamicEdgesLength=this.dynamicEdges.length},Node.prototype.detachEdge=function(edge){edge=this.edges.indexOf(edge);-1!=edge&&(this.edges.splice(edge,1),this.dynamicEdges.splice(edge,1)),this.dynamicEdgesLength=this.dynamicEdges.length},Node.prototype.setProperties=function(properties,constants){if(properties){if(util.selectiveDeepExtend(["borderWidth","borderWidthSelected","shape","image","radius","fontColor","fontSize","fontFace","group","mass"],this.options,properties),(this.originalLabel=void 0)!==properties.id&&(this.id=properties.id),void 0!==properties.label&&(this.label=properties.label,this.originalLabel=properties.label),void 0!==properties.title&&(this.title=properties.title),void 0!==properties.x&&(this.x=properties.x),void 0!==properties.y&&(this.y=properties.y),void 0!==properties.value&&(this.value=properties.value),void 0!==properties.level&&(this.level=properties.level,this.preassignedLevel=!0),void 0!==properties.horizontalAlignLeft&&(this.horizontalAlignLeft=properties.horizontalAlignLeft),void 0!==properties.verticalAlignTop&&(this.verticalAlignTop=properties.verticalAlignTop),void 0!==properties.triggerFunction&&(this.triggerFunction=properties.triggerFunction),void 0===this.id)throw"Node must have an id";if(void 0!==this.options.group&&""!=this.options.group){var prop,groupObj=this.grouplist.get(this.options.group);for(prop in groupObj)groupObj.hasOwnProperty(prop)&&(this.options[prop]=groupObj[prop])}if(void 0!==properties.radius&&(this.baseRadiusValue=this.options.radius),void 0!==properties.color&&(this.options.color=util.parseColor(properties.color)),void 0!==this.options.image&&""!=this.options.image){if(!this.imagelist)throw"No imagelist provided";this.imageObj=this.imagelist.load(this.options.image)}switch(this.xFixed=this.xFixed||void 0!==properties.x&&!properties.allowedToMoveX,this.yFixed=this.yFixed||void 0!==properties.y&&!properties.allowedToMoveY,this.radiusFixed=this.radiusFixed||void 0!==properties.radius,"image"==this.options.shape&&(this.options.radiusMin=constants.nodes.widthMin,this.options.radiusMax=constants.nodes.widthMax),this.options.shape){case"database":this.draw=this._drawDatabase,this.resize=this._resizeDatabase;break;case"box":this.draw=this._drawBox,this.resize=this._resizeBox;break;case"circle":this.draw=this._drawCircle,this.resize=this._resizeCircle;break;case"ellipse":this.draw=this._drawEllipse,this.resize=this._resizeEllipse;break;case"image":this.draw=this._drawImage,this.resize=this._resizeImage;break;case"text":this.draw=this._drawText,this.resize=this._resizeText;break;case"dot":this.draw=this._drawDot,this.resize=this._resizeShape;break;case"square":this.draw=this._drawSquare,this.resize=this._resizeShape;break;case"triangle":this.draw=this._drawTriangle,this.resize=this._resizeShape;break;case"triangleDown":this.draw=this._drawTriangleDown,this.resize=this._resizeShape;break;case"star":this.draw=this._drawStar,this.resize=this._resizeShape;break;default:this.draw=this._drawEllipse,this.resize=this._resizeEllipse}this._reset()}},Node.prototype.select=function(){this.selected=!0,this._reset()},Node.prototype.unselect=function(){this.selected=!1,this._reset()},Node.prototype.clearSizeCache=function(){this._reset()},Node.prototype._reset=function(){this.width=void 0,this.height=void 0},Node.prototype.getTitle=function(){return"function"==typeof this.title?this.title():this.title},Node.prototype.distanceToBorder=function(ctx,angle){switch(this.width||this.resize(ctx),this.options.shape){case"circle":case"dot":return this.options.radius+1;case"ellipse":var a=this.width/2,b=this.height/2,w=Math.sin(angle)*a,h=Math.cos(angle)*b;return a*b/Math.sqrt(w*w+h*h);default:return this.width?Math.min(Math.abs(this.width/2/Math.cos(angle)),Math.abs(this.height/2/Math.sin(angle)))+1:0}},Node.prototype._setForce=function(fx,fy){this.fx=fx,this.fy=fy},Node.prototype._addForce=function(fx,fy){this.fx+=fx,this.fy+=fy},Node.prototype.discreteStep=function(interval){var dx;this.xFixed||(dx=this.damping*this.vx,dx=(this.fx-dx)/this.options.mass,this.vx+=dx*interval,this.x+=this.vx*interval),this.yFixed||(dx=this.damping*this.vy,dx=(this.fy-dx)/this.options.mass,this.vy+=dx*interval,this.y+=this.vy*interval)},Node.prototype.discreteStepLimited=function(interval,maxVelocity){var dx;this.xFixed?this.fx=0:(dx=this.damping*this.vx,dx=(this.fx-dx)/this.options.mass,this.vx+=dx*interval,this.vx=Math.abs(this.vx)>maxVelocity?0<this.vx?maxVelocity:-maxVelocity:this.vx,this.x+=this.vx*interval),this.yFixed?this.fy=0:(dx=this.damping*this.vy,dx=(this.fy-dx)/this.options.mass,this.vy+=dx*interval,this.vy=Math.abs(this.vy)>maxVelocity?0<this.vy?maxVelocity:-maxVelocity:this.vy,this.y+=this.vy*interval)},Node.prototype.isFixed=function(){return this.xFixed&&this.yFixed},Node.prototype.isMoving=function(vmin){return Math.abs(this.vx)>vmin||Math.abs(this.vy)>vmin},Node.prototype.isSelected=function(){return this.selected},Node.prototype.getValue=function(){return this.value},Node.prototype.getDistance=function(x,y){x=this.x-x,y=this.y-y;return Math.sqrt(x*x+y*y)},Node.prototype.setValueRange=function(min,max){this.radiusFixed||void 0===this.value||(max==min?this.options.radius=(this.options.radiusMin+this.options.radiusMax)/2:(max=(this.options.radiusMax-this.options.radiusMin)/(max-min),this.options.radius=(this.value-min)*max+this.options.radiusMin)),this.baseRadiusValue=this.options.radius},Node.prototype.draw=function(ctx){throw"Draw method not initialized for node"},Node.prototype.resize=function(ctx){throw"Resize method not initialized for node"},Node.prototype.isOverlappingWith=function(obj){return this.left<obj.right&&this.left+this.width>obj.left&&this.top<obj.bottom&&this.top+this.height>obj.top},Node.prototype._resizeImage=function(ctx){var width,scale;this.width&&this.height||(scale=this.value?(this.options.radius=this.baseRadiusValue,scale=this.imageObj.height/this.imageObj.width,width=this.options.radius||this.imageObj.width,this.options.radius*scale||this.imageObj.height):(width=this.imageObj.width,this.imageObj.height),this.width=width,this.height=scale,(this.growthIndicator=0)<this.width&&0<this.height&&(this.width+=Math.min(this.clusterSize-1,this.maxNodeSizeIncrements)*this.clusterSizeWidthFactor,this.height+=Math.min(this.clusterSize-1,this.maxNodeSizeIncrements)*this.clusterSizeHeightFactor,this.options.radius+=Math.min(this.clusterSize-1,this.maxNodeSizeIncrements)*this.clusterSizeRadiusFactor,this.growthIndicator=this.width-width))},Node.prototype._drawImage=function(ctx){var lineWidth;this._resizeImage(ctx),this.left=this.x-this.width/2,this.top=this.y-this.height/2,lineWidth=0!=this.imageObj.width?(1<this.clusterSize&&(lineWidth=1<this.clusterSize?10:0,lineWidth*=this.networkScaleInv,lineWidth=Math.min(.2*this.width,lineWidth),ctx.globalAlpha=.5,ctx.drawImage(this.imageObj,this.left-lineWidth,this.top-lineWidth,this.width+2*lineWidth,this.height+2*lineWidth)),ctx.globalAlpha=1,ctx.drawImage(this.imageObj,this.left,this.top,this.width,this.height),this.y+this.height/2):this.y,this._label(ctx,this.label,this.x,lineWidth,void 0,"top")},Node.prototype._resizeBox=function(ctx){this.width||(ctx=this.getTextSize(ctx),this.width=ctx.width+10,this.height=ctx.height+10,this.width+=.5*Math.min(this.clusterSize-1,this.maxNodeSizeIncrements)*this.clusterSizeWidthFactor,this.height+=.5*Math.min(this.clusterSize-1,this.maxNodeSizeIncrements)*this.clusterSizeHeightFactor,this.growthIndicator=this.width-(ctx.width+10))},Node.prototype._drawBox=function(ctx){this._resizeBox(ctx),this.left=this.x-this.width/2,this.top=this.y-this.height/2;var borderWidth=this.options.borderWidth,selectionLineWidth=this.options.borderWidthSelected||2*this.options.borderWidth;ctx.strokeStyle=(this.selected?this.options.color.highlight:this.hover?this.options.color.hover:this.options.color).border,1<this.clusterSize&&(ctx.lineWidth=(this.selected?selectionLineWidth:borderWidth)+(1<this.clusterSize?2.5:0),ctx.lineWidth*=this.networkScaleInv,ctx.lineWidth=Math.min(this.width,ctx.lineWidth),ctx.roundRect(this.left-2*ctx.lineWidth,this.top-2*ctx.lineWidth,this.width+4*ctx.lineWidth,this.height+4*ctx.lineWidth,this.options.radius),ctx.stroke()),ctx.lineWidth=(this.selected?selectionLineWidth:borderWidth)+(1<this.clusterSize?2.5:0),ctx.lineWidth*=this.networkScaleInv,ctx.lineWidth=Math.min(this.width,ctx.lineWidth),ctx.fillStyle=(this.selected?this.options.color.highlight:this.options.color).background,ctx.roundRect(this.left,this.top,this.width,this.height,this.options.radius),ctx.fill(),ctx.stroke(),this._label(ctx,this.label,this.x,this.y)},Node.prototype._resizeDatabase=function(ctx){this.width||(ctx=this.getTextSize(ctx).width+10,this.width=ctx,this.height=ctx,this.width+=Math.min(this.clusterSize-1,this.maxNodeSizeIncrements)*this.clusterSizeWidthFactor,this.height+=Math.min(this.clusterSize-1,this.maxNodeSizeIncrements)*this.clusterSizeHeightFactor,this.options.radius+=Math.min(this.clusterSize-1,this.maxNodeSizeIncrements)*this.clusterSizeRadiusFactor,this.growthIndicator=this.width-ctx)},Node.prototype._drawDatabase=function(ctx){this._resizeDatabase(ctx),this.left=this.x-this.width/2,this.top=this.y-this.height/2;var borderWidth=this.options.borderWidth,selectionLineWidth=this.options.borderWidthSelected||2*this.options.borderWidth;ctx.strokeStyle=(this.selected?this.options.color.highlight:this.hover?this.options.color.hover:this.options.color).border,1<this.clusterSize&&(ctx.lineWidth=(this.selected?selectionLineWidth:borderWidth)+(1<this.clusterSize?2.5:0),ctx.lineWidth*=this.networkScaleInv,ctx.lineWidth=Math.min(this.width,ctx.lineWidth),ctx.database(this.x-this.width/2-2*ctx.lineWidth,this.y-.5*this.height-2*ctx.lineWidth,this.width+4*ctx.lineWidth,this.height+4*ctx.lineWidth),ctx.stroke()),ctx.lineWidth=(this.selected?selectionLineWidth:borderWidth)+(1<this.clusterSize?2.5:0),ctx.lineWidth*=this.networkScaleInv,ctx.lineWidth=Math.min(this.width,ctx.lineWidth),ctx.fillStyle=(this.selected?this.options.color.highlight:this.hover?this.options.color.hover:this.options.color).background,ctx.database(this.x-this.width/2,this.y-.5*this.height,this.width,this.height),ctx.fill(),ctx.stroke(),this._label(ctx,this.label,this.x,this.y)},Node.prototype._resizeCircle=function(ctx){this.width||(ctx=this.getTextSize(ctx),ctx=Math.max(ctx.width,ctx.height)+10,this.options.radius=ctx/2,this.width=ctx,this.height=ctx,this.options.radius+=.5*Math.min(this.clusterSize-1,this.maxNodeSizeIncrements)*this.clusterSizeRadiusFactor,this.growthIndicator=this.options.radius-.5*ctx)},Node.prototype._drawCircle=function(ctx){this._resizeCircle(ctx),this.left=this.x-this.width/2,this.top=this.y-this.height/2;var borderWidth=this.options.borderWidth,selectionLineWidth=this.options.borderWidthSelected||2*this.options.borderWidth;ctx.strokeStyle=(this.selected?this.options.color.highlight:this.hover?this.options.color.hover:this.options.color).border,1<this.clusterSize&&(ctx.lineWidth=(this.selected?selectionLineWidth:borderWidth)+(1<this.clusterSize?2.5:0),ctx.lineWidth*=this.networkScaleInv,ctx.lineWidth=Math.min(this.width,ctx.lineWidth),ctx.circle(this.x,this.y,this.options.radius+2*ctx.lineWidth),ctx.stroke()),ctx.lineWidth=(this.selected?selectionLineWidth:borderWidth)+(1<this.clusterSize?2.5:0),ctx.lineWidth*=this.networkScaleInv,ctx.lineWidth=Math.min(this.width,ctx.lineWidth),ctx.fillStyle=(this.selected?this.options.color.highlight:this.hover?this.options.color.hover:this.options.color).background,ctx.circle(this.x,this.y,this.options.radius),ctx.fill(),ctx.stroke(),this._label(ctx,this.label,this.x,this.y)},Node.prototype._resizeEllipse=function(ctx){this.width||(ctx=this.getTextSize(ctx),this.width=1.5*ctx.width,this.height=2*ctx.height,this.width<this.height&&(this.width=this.height),ctx=this.width,this.width+=Math.min(this.clusterSize-1,this.maxNodeSizeIncrements)*this.clusterSizeWidthFactor,this.height+=Math.min(this.clusterSize-1,this.maxNodeSizeIncrements)*this.clusterSizeHeightFactor,this.options.radius+=Math.min(this.clusterSize-1,this.maxNodeSizeIncrements)*this.clusterSizeRadiusFactor,this.growthIndicator=this.width-ctx)},Node.prototype._drawEllipse=function(ctx){this._resizeEllipse(ctx),this.left=this.x-this.width/2,this.top=this.y-this.height/2;var borderWidth=this.options.borderWidth,selectionLineWidth=this.options.borderWidthSelected||2*this.options.borderWidth;ctx.strokeStyle=(this.selected?this.options.color.highlight:this.hover?this.options.color.hover:this.options.color).border,1<this.clusterSize&&(ctx.lineWidth=(this.selected?selectionLineWidth:borderWidth)+(1<this.clusterSize?2.5:0),ctx.lineWidth*=this.networkScaleInv,ctx.lineWidth=Math.min(this.width,ctx.lineWidth),ctx.ellipse(this.left-2*ctx.lineWidth,this.top-2*ctx.lineWidth,this.width+4*ctx.lineWidth,this.height+4*ctx.lineWidth),ctx.stroke()),ctx.lineWidth=(this.selected?selectionLineWidth:borderWidth)+(1<this.clusterSize?2.5:0),ctx.lineWidth*=this.networkScaleInv,ctx.lineWidth=Math.min(this.width,ctx.lineWidth),ctx.fillStyle=(this.selected?this.options.color.highlight:this.hover?this.options.color.hover:this.options.color).background,ctx.ellipse(this.left,this.top,this.width,this.height),ctx.fill(),ctx.stroke(),this._label(ctx,this.label,this.x,this.y)},Node.prototype._drawDot=function(ctx){this._drawShape(ctx,"circle")},Node.prototype._drawTriangle=function(ctx){this._drawShape(ctx,"triangle")},Node.prototype._drawTriangleDown=function(ctx){this._drawShape(ctx,"triangleDown")},Node.prototype._drawSquare=function(ctx){this._drawShape(ctx,"square")},Node.prototype._drawStar=function(ctx){this._drawShape(ctx,"star")},Node.prototype._resizeShape=function(ctx){var size;this.width||(this.options.radius=this.baseRadiusValue,size=2*this.options.radius,this.width=size,this.height=size,this.width+=Math.min(this.clusterSize-1,this.maxNodeSizeIncrements)*this.clusterSizeWidthFactor,this.height+=Math.min(this.clusterSize-1,this.maxNodeSizeIncrements)*this.clusterSizeHeightFactor,this.options.radius+=.5*Math.min(this.clusterSize-1,this.maxNodeSizeIncrements)*this.clusterSizeRadiusFactor,this.growthIndicator=this.width-size)},Node.prototype._drawShape=function(ctx,shape){this._resizeShape(ctx),this.left=this.x-this.width/2,this.top=this.y-this.height/2;var borderWidth=this.options.borderWidth,selectionLineWidth=this.options.borderWidthSelected||2*this.options.borderWidth,radiusMultiplier=2;switch(shape){case"dot":case"square":radiusMultiplier=2;break;case"triangle":case"triangleDown":radiusMultiplier=3;break;case"star":radiusMultiplier=4}ctx.strokeStyle=(this.selected?this.options.color.highlight:this.hover?this.options.color.hover:this.options.color).border,1<this.clusterSize&&(ctx.lineWidth=(this.selected?selectionLineWidth:borderWidth)+(1<this.clusterSize?2.5:0),ctx.lineWidth*=this.networkScaleInv,ctx.lineWidth=Math.min(this.width,ctx.lineWidth),ctx[shape](this.x,this.y,this.options.radius+radiusMultiplier*ctx.lineWidth),ctx.stroke()),ctx.lineWidth=(this.selected?selectionLineWidth:borderWidth)+(1<this.clusterSize?2.5:0),ctx.lineWidth*=this.networkScaleInv,ctx.lineWidth=Math.min(this.width,ctx.lineWidth),ctx.fillStyle=(this.selected?this.options.color.highlight:this.hover?this.options.color.hover:this.options.color).background,ctx[shape](this.x,this.y,this.options.radius),ctx.fill(),ctx.stroke(),this.label&&this._label(ctx,this.label,this.x,this.y+this.height/2,void 0,"top",!0)},Node.prototype._resizeText=function(ctx){this.width||(ctx=this.getTextSize(ctx),this.width=ctx.width+10,this.height=ctx.height+10,this.width+=Math.min(this.clusterSize-1,this.maxNodeSizeIncrements)*this.clusterSizeWidthFactor,this.height+=Math.min(this.clusterSize-1,this.maxNodeSizeIncrements)*this.clusterSizeHeightFactor,this.options.radius+=Math.min(this.clusterSize-1,this.maxNodeSizeIncrements)*this.clusterSizeRadiusFactor,this.growthIndicator=this.width-(ctx.width+10))},Node.prototype._drawText=function(ctx){this._resizeText(ctx),this.left=this.x-this.width/2,this.top=this.y-this.height/2,this._label(ctx,this.label,this.x,this.y)},Node.prototype._label=function(ctx,text,x,y,align,baseline,labelUnderNode){if(text&&Number(this.options.fontSize)*this.networkScale>this.fontDrawThreshold){ctx.font=(this.selected?"bold ":"")+this.options.fontSize+"px "+this.options.fontFace,ctx.fillStyle=this.options.fontColor||"black",ctx.textAlign=align||"center",ctx.textBaseline=baseline||"middle";var lines=text.split("\n"),lineCount=lines.length,fontSize=Number(this.options.fontSize)+4,yLine=y+(1-lineCount)/2*fontSize;1==labelUnderNode&&(yLine=y+(1-lineCount)/(2*fontSize));for(var i=0;i<lineCount;i++)ctx.fillText(lines[i],x,yLine),yLine+=fontSize}},Node.prototype.getTextSize=function(ctx){if(void 0===this.label)return{width:0,height:0};ctx.font=(this.selected?"bold ":"")+this.options.fontSize+"px "+this.options.fontFace;for(var lines=this.label.split("\n"),height=(Number(this.options.fontSize)+4)*lines.length,width=0,i=0,iMax=lines.length;i<iMax;i++)width=Math.max(width,ctx.measureText(lines[i]).width);return{width:width,height:height}},Node.prototype.inArea=function(){return void 0===this.width||this.x+this.width*this.networkScaleInv>=this.canvasTopLeft.x&&this.x-this.width*this.networkScaleInv<this.canvasBottomRight.x&&this.y+this.height*this.networkScaleInv>=this.canvasTopLeft.y&&this.y-this.height*this.networkScaleInv<this.canvasBottomRight.y},Node.prototype.inView=function(){return this.x>=this.canvasTopLeft.x&&this.x<this.canvasBottomRight.x&&this.y>=this.canvasTopLeft.y&&this.y<this.canvasBottomRight.y},Node.prototype.setScaleAndPos=function(scale,canvasTopLeft,canvasBottomRight){this.networkScaleInv=1/scale,this.networkScale=scale,this.canvasTopLeft=canvasTopLeft,this.canvasBottomRight=canvasBottomRight},Node.prototype.setScale=function(scale){this.networkScaleInv=1/scale,this.networkScale=scale},Node.prototype.clearVelocity=function(){this.vx=0,this.vy=0},Node.prototype.updateVelocity=function(massBeforeClustering){var energyBefore=this.vx*this.vx*massBeforeClustering;this.vx=Math.sqrt(energyBefore/this.options.mass),energyBefore=this.vy*this.vy*massBeforeClustering,this.vy=Math.sqrt(energyBefore/this.options.mass)},module.exports=Node},function(module,exports,__webpack_require__){function Popup(container,x,y,text,style){this.container=container||document.body,void 0===style&&("object"==typeof x?(style=x,x=void 0):"object"==typeof text?(style=text,text=void 0):style={fontColor:"black",fontSize:14,fontFace:"verdana",color:{border:"#666",background:"#FFFFC6"}}),this.x=0,this.y=0,this.padding=5,void 0!==x&&void 0!==y&&this.setPosition(x,y),void 0!==text&&this.setText(text),this.frame=document.createElement("div");container=this.frame.style;container.position="absolute",container.visibility="hidden",container.border="1px solid "+style.color.border,container.color=style.fontColor,container.fontSize=style.fontSize+"px",container.fontFamily=style.fontFace,container.padding=this.padding+"px",container.backgroundColor=style.color.background,container.borderRadius="3px",container.MozBorderRadius="3px",container.WebkitBorderRadius="3px",container.boxShadow="3px 3px 10px rgba(128, 128, 128, 0.5)",container.whiteSpace="nowrap",this.container.appendChild(this.frame)}Popup.prototype.setPosition=function(x,y){this.x=parseInt(x),this.y=parseInt(y)},Popup.prototype.setText=function(text){this.frame.innerHTML=text},Popup.prototype.show=function(show){var width,maxWidth,top,maxHeight;(show=void 0===show?!0:show)?(show=this.frame.clientHeight,width=this.frame.clientWidth,maxHeight=this.frame.parentNode.clientHeight,maxWidth=this.frame.parentNode.clientWidth,(top=(top=this.y-show)+show+this.padding>maxHeight?maxHeight-show-this.padding:top)<this.padding&&(top=this.padding),(maxHeight=(maxHeight=this.x)+width+this.padding>maxWidth?maxWidth-width-this.padding:maxHeight)<this.padding&&(maxHeight=this.padding),this.frame.style.left=maxHeight+"px",this.frame.style.top=top+"px",this.frame.style.visibility="visible"):this.hide()},Popup.prototype.hide=function(){this.frame.style.visibility="hidden"},module.exports=Popup},function(module,exports,__webpack_require__){function parseDOT(data){var graph={};if(index=0,c=(dot=data).charAt(0),getToken(),"strict"==token&&(graph.strict=!0,getToken()),"graph"!=token&&"digraph"!=token||(graph.type=token,getToken()),tokenType==TOKENTYPE.IDENTIFIER&&(graph.id=token,getToken()),"{"!=token)throw newSyntaxError("Angle bracket { expected");if(getToken(),parseStatements(graph),"}"!=token)throw newSyntaxError("Angle bracket } expected");if(getToken(),""===token)return getToken(),delete graph.node,delete graph.edge,delete graph.graph,graph;throw newSyntaxError("End of file expected")}var TOKENTYPE={NULL:0,DELIMITER:1,IDENTIFIER:2,UNKNOWN:3},DELIMITERS={"{":!0,"}":!0,"[":!0,"]":!0,";":!0,"=":!0,",":!0,"->":!0,"--":!0},dot="",index=0,c="",token="",tokenType=TOKENTYPE.NULL;function next(){index++,c=dot.charAt(index)}function nextPreview(){return dot.charAt(index+1)}var regexAlphaNumeric=/[a-zA-Z_0-9.:#]/;function isAlphaNumeric(c){return regexAlphaNumeric.test(c)}function merge(a,b){if(a=a||{},b)for(var name in b)b.hasOwnProperty(name)&&(a[name]=b[name]);return a}function addNode(graph,node){for(var i,len,current=null,graphs=[graph],root=graph;root.parent;)graphs.push(root.parent),root=root.parent;if(root.nodes)for(i=0,len=root.nodes.length;i<len;i++)if(node.id===root.nodes[i].id){current=root.nodes[i];break}for(current||(current={id:node.id},graph.node&&(current.attr=merge(current.attr,graph.node))),i=graphs.length-1;0<=i;i--){var g=graphs[i];g.nodes||(g.nodes=[]),-1==g.nodes.indexOf(current)&&g.nodes.push(current)}node.attr&&(current.attr=merge(current.attr,node.attr))}function createEdge(graph,from,to,type,attr){from={from:from,to:to,type:type};return graph.edge&&(from.attr=merge({},graph.edge)),from.attr=merge(from.attr||{},attr),from}function getToken(){for(tokenType=TOKENTYPE.NULL,token="";" "==c||"\t"==c||"\n"==c||"\r"==c;)next();do{var isComment=!1;if("#"==c){for(var i=index-1;" "==dot.charAt(i)||"\t"==dot.charAt(i);)i--;if("\n"==dot.charAt(i)||""==dot.charAt(i)){for(;""!=c&&"\n"!=c;)next();isComment=!0}}if("/"==c&&"/"==nextPreview()){for(;""!=c&&"\n"!=c;)next();isComment=!0}if("/"==c&&"*"==nextPreview()){for(;""!=c;){if("*"==c&&"/"==nextPreview()){next(),next();break}next()}isComment=!0}for(;" "==c||"\t"==c||"\n"==c||"\r"==c;)next()}while(isComment);if(""==c)tokenType=TOKENTYPE.DELIMITER;else{var c2=c+nextPreview();if(DELIMITERS[c2])tokenType=TOKENTYPE.DELIMITER,token=c2,next(),next();else if(DELIMITERS[c])tokenType=TOKENTYPE.DELIMITER,token=c,next();else{if(isAlphaNumeric(c)||"-"==c){for(token+=c,next();isAlphaNumeric(c);)token+=c,next();"false"==token?token=!1:"true"==token?token=!0:isNaN(Number(token))||(token=Number(token))}else{if('"'!=c){for(tokenType=TOKENTYPE.UNKNOWN;""!=c;)token+=c,next();throw new SyntaxError('Syntax error in part "'+chop(token,30)+'"')}for(next();""!=c&&('"'!=c||'"'==c&&'"'==nextPreview());)token+=c,'"'==c&&next(),next();if('"'!=c)throw newSyntaxError('End of string " expected');next()}tokenType=TOKENTYPE.IDENTIFIER}}}function parseStatements(graph){for(;""!==token&&"}"!=token;)!function(graph){var subgraph=parseSubgraph(graph);if(subgraph)parseEdge(graph,subgraph);else{subgraph=function(graph){{if("node"==token)return getToken(),graph.node=parseAttributeList(),"node";if("edge"==token)return getToken(),graph.edge=parseAttributeList(),"edge";if("graph"==token)return getToken(),graph.graph=parseAttributeList(),"graph"}return null}(graph);if(!subgraph){if(tokenType!=TOKENTYPE.IDENTIFIER)throw newSyntaxError("Identifier expected");subgraph=token;if(getToken(),"="==token){if(getToken(),tokenType!=TOKENTYPE.IDENTIFIER)throw newSyntaxError("Identifier expected");graph[subgraph]=token,getToken()}else!function(graph,id){var node={id:id},attr=parseAttributeList();attr&&(node.attr=attr);addNode(graph,node),parseEdge(graph,id)}(graph,subgraph)}}}(graph),";"==token&&getToken()}function parseSubgraph(graph){var subgraph=null;if("subgraph"==token&&(subgraph={type:"subgraph"},getToken(),tokenType==TOKENTYPE.IDENTIFIER)&&(subgraph.id=token,getToken()),"{"==token){if(getToken(),(subgraph=subgraph||{}).parent=graph,subgraph.node=graph.node,subgraph.edge=graph.edge,subgraph.graph=graph.graph,parseStatements(subgraph),"}"!=token)throw newSyntaxError("Angle bracket } expected");getToken(),delete subgraph.node,delete subgraph.edge,delete subgraph.graph,delete subgraph.parent,graph.subgraphs||(graph.subgraphs=[]),graph.subgraphs.push(subgraph)}return subgraph}function parseEdge(graph,from){for(;"->"==token||"--"==token;){var to,type=token,subgraph=(getToken(),parseSubgraph(graph));if(subgraph)to=subgraph;else{if(tokenType!=TOKENTYPE.IDENTIFIER)throw newSyntaxError("Identifier or subgraph expected");addNode(graph,{id:to=token}),getToken()}!function(graph,edge){graph.edges||(graph.edges=[]),graph.edges.push(edge),graph.edge&&(graph=merge({},graph.edge),edge.attr=merge(graph,edge.attr))}(graph,createEdge(graph,from,to,type,parseAttributeList())),from=to}}function parseAttributeList(){for(var attr=null;"["==token;){for(getToken(),attr={};""!==token&&"]"!=token;){if(tokenType!=TOKENTYPE.IDENTIFIER)throw newSyntaxError("Attribute name expected");var name=token;if(getToken(),"="!=token)throw newSyntaxError("Equal sign = expected");if(getToken(),tokenType!=TOKENTYPE.IDENTIFIER)throw newSyntaxError("Attribute value expected");!function(obj,path,value){for(var keys=path.split("."),o=obj;keys.length;){var key=keys.shift();keys.length?(o[key]||(o[key]={}),o=o[key]):o[key]=value}}(attr,name,token),getToken(),","==token&&getToken()}if("]"!=token)throw newSyntaxError("Bracket ] expected");getToken()}return attr}function newSyntaxError(message){return new SyntaxError(message+', got "'+chop(token,30)+'" (char '+index+")")}function chop(text,maxLength){return text.length<=maxLength?text:text.substr(0,27)+"..."}exports.parseDOT=parseDOT,exports.DOTToGraph=function(data){var data=parseDOT(data),graphData={nodes:[],edges:[],options:{}};function convertEdge(dotEdge){var graphEdge={from:dotEdge.from,to:dotEdge.to};return merge(graphEdge,dotEdge.attr),graphEdge.style="->"==dotEdge.type?"arrow":"line",graphEdge}return data.nodes&&data.nodes.forEach(function(dotNode){var graphNode={id:dotNode.id,label:String(dotNode.label||dotNode.id)};merge(graphNode,dotNode.attr),graphNode.image&&(graphNode.shape="image"),graphData.nodes.push(graphNode)}),data.edges&&data.edges.forEach(function(dotEdge){var array1,array2,fn,from=dotEdge.from instanceof Object?dotEdge.from.nodes:{id:dotEdge.from},to=dotEdge.to instanceof Object?dotEdge.to.nodes:{id:dotEdge.to};dotEdge.from instanceof Object&&dotEdge.from.edges&&dotEdge.from.edges.forEach(function(subEdge){subEdge=convertEdge(subEdge);graphData.edges.push(subEdge)}),array2=to,fn=function(from,to){from=convertEdge(createEdge(graphData,from.id,to.id,dotEdge.type,dotEdge.attr));graphData.edges.push(from)},(array1=from)instanceof Array?array1.forEach(function(elem1){array2 instanceof Array?array2.forEach(function(elem2){fn(elem1,elem2)}):fn(elem1,array2)}):array2 instanceof Array?array2.forEach(function(elem2){fn(array1,elem2)}):fn(array1,array2),dotEdge.to instanceof Object&&dotEdge.to.edges&&dotEdge.to.edges.forEach(function(subEdge){subEdge=convertEdge(subEdge);graphData.edges.push(subEdge)})}),data.attr&&(graphData.options=data.attr),graphData}},function(module,exports,__webpack_require__){exports.parseGephi=function(gephiJSON,options){for(var edges=[],nodes=[],gEdges=(this.options={edges:{inheritColor:!0},nodes:{allowedToMove:!1,parseColor:!1}},void 0!==options&&(this.options.nodes.allowedToMove=!1|options.allowedToMove,this.options.nodes.parseColor=!1|options.parseColor,this.options.edges.inheritColor=!0|options.inheritColor),gephiJSON.edges),gNodes=gephiJSON.nodes,i=0;i<gEdges.length;i++){var edge={},gEdge=gEdges[i];edge.id=gEdge.id,edge.from=gEdge.source,edge.to=gEdge.target,edge.attributes=gEdge.attributes,edge.color=gEdge.color,edge.inheritColor=void 0===edge.color&&this.options.inheritColor,edges.push(edge)}for(i=0;i<gNodes.length;i++){var node={},gNode=gNodes[i];node.id=gNode.id,node.attributes=gNode.attributes,node.x=gNode.x,node.y=gNode.y,node.label=gNode.label,1==this.options.nodes.parseColor?node.color=gNode.color:node.color=void 0!==gNode.color?{background:gNode.color,border:gNode.color}:void 0,node.radius=gNode.size,node.allowedToMoveX=this.options.nodes.allowedToMove,node.allowedToMoveY=this.options.nodes.allowedToMove,nodes.push(node)}return{nodes:nodes,edges:edges}}},function(module,exports,__webpack_require__){module.exports="undefined"!=typeof window&&window.moment||__webpack_require__(48)},function(module,exports,__webpack_require__){"undefined"!=typeof window?module.exports=window.Hammer||__webpack_require__(49):module.exports=function(){throw Error("hammer.js is only available in a browser, not in node.js.")}},function(module,exports,__webpack_require__){var Emitter=__webpack_require__(46),Hammer=__webpack_require__(41),util=__webpack_require__(1);__webpack_require__(3),__webpack_require__(4),__webpack_require__(15),__webpack_require__(27),__webpack_require__(19),__webpack_require__(20),__webpack_require__(24);function Core(){}Emitter(Core.prototype),Core.prototype._create=function(container){this.dom={},this.dom.root=document.createElement("div"),this.dom.background=document.createElement("div"),this.dom.backgroundVertical=document.createElement("div"),this.dom.backgroundHorizontal=document.createElement("div"),this.dom.centerContainer=document.createElement("div"),this.dom.leftContainer=document.createElement("div"),this.dom.rightContainer=document.createElement("div"),this.dom.center=document.createElement("div"),this.dom.left=document.createElement("div"),this.dom.right=document.createElement("div"),this.dom.top=document.createElement("div"),this.dom.bottom=document.createElement("div"),this.dom.shadowTop=document.createElement("div"),this.dom.shadowBottom=document.createElement("div"),this.dom.shadowTopLeft=document.createElement("div"),this.dom.shadowBottomLeft=document.createElement("div"),this.dom.shadowTopRight=document.createElement("div"),this.dom.shadowBottomRight=document.createElement("div"),this.dom.background.className="vispanel background",this.dom.backgroundVertical.className="vispanel background vertical",this.dom.backgroundHorizontal.className="vispanel background horizontal",this.dom.centerContainer.className="vispanel center",this.dom.leftContainer.className="vispanel left",this.dom.rightContainer.className="vispanel right",this.dom.top.className="vispanel top",this.dom.bottom.className="vispanel bottom",this.dom.left.className="content",this.dom.center.className="content",this.dom.right.className="content",this.dom.shadowTop.className="shadow top",this.dom.shadowBottom.className="shadow bottom",this.dom.shadowTopLeft.className="shadow top",this.dom.shadowBottomLeft.className="shadow bottom",this.dom.shadowTopRight.className="shadow top",this.dom.shadowBottomRight.className="shadow bottom",this.dom.root.appendChild(this.dom.background),this.dom.root.appendChild(this.dom.backgroundVertical),this.dom.root.appendChild(this.dom.backgroundHorizontal),this.dom.root.appendChild(this.dom.centerContainer),this.dom.root.appendChild(this.dom.leftContainer),this.dom.root.appendChild(this.dom.rightContainer),this.dom.root.appendChild(this.dom.top),this.dom.root.appendChild(this.dom.bottom),this.dom.centerContainer.appendChild(this.dom.center),this.dom.leftContainer.appendChild(this.dom.left),this.dom.rightContainer.appendChild(this.dom.right),this.dom.centerContainer.appendChild(this.dom.shadowTop),this.dom.centerContainer.appendChild(this.dom.shadowBottom),this.dom.leftContainer.appendChild(this.dom.shadowTopLeft),this.dom.leftContainer.appendChild(this.dom.shadowBottomLeft),this.dom.rightContainer.appendChild(this.dom.shadowTopRight),this.dom.rightContainer.appendChild(this.dom.shadowBottomRight),this.on("rangechange",this.redraw.bind(this)),this.on("change",this.redraw.bind(this)),this.on("touch",this._onTouch.bind(this)),this.on("pinch",this._onPinch.bind(this)),this.on("dragstart",this._onDragStart.bind(this)),this.on("drag",this._onDrag.bind(this)),this.hammer=Hammer(this.dom.root,{prevent_default:!0}),this.listeners={};var me=this;if(["touch","pinch","tap","doubletap","hold","dragstart","drag","dragend","mousewheel","DOMMouseScroll"].forEach(function(event){function listener(){var args=[event].concat(Array.prototype.slice.call(arguments,0));me.emit.apply(me,args)}me.hammer.on(event,listener),me.listeners[event]=listener}),this.props={root:{},background:{},centerContainer:{},leftContainer:{},rightContainer:{},center:{},left:{},right:{},top:{},bottom:{},border:{},scrollTop:0,scrollTopMin:0},this.touch={},!container)throw new Error("No container provided");container.appendChild(this.dom.root)},Core.prototype.destroy=function(){for(var event in this.clear(),this.off(),this._stopAutoResize(),this.dom.root.parentNode&&this.dom.root.parentNode.removeChild(this.dom.root),this.dom=null,this.listeners)this.listeners.hasOwnProperty(event)&&delete this.listeners[event];this.listeners=null,this.hammer=null,this.components.forEach(function(component){component.destroy()}),this.body=null},Core.prototype.setCustomTime=function(time){if(!this.customTime)throw new Error("Cannot get custom time: Custom time bar is not enabled");this.customTime.setCustomTime(time)},Core.prototype.getCustomTime=function(){if(this.customTime)return this.customTime.getCustomTime();throw new Error("Cannot get custom time: Custom time bar is not enabled")},Core.prototype.setCustomTime1=function(time){if(!this.customTime)throw new Error("Cannot get custom time: Custom time bar is not enabled");this.customTime.setCustomTime1(time)},Core.prototype.getCustomTime=function(){if(this.customTime)return this.customTime.getCustomTime1();throw new Error("Cannot get custom time: Custom time bar is not enabled")},Core.prototype.getVisibleItems=function(){return this.itemSet&&this.itemSet.getVisibleItems()||[]},Core.prototype.clear=function(what){what&&!what.items||this.setItems(null),what&&!what.groups||this.setGroups(null),what&&!what.options||(this.components.forEach(function(component){component.setOptions(component.defaultOptions)}),this.setOptions(this.defaultOptions))},Core.prototype.fit=function(){var interval,dataRange=this.getItemRange(),start=dataRange.min,dataRange=dataRange.max;null!=start&&null!=dataRange&&((interval=dataRange.valueOf()-start.valueOf())<=0&&(interval=864e5),start=new Date(start.valueOf()-.05*interval),dataRange=new Date(dataRange.valueOf()+.05*interval)),null===start&&null===dataRange||this.range.setRange(start,dataRange)},Core.prototype.setWindow=function(start,end){1==arguments.length?this.range.setRange(start.start,start.end):this.range.setRange(start,end)},Core.prototype.getWindow=function(){var range=this.range.getRange();return{start:new Date(range.start),end:new Date(range.end)}},Core.prototype.redraw=function(){var contentHeight,borderRootWidth,borderRootHeight,resized=!1,options=this.options,props=this.props,dom=this.dom;dom&&(dom.root.className="vis timeline root "+options.orientation,dom.root.style.maxHeight=util.option.asSize(options.maxHeight,""),dom.root.style.minHeight=util.option.asSize(options.minHeight,""),dom.root.style.width=util.option.asSize(options.width,""),props.border.left=(dom.centerContainer.offsetWidth-dom.centerContainer.clientWidth)/2,props.border.right=props.border.left,props.border.top=(dom.centerContainer.offsetHeight-dom.centerContainer.clientHeight)/2,props.border.bottom=props.border.top,borderRootHeight=dom.root.offsetHeight-dom.root.clientHeight,borderRootWidth=dom.root.offsetWidth-dom.root.clientWidth,props.center.height=dom.center.offsetHeight,props.left.height=dom.left.offsetHeight,props.right.height=dom.right.offsetHeight,props.top.height=dom.top.clientHeight||-props.border.top,props.bottom.height=dom.bottom.clientHeight||-props.border.bottom,contentHeight=Math.max(props.left.height,props.center.height,props.right.height),contentHeight=props.top.height+contentHeight+props.bottom.height+borderRootHeight+props.border.top+props.border.bottom,dom.root.style.height=util.option.asSize(options.height,contentHeight+"px"),props.root.height=dom.root.offsetHeight,props.background.height=props.root.height-borderRootHeight,contentHeight=props.root.height-props.top.height-props.bottom.height-borderRootHeight,props.centerContainer.height=contentHeight,props.leftContainer.height=contentHeight,props.rightContainer.height=props.leftContainer.height,props.root.width=dom.root.offsetWidth,props.background.width=props.root.width-borderRootWidth,props.left.width=dom.leftContainer.clientWidth||-props.border.left,props.leftContainer.width=props.left.width,props.right.width=dom.rightContainer.clientWidth||-props.border.right,props.rightContainer.width=props.right.width,borderRootHeight=props.root.width-props.left.width-props.right.width-borderRootWidth,props.center.width=borderRootHeight,props.centerContainer.width=borderRootHeight,props.top.width=borderRootHeight,props.bottom.width=borderRootHeight,dom.background.style.height=props.background.height+"px",dom.backgroundVertical.style.height=props.background.height+"px",dom.backgroundHorizontal.style.height=props.centerContainer.height+"px",dom.centerContainer.style.height=props.centerContainer.height+"px",dom.leftContainer.style.height=props.leftContainer.height+"px",dom.rightContainer.style.height=props.rightContainer.height+"px",dom.background.style.width=props.background.width+"px",dom.backgroundVertical.style.width=props.centerContainer.width+"px",dom.backgroundHorizontal.style.width=props.background.width+"px",dom.centerContainer.style.width=props.center.width+"px",dom.top.style.width=props.top.width+"px",dom.bottom.style.width=props.bottom.width+"px",dom.background.style.left="0",dom.background.style.top="0",dom.backgroundVertical.style.left=props.left.width+"px",dom.backgroundVertical.style.top="0",dom.backgroundHorizontal.style.left="0",dom.backgroundHorizontal.style.top=props.top.height+"px",dom.centerContainer.style.left=props.left.width+"px",dom.centerContainer.style.top=props.top.height+"px",dom.leftContainer.style.left="0",dom.leftContainer.style.top=props.top.height+"px",dom.rightContainer.style.left=props.left.width+props.center.width+"px",dom.rightContainer.style.top=props.top.height+"px",dom.top.style.left=props.left.width+"px",dom.top.style.top="0",dom.bottom.style.left=props.left.width+"px",dom.bottom.style.top=props.top.height+props.centerContainer.height+"px",this._updateScrollTop(),contentHeight=this.props.scrollTop,"bottom"==options.orientation&&(contentHeight+=Math.max(this.props.centerContainer.height-this.props.center.height-this.props.border.top-this.props.border.bottom,0)),dom.center.style.left="0",dom.center.style.top=contentHeight+"px",dom.left.style.left="0",dom.left.style.top=contentHeight+"px",dom.right.style.left="0",dom.right.style.top=contentHeight+"px",borderRootWidth=0==this.props.scrollTop?"hidden":"",borderRootHeight=this.props.scrollTop==this.props.scrollTopMin?"hidden":"",dom.shadowTop.style.visibility=borderRootWidth,dom.shadowBottom.style.visibility=borderRootHeight,dom.shadowTopLeft.style.visibility=borderRootWidth,dom.shadowBottomLeft.style.visibility=borderRootHeight,dom.shadowTopRight.style.visibility=borderRootWidth,dom.shadowBottomRight.style.visibility=borderRootHeight,this.components.forEach(function(component){resized=component.redraw()||resized}),resized)&&this.redraw()},Core.prototype.repaint=function(){throw new Error("Function repaint is deprecated. Use redraw instead.")},Core.prototype._toTime=function(x){var conversion=this.range.conversion(this.props.center.width);return new Date(x/conversion.scale+conversion.offset)},Core.prototype._toGlobalTime=function(x){var conversion=this.range.conversion(this.props.root.width);return new Date(x/conversion.scale+conversion.offset)},Core.prototype._toScreen=function(time){var conversion=this.range.conversion(this.props.center.width);return(time.valueOf()-conversion.offset)*conversion.scale},Core.prototype._toGlobalScreen=function(time){var conversion=this.range.conversion(this.props.root.width);return(time.valueOf()-conversion.offset)*conversion.scale},Core.prototype._initAutoResize=function(){1==this.options.autoResize?this._startAutoResize():this._stopAutoResize()},Core.prototype._startAutoResize=function(){var me=this;this._stopAutoResize(),this._onResize=function(){1!=me.options.autoResize?me._stopAutoResize():!me.dom.root||me.dom.root.clientWidth==me.props.lastWidth&&me.dom.root.clientHeight==me.props.lastHeight||(me.props.lastWidth=me.dom.root.clientWidth,me.props.lastHeight=me.dom.root.clientHeight,me.emit("change"))},util.addEventListener(window,"resize",this._onResize),this.watchTimer=setInterval(this._onResize,1e3)},Core.prototype._stopAutoResize=function(){this.watchTimer&&(clearInterval(this.watchTimer),this.watchTimer=void 0),util.removeEventListener(window,"resize",this._onResize),this._onResize=null},Core.prototype._onTouch=function(event){this.touch.allowDragging=!0},Core.prototype._onPinch=function(event){this.touch.allowDragging=!1},Core.prototype._onDragStart=function(event){this.touch.initialScrollTop=this.props.scrollTop},Core.prototype._onDrag=function(event){var oldScrollTop;this.touch.allowDragging&&(event=event.gesture.deltaY,oldScrollTop=this._getScrollTop(),this._setScrollTop(this.touch.initialScrollTop+event)!=oldScrollTop)&&this.redraw()},Core.prototype._setScrollTop=function(scrollTop){return this.props.scrollTop=scrollTop,this._updateScrollTop(),this.props.scrollTop},Core.prototype._updateScrollTop=function(){var scrollTopMin=Math.min(this.props.centerContainer.height-this.props.center.height,0);return scrollTopMin!=this.props.scrollTopMin&&("bottom"==this.options.orientation&&(this.props.scrollTop+=scrollTopMin-this.props.scrollTopMin),this.props.scrollTopMin=scrollTopMin),0<this.props.scrollTop&&(this.props.scrollTop=0),this.props.scrollTop<scrollTopMin&&(this.props.scrollTop=scrollTopMin),this.props.scrollTop},Core.prototype._getScrollTop=function(){return this.props.scrollTop},module.exports=Core},function(module,exports,__webpack_require__){var Hammer=__webpack_require__(41);exports.fakeGesture=function(element,event){var touches=Hammer.event.getTouchList(event,null),touches=Hammer.event.collectEventData(this,null,touches,event);return isNaN(touches.center.pageX)&&(touches.center.pageX=event.pageX),isNaN(touches.center.pageY)&&(touches.center.pageY=event.pageY),touches}},function(module,exports,__webpack_require__){"undefined"!=typeof CanvasRenderingContext2D&&(CanvasRenderingContext2D.prototype.circle=function(x,y,r){this.beginPath(),this.arc(x,y,r,0,2*Math.PI,!1)},CanvasRenderingContext2D.prototype.square=function(x,y,r){this.beginPath(),this.rect(x-r,y-r,2*r,2*r)},CanvasRenderingContext2D.prototype.triangle=function(x,y,r){this.beginPath();var r=2*r,s2=r/2,ir=Math.sqrt(3)/6*r,r=Math.sqrt(r*r-s2*s2);this.moveTo(x,y-(r-ir)),this.lineTo(x+s2,y+ir),this.lineTo(x-s2,y+ir),this.lineTo(x,y-(r-ir)),this.closePath()},CanvasRenderingContext2D.prototype.triangleDown=function(x,y,r){this.beginPath();var r=2*r,s2=r/2,ir=Math.sqrt(3)/6*r,r=Math.sqrt(r*r-s2*s2);this.moveTo(x,y+(r-ir)),this.lineTo(x+s2,y-ir),this.lineTo(x-s2,y-ir),this.lineTo(x,y+(r-ir)),this.closePath()},CanvasRenderingContext2D.prototype.star=function(x,y,r){this.beginPath();for(var n=0;n<10;n++){var radius=n%2==0?1.3*r:.5*r;this.lineTo(x+radius*Math.sin(2*n*Math.PI/10),y-radius*Math.cos(2*n*Math.PI/10))}this.closePath()},CanvasRenderingContext2D.prototype.roundRect=function(x,y,w,h,r){var r2d=Math.PI/180;h-2*(r=w-2*r<0?w/2:r)<0&&(r=h/2),this.beginPath(),this.moveTo(x+r,y),this.lineTo(x+w-r,y),this.arc(x+w-r,y+r,r,270*r2d,360*r2d,!1),this.lineTo(x+w,y+h-r),this.arc(x+w-r,y+h-r,r,0,90*r2d,!1),this.lineTo(x+r,y+h),this.arc(x+r,y+h-r,r,90*r2d,180*r2d,!1),this.lineTo(x,y+r),this.arc(x+r,y+r,r,180*r2d,270*r2d,!1)},CanvasRenderingContext2D.prototype.ellipse=function(x,y,w,h){var ox=w/2*.5522848,oy=h/2*.5522848,xe=x+w,ye=y+h,w=x+w/2,h=y+h/2;this.beginPath(),this.moveTo(x,h),this.bezierCurveTo(x,h-oy,w-ox,y,w,y),this.bezierCurveTo(w+ox,y,xe,h-oy,xe,h),this.bezierCurveTo(xe,h+oy,w+ox,ye,w,ye),this.bezierCurveTo(w-ox,ye,x,h+oy,x,h)},CanvasRenderingContext2D.prototype.database=function(x,y,w,h){var hEllipse=h*(1/3),ox=w/2*.5522848,oy=hEllipse/2*.5522848,xe=x+w,ye=y+hEllipse,w=x+w/2,ym=y+hEllipse/2,hEllipse=y+(h-hEllipse/2),h=y+h;this.beginPath(),this.moveTo(xe,ym),this.bezierCurveTo(xe,ym+oy,w+ox,ye,w,ye),this.bezierCurveTo(w-ox,ye,x,ym+oy,x,ym),this.bezierCurveTo(x,ym-oy,w-ox,y,w,y),this.bezierCurveTo(w+ox,y,xe,ym-oy,xe,ym),this.lineTo(xe,hEllipse),this.bezierCurveTo(xe,hEllipse+oy,w+ox,h,w,h),this.bezierCurveTo(w-ox,h,x,hEllipse+oy,x,hEllipse),this.lineTo(x,ym)},CanvasRenderingContext2D.prototype.arrow=function(x,y,angle,length){var xt=x-length*Math.cos(angle),yt=y-length*Math.sin(angle),xi=x-.9*length*Math.cos(angle),yi=y-.9*length*Math.sin(angle),xl=xt+length/3*Math.cos(angle+.5*Math.PI),yl=yt+length/3*Math.sin(angle+.5*Math.PI),xt=xt+length/3*Math.cos(angle-.5*Math.PI),yt=yt+length/3*Math.sin(angle-.5*Math.PI);this.beginPath(),this.moveTo(x,y),this.lineTo(xl,yl),this.lineTo(xi,yi),this.lineTo(xt,yt),this.closePath()},CanvasRenderingContext2D.prototype.dashedLine=function(x,y,x2,y2,dashArray){0==dashLength&&(dashLength=.001);for(var dashCount=(dashArray=dashArray||[10,5]).length,dx=(this.moveTo(x,y),x2-x),x2=y2-y,slope=x2/dx,distRemaining=Math.sqrt(dx*dx+x2*x2),dashIndex=0,draw=!0;.1<=distRemaining;){var dashLength=dashArray[dashIndex++%dashCount],xStep=(distRemaining<dashLength&&(dashLength=distRemaining),Math.sqrt(dashLength*dashLength/(1+slope*slope)));x+=xStep=dx<0?-xStep:xStep,y+=slope*xStep,this[draw?"lineTo":"moveTo"](x,y),distRemaining-=dashLength,draw=!draw}})},function(module,exports,__webpack_require__){var PhysicsMixin=__webpack_require__(56),ClusterMixin=__webpack_require__(50),SectorsMixin=__webpack_require__(51),SelectionMixin=__webpack_require__(52),ManipulationMixin=__webpack_require__(53),NavigationMixin=__webpack_require__(54),HierarchicalLayoutMixin=__webpack_require__(55);exports._loadMixin=function(sourceVariable){for(var mixinFunction in sourceVariable)sourceVariable.hasOwnProperty(mixinFunction)&&(this[mixinFunction]=sourceVariable[mixinFunction])},exports._clearMixin=function(sourceVariable){for(var mixinFunction in sourceVariable)sourceVariable.hasOwnProperty(mixinFunction)&&(this[mixinFunction]=void 0)},exports._loadPhysicsSystem=function(){this._loadMixin(PhysicsMixin),this._loadSelectedForceSolver(),1==this.constants.configurePhysics&&this._loadPhysicsConfiguration()},exports._loadClusterSystem=function(){this.clusterSession=0,this.hubThreshold=5,this._loadMixin(ClusterMixin)},exports._loadSectorSystem=function(){this.sectors={},this.activeSector=["default"],this.sectors.active={},this.sectors.active.default={nodes:{},edges:{},nodeIndices:[],formationScale:1,drawingNode:void 0},this.sectors.frozen={},this.sectors.support={nodes:{},edges:{},nodeIndices:[],formationScale:1,drawingNode:void 0},this.nodeIndices=this.sectors.active.default.nodeIndices,this._loadMixin(SectorsMixin)},exports._loadSelectionSystem=function(){this.selectionObj={nodes:{},edges:{}},this._loadMixin(SelectionMixin)},exports._loadManipulationSystem=function(){this.blockConnectingEdgeSelection=!1,this.forceAppendSelection=!1,1==this.constants.dataManipulation.enabled?(void 0===this.manipulationDiv&&(this.manipulationDiv=document.createElement("div"),this.manipulationDiv.className="network-manipulationDiv",this.manipulationDiv.id="network-manipulationDiv",1==this.editMode?this.manipulationDiv.style.display="block":this.manipulationDiv.style.display="none",this.containerElement.insertBefore(this.manipulationDiv,this.frame)),void 0===this.editModeDiv&&(this.editModeDiv=document.createElement("div"),this.editModeDiv.className="network-manipulation-editMode",this.editModeDiv.id="network-manipulation-editMode",1==this.editMode?this.editModeDiv.style.display="none":this.editModeDiv.style.display="block",this.containerElement.insertBefore(this.editModeDiv,this.frame)),void 0===this.closeDiv&&(this.closeDiv=document.createElement("div"),this.closeDiv.className="network-manipulation-closeDiv",this.closeDiv.id="network-manipulation-closeDiv",this.closeDiv.style.display=this.manipulationDiv.style.display,this.containerElement.insertBefore(this.closeDiv,this.frame)),this._loadMixin(ManipulationMixin),this._createManipulatorBar()):void 0!==this.manipulationDiv&&(this._createManipulatorBar(),this.containerElement.removeChild(this.manipulationDiv),this.containerElement.removeChild(this.editModeDiv),this.containerElement.removeChild(this.closeDiv),this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0,this._clearMixin(ManipulationMixin))},exports._loadNavigationControls=function(){this._loadMixin(NavigationMixin),this._cleanNavigation(),1==this.constants.navigation.enabled&&this._loadNavigationElements()},exports._loadHierarchySystem=function(){this._loadMixin(HierarchicalLayoutMixin)}},function(module,exports,__webpack_require__){function Emitter(obj){if(obj)return function(obj){for(var key in Emitter.prototype)obj[key]=Emitter.prototype[key];return obj}(obj)}(module.exports=Emitter).prototype.on=Emitter.prototype.addEventListener=function(event,fn){return this._callbacks=this._callbacks||{},(this._callbacks[event]=this._callbacks[event]||[]).push(fn),this},Emitter.prototype.once=function(event,fn){var self=this;function on(){self.off(event,on),fn.apply(this,arguments)}return this._callbacks=this._callbacks||{},on.fn=fn,this.on(event,on),this},Emitter.prototype.off=Emitter.prototype.removeListener=Emitter.prototype.removeAllListeners=Emitter.prototype.removeEventListener=function(event,fn){if(this._callbacks=this._callbacks||{},0==arguments.length)this._callbacks={};else{var callbacks=this._callbacks[event];if(callbacks)if(1==arguments.length)delete this._callbacks[event];else for(var cb,i=0;i<callbacks.length;i++)if((cb=callbacks[i])===fn||cb.fn===fn){callbacks.splice(i,1);break}}return this},Emitter.prototype.emit=function(event){this._callbacks=this._callbacks||{};var args=[].slice.call(arguments,1),callbacks=this._callbacks[event];if(callbacks)for(var i=0,len=(callbacks=callbacks.slice(0)).length;i<len;++i)callbacks[i].apply(this,args);return this},Emitter.prototype.listeners=function(event){return this._callbacks=this._callbacks||{},this._callbacks[event]||[]},Emitter.prototype.hasListeners=function(event){return!!this.listeners(event).length}},function(module,exports,__webpack_require__){for(var _REVERSE_MAP,_reset_timer,_MAP={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},_KEYCODE_MAP={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},_SHIFT_MAP={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},_SPECIAL_ALIASES={option:"alt",command:"meta",return:"enter",escape:"esc"},_callbacks={},_direct_map={},_sequence_levels={},_ignore_next_keyup=!1,_inside_sequence=!1,i=1;i<20;++i)_MAP[111+i]="f"+i;for(i=0;i<=9;++i)_MAP[i+96]=i;function _addEvent(object,type,callback){if(object.addEventListener)return object.addEventListener(type,callback,!1);object.attachEvent("on"+type,callback)}function _characterFromEvent(e){return"keypress"==e.type?String.fromCharCode(e.which):_MAP[e.which]||_KEYCODE_MAP[e.which]||String.fromCharCode(e.which).toLowerCase()}function _resetSequences(do_not_reset){do_not_reset=do_not_reset||{};var key,active_sequences=!1;for(key in _sequence_levels)do_not_reset[key]?active_sequences=!0:_sequence_levels[key]=0;active_sequences||(_inside_sequence=!1)}function _getMatches(character,modifiers,action,remove,combination){var i,callback,modifiers1,modifiers2,matches=[];if(!_callbacks[character])return[];for("keyup"==action&&_isModifier(character)&&(modifiers=[character]),i=0;i<_callbacks[character].length;++i)(callback=_callbacks[character][i]).seq&&_sequence_levels[callback.seq]!=callback.level||action!=callback.action||"keypress"!=action&&(modifiers1=modifiers,modifiers2=callback.modifiers,modifiers1.sort().join(",")!==modifiers2.sort().join(","))||(remove&&callback.combo==combination&&_callbacks[character].splice(i,1),matches.push(callback));return matches}function _fireCallback(callback,e){!1===callback(e)&&(e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.returnValue=!1,e.cancelBubble=!0)}function _handleCharacter(character,e){if(!function(e){var tag_name=(e=e.target||e.srcElement).tagName;return!(-1<(" "+e.className+" ").indexOf(" mousetrap "))&&("INPUT"==tag_name||"SELECT"==tag_name||"TEXTAREA"==tag_name||e.contentEditable&&"true"==e.contentEditable)}(e)){for(var callbacks=_getMatches(character,function(e){var modifiers=[];return e.shiftKey&&modifiers.push("shift"),e.altKey&&modifiers.push("alt"),e.ctrlKey&&modifiers.push("ctrl"),e.metaKey&&modifiers.push("meta"),modifiers}(e),e.type),do_not_reset={},processed_sequence_callback=!1,i=0;i<callbacks.length;++i)callbacks[i].seq?(processed_sequence_callback=!0,do_not_reset[callbacks[i].seq]=1,_fireCallback(callbacks[i].callback,e)):processed_sequence_callback||_inside_sequence||_fireCallback(callbacks[i].callback,e);e.type!=_inside_sequence||_isModifier(character)||_resetSequences(do_not_reset)}}function _handleKey(e){e.which="number"==typeof e.which?e.which:e.keyCode;var character=_characterFromEvent(e);character&&("keyup"==e.type&&_ignore_next_keyup==character?_ignore_next_keyup=!1:_handleCharacter(character,e))}function _isModifier(key){return"shift"==key||"ctrl"==key||"alt"==key||"meta"==key}function _pickBestAction(key,modifiers,action){return action="keypress"==(action=action||(function(){if(!_REVERSE_MAP)for(var key in _REVERSE_MAP={},_MAP)95<key&&key<112||_MAP.hasOwnProperty(key)&&(_REVERSE_MAP[_MAP[key]]=key);return _REVERSE_MAP}()[key]?"keydown":"keypress"))&&modifiers.length?"keydown":action}function _bindSequence(combo,keys,callback,action){_sequence_levels[combo]=0,action=action||_pickBestAction(keys[0],[]);function _increaseSequence(e){_inside_sequence=action,++_sequence_levels[combo],clearTimeout(_reset_timer),_reset_timer=setTimeout(_resetSequences,1e3)}function _callbackAndReset(e){_fireCallback(callback,e),"keyup"!==action&&(_ignore_next_keyup=_characterFromEvent(e)),setTimeout(_resetSequences,10)}for(var i=0;i<keys.length;++i)_bindSingle(keys[i],i<keys.length-1?_increaseSequence:_callbackAndReset,action,combo,i)}function _bindSingle(combination,callback,action,sequence_name,level){var i,key,keys,sequence=(combination=combination.replace(/\s+/g," ")).split(" "),modifiers=[];if(1<sequence.length)return _bindSequence(combination,sequence,callback,action);for(keys="+"===combination?["+"]:combination.split("+"),i=0;i<keys.length;++i)key=keys[i],_SPECIAL_ALIASES[key]&&(key=_SPECIAL_ALIASES[key]),action&&"keypress"!=action&&_SHIFT_MAP[key]&&(key=_SHIFT_MAP[key],modifiers.push("shift")),_isModifier(key)&&modifiers.push(key);action=_pickBestAction(key,modifiers,action),_callbacks[key]||(_callbacks[key]=[]),_getMatches(key,modifiers,action,!sequence_name,combination),_callbacks[key][sequence_name?"unshift":"push"]({callback:callback,modifiers:modifiers,action:action,seq:sequence_name,level:level,combo:combination})}_addEvent(document,"keypress",_handleKey),_addEvent(document,"keydown",_handleKey),_addEvent(document,"keyup",_handleKey),module.exports={bind:function(keys,callback,action){return function(combinations,callback,action){for(var i=0;i<combinations.length;++i)_bindSingle(combinations[i],callback,action)}(keys instanceof Array?keys:[keys],callback,action),_direct_map[keys+":"+action]=callback,this},unbind:function(keys,action){return _direct_map[keys+":"+action]&&(delete _direct_map[keys+":"+action],this.bind(keys,function(){},action)),this},trigger:function(keys,action){return _direct_map[keys+":"+action](),this},reset:function(){return _callbacks={},_direct_map={},this}}},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;!function(global,module){!function(undefined){var moment,oldGlobalMoment,i,globalScope=void 0!==global?global:this,round=Math.round,YEAR=0,MONTH=1,DATE=2,HOUR=3,MINUTE=4,SECOND=5,MILLISECOND=6,locales={},momentProperties=[],hasModule=void 0!==module&&module.exports,aspNetJsonRegex=/^\/?Date\((\-?\d+)/i,aspNetTimeSpanJsonRegex=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,isoDurationRegex=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,formattingTokens=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|X|zz?|ZZ?|.)/g,localFormattingTokens=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,parseTokenOneOrTwoDigits=/\d\d?/,parseTokenOneToThreeDigits=/\d{1,3}/,parseTokenOneToFourDigits=/\d{1,4}/,parseTokenOneToSixDigits=/[+\-]?\d{1,6}/,parseTokenDigits=/\d+/,parseTokenWord=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,parseTokenTimezone=/Z|[\+\-]\d\d:?\d\d/gi,parseTokenT=/T/i,parseTokenTimestampMs=/[\+\-]?\d+(\.\d{1,3})?/,parseTokenOrdinal=/\d{1,2}/,parseTokenOneDigit=/\d/,parseTokenTwoDigits=/\d\d/,parseTokenThreeDigits=/\d{3}/,parseTokenFourDigits=/\d{4}/,parseTokenSixDigits=/[+-]?\d{6}/,parseTokenSignedNumber=/[+-]?\d+/,isoRegex=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,isoDates=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],isoTimes=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],parseTimezoneChunker=/([\+\-]|\d\d)/gi,unitMillisecondFactors=("Date|Hours|Minutes|Seconds|Milliseconds".split("|"),{Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6}),unitAliases={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",Q:"quarter",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},camelFunctions={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},formatFunctions={},relativeTimeThresholds={s:45,m:45,h:22,d:26,M:11},ordinalizeTokens="DDD w W M D d".split(" "),paddedTokens="M D H h m s w W".split(" "),formatTokenFunctions={M:function(){return this.month()+1},MMM:function(format){return this.localeData().monthsShort(this,format)},MMMM:function(format){return this.localeData().months(this,format)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(format){return this.localeData().weekdaysMin(this,format)},ddd:function(format){return this.localeData().weekdaysShort(this,format)},dddd:function(format){return this.localeData().weekdays(this,format)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return leftZeroFill(this.year()%100,2)},YYYY:function(){return leftZeroFill(this.year(),4)},YYYYY:function(){return leftZeroFill(this.year(),5)},YYYYYY:function(){var y=this.year();return(0<=y?"+":"-")+leftZeroFill(Math.abs(y),6)},gg:function(){return leftZeroFill(this.weekYear()%100,2)},gggg:function(){return leftZeroFill(this.weekYear(),4)},ggggg:function(){return leftZeroFill(this.weekYear(),5)},GG:function(){return leftZeroFill(this.isoWeekYear()%100,2)},GGGG:function(){return leftZeroFill(this.isoWeekYear(),4)},GGGGG:function(){return leftZeroFill(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return toInt(this.milliseconds()/100)},SS:function(){return leftZeroFill(toInt(this.milliseconds()/10),2)},SSS:function(){return leftZeroFill(this.milliseconds(),3)},SSSS:function(){return leftZeroFill(this.milliseconds(),3)},Z:function(){var a=-this.zone(),b="+";return a<0&&(a=-a,b="-"),b+leftZeroFill(toInt(a/60),2)+":"+leftZeroFill(toInt(a)%60,2)},ZZ:function(){var a=-this.zone(),b="+";return a<0&&(a=-a,b="-"),b+leftZeroFill(toInt(a/60),2)+leftZeroFill(toInt(a)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()},Q:function(){return this.quarter()}},deprecations={},lists=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"];function dfl(a,b,c){switch(arguments.length){case 2:return null!=a?a:b;case 3:return null!=a?a:null!=b?b:c;default:throw new Error("Implement me")}}function defaultParsingFlags(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function printMsg(msg){!1===moment.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+msg)}function deprecate(msg,fn){var firstTime=!0;return extend(function(){return firstTime&&(printMsg(msg),firstTime=!1),fn.apply(this,arguments)},fn)}function padToken(func,count){return function(a){return leftZeroFill(func.call(this,a),count)}}for(;ordinalizeTokens.length;)i=ordinalizeTokens.pop(),formatTokenFunctions[i+"o"]=function(func,period){return function(a){return this.localeData().ordinal(func.call(this,a),period)}}(formatTokenFunctions[i],i);for(;paddedTokens.length;)i=paddedTokens.pop(),formatTokenFunctions[i+i]=padToken(formatTokenFunctions[i],2);function Locale(){}function Moment(config,skipOverflow){!1!==skipOverflow&&checkOverflow(config),copyConfig(this,config),this._d=new Date(+config._d)}function Duration(duration){var duration=normalizeObjectUnits(duration),years=duration.year||0,quarters=duration.quarter||0,months=duration.month||0,weeks=duration.week||0,days=duration.day||0,hours=duration.hour||0,minutes=duration.minute||0,seconds=duration.second||0,duration=duration.millisecond||0;this._milliseconds=+duration+1e3*seconds+6e4*minutes+36e5*hours,this._days=+days+7*weeks,this._months=+months+3*quarters+12*years,this._data={},this._locale=moment.localeData(),this._bubble()}function extend(a,b){for(var i in b)b.hasOwnProperty(i)&&(a[i]=b[i]);return b.hasOwnProperty("toString")&&(a.toString=b.toString),b.hasOwnProperty("valueOf")&&(a.valueOf=b.valueOf),a}function copyConfig(to,from){var i,prop,val;if(void 0!==from._isAMomentObject&&(to._isAMomentObject=from._isAMomentObject),void 0!==from._i&&(to._i=from._i),void 0!==from._f&&(to._f=from._f),void 0!==from._l&&(to._l=from._l),void 0!==from._strict&&(to._strict=from._strict),void 0!==from._tzm&&(to._tzm=from._tzm),void 0!==from._isUTC&&(to._isUTC=from._isUTC),void 0!==from._offset&&(to._offset=from._offset),void 0!==from._pf&&(to._pf=from._pf),void 0!==from._locale&&(to._locale=from._locale),0<momentProperties.length)for(i in momentProperties)void 0!==(val=from[prop=momentProperties[i]])&&(to[prop]=val);return to}function absRound(number){return number<0?Math.ceil(number):Math.floor(number)}function leftZeroFill(number,targetLength,forceSign){for(var output=""+Math.abs(number),number=0<=number;output.length<targetLength;)output="0"+output;return(number?forceSign?"+":"":"-")+output}function positiveMomentsDifference(base,other){var res={milliseconds:0,months:0};return res.months=other.month()-base.month()+12*(other.year()-base.year()),base.clone().add(res.months,"M").isAfter(other)&&--res.months,res.milliseconds=+other-+base.clone().add(res.months,"M"),res}function createAdder(direction,name){return function(val,period){var tmp;return null===period||isNaN(+period)||(function(name,msg){deprecations[name]||(printMsg(msg),deprecations[name]=!0)}(name,"moment()."+name+"(period, number) is deprecated. Please use moment()."+name+"(number, period)."),tmp=val,val=period,period=tmp),addOrSubtractDurationFromMoment(this,moment.duration(val="string"==typeof val?+val:val,period),direction),this}}function addOrSubtractDurationFromMoment(mom,duration,isAdding,updateOffset){var milliseconds=duration._milliseconds,days=duration._days,duration=duration._months;updateOffset=null==updateOffset||updateOffset,milliseconds&&mom._d.setTime(+mom._d+milliseconds*isAdding),days&&rawSetter(mom,"Date",rawGetter(mom,"Date")+days*isAdding),duration&&rawMonthSetter(mom,rawGetter(mom,"Month")+duration*isAdding),updateOffset&&moment.updateOffset(mom,days||duration)}function isArray(input){return"[object Array]"===Object.prototype.toString.call(input)}function compareArrays(array1,array2,dontConvert){for(var len=Math.min(array1.length,array2.length),lengthDiff=Math.abs(array1.length-array2.length),diffs=0,i=0;i<len;i++)(dontConvert&&array1[i]!==array2[i]||!dontConvert&&toInt(array1[i])!==toInt(array2[i]))&&diffs++;return diffs+lengthDiff}function normalizeUnits(units){var lowered;return units&&(lowered=units.toLowerCase().replace(/(.)s$/,"$1"),units=unitAliases[units]||camelFunctions[lowered]||lowered),units}function normalizeObjectUnits(inputObject){var normalizedProp,prop,normalizedInput={};for(prop in inputObject)inputObject.hasOwnProperty(prop)&&(normalizedProp=normalizeUnits(prop))&&(normalizedInput[normalizedProp]=inputObject[prop]);return normalizedInput}function toInt(argumentForCoercion){var argumentForCoercion=+argumentForCoercion,value=0;return value=0!=argumentForCoercion&&isFinite(argumentForCoercion)?0<=argumentForCoercion?Math.floor(argumentForCoercion):Math.ceil(argumentForCoercion):value}function daysInMonth(year,month){return new Date(Date.UTC(year,month+1,0)).getUTCDate()}function weeksInYear(year,dow,doy){return weekOfYear(moment([year,11,31+dow-doy]),dow,doy).week}function daysInYear(year){return isLeapYear(year)?366:365}function isLeapYear(year){return year%4==0&&year%100!=0||year%400==0}function checkOverflow(m){var overflow;m._a&&-2===m._pf.overflow&&(overflow=m._a[MONTH]<0||11<m._a[MONTH]?MONTH:m._a[DATE]<1||m._a[DATE]>daysInMonth(m._a[YEAR],m._a[MONTH])?DATE:m._a[HOUR]<0||23<m._a[HOUR]?HOUR:m._a[MINUTE]<0||59<m._a[MINUTE]?MINUTE:m._a[SECOND]<0||59<m._a[SECOND]?SECOND:m._a[MILLISECOND]<0||999<m._a[MILLISECOND]?MILLISECOND:-1,m._pf._overflowDayOfYear&&(overflow<YEAR||DATE<overflow)&&(overflow=DATE),m._pf.overflow=overflow)}function isValid(m){return null==m._isValid&&(m._isValid=!isNaN(m._d.getTime())&&m._pf.overflow<0&&!m._pf.empty&&!m._pf.invalidMonth&&!m._pf.nullInput&&!m._pf.invalidFormat&&!m._pf.userInvalidated,m._strict)&&(m._isValid=m._isValid&&0===m._pf.charsLeftOver&&0===m._pf.unusedTokens.length),m._isValid}function normalizeLocale(key){return key&&key.toLowerCase().replace("_","-")}function loadLocale(name){if(!locales[name]&&hasModule)try{moment.locale();var e=new Error('Cannot find module "./locale"');throw e.code="MODULE_NOT_FOUND",e}catch(e){}return locales[name]}function makeAs(input,model){return model._isUTC?moment(input).zone(model._offset||0):moment(input).local()}function formatMoment(m,format){return m.isValid()?(format=expandFormat(format,m.localeData()),formatFunctions[format]||(formatFunctions[format]=function(format){for(var input,array=format.match(formattingTokens),i=0,length=array.length;i<length;i++)formatTokenFunctions[array[i]]?array[i]=formatTokenFunctions[array[i]]:array[i]=(input=array[i]).match(/\[[\s\S]/)?input.replace(/^\[|\]$/g,""):input.replace(/\\/g,"");return function(mom){var output="";for(i=0;i<length;i++)output+=array[i]instanceof Function?array[i].call(mom,format):array[i];return output}}(format)),formatFunctions[format](m)):m.localeData().invalidDate()}function expandFormat(format,locale){var i=5;function replaceLongDateFormatTokens(input){return locale.longDateFormat(input)||input}for(localFormattingTokens.lastIndex=0;0<=i&&localFormattingTokens.test(format);)format=format.replace(localFormattingTokens,replaceLongDateFormatTokens),localFormattingTokens.lastIndex=0,--i;return format}function timezoneMinutesFromString(string){var string=(string=string||"").match(parseTokenTimezone)||[],string=((string[string.length-1]||[])+"").match(parseTimezoneChunker)||["-",0,0],minutes=60*string[1]+toInt(string[2]);return"+"===string[0]?-minutes:minutes}function dayOfYearFromWeekInfo(config){var weekYear,week,weekday,dow,doy,w=config._w;null!=w.GG||null!=w.W||null!=w.E?(dow=1,doy=4,weekYear=dfl(w.GG,config._a[YEAR],weekOfYear(moment(),1,4).year),week=dfl(w.W,1),weekday=dfl(w.E,1)):(dow=config._locale._week.dow,doy=config._locale._week.doy,weekYear=dfl(w.gg,config._a[YEAR],weekOfYear(moment(),dow,doy).year),week=dfl(w.w,1),null!=w.d?(weekday=w.d)<dow&&++week:weekday=null!=w.e?w.e+dow:dow),w=function(year,week,weekday,firstDayOfWeekOfYear,firstDayOfWeek){var d=makeUTCDate(year,0,1).getUTCDay();return{year:0<(week=7*(week-1)+((weekday=null!=weekday?weekday:firstDayOfWeek)-firstDayOfWeek)+(firstDayOfWeek-(d=0===d?7:d)+(firstDayOfWeekOfYear<d?7:0)-(d<firstDayOfWeek?7:0))+1)?year:year-1,dayOfYear:0<week?week:daysInYear(year-1)+week}}(weekYear,week,weekday,doy,dow),config._a[YEAR]=w.year,config._dayOfYear=w.dayOfYear}function dateFromConfig(config){var i,currentDate,yearToUse,input=[];if(!config._d){for(currentDate=function(config){var now=new Date;return config._useUTC?[now.getUTCFullYear(),now.getUTCMonth(),now.getUTCDate()]:[now.getFullYear(),now.getMonth(),now.getDate()]}(config),config._w&&null==config._a[DATE]&&null==config._a[MONTH]&&dayOfYearFromWeekInfo(config),config._dayOfYear&&(yearToUse=dfl(config._a[YEAR],currentDate[YEAR]),config._dayOfYear>daysInYear(yearToUse)&&(config._pf._overflowDayOfYear=!0),yearToUse=makeUTCDate(yearToUse,0,config._dayOfYear),config._a[MONTH]=yearToUse.getUTCMonth(),config._a[DATE]=yearToUse.getUTCDate()),i=0;i<3&&null==config._a[i];++i)config._a[i]=input[i]=currentDate[i];for(;i<7;i++)config._a[i]=input[i]=null==config._a[i]?2===i?1:0:config._a[i];config._d=(config._useUTC?makeUTCDate:makeDate).apply(null,input),null!=config._tzm&&config._d.setUTCMinutes(config._d.getUTCMinutes()+config._tzm)}}function makeDateFromStringAndFormat(config){if(config._f===moment.ISO_8601)parseISO(config);else{config._a=[],config._pf.empty=!0;for(var parsedInput,token,skipped,string=""+config._i,stringLength=string.length,totalParsedInputLength=0,tokens=expandFormat(config._f,config._locale).match(formattingTokens)||[],i=0;i<tokens.length;i++)token=tokens[i],(parsedInput=(string.match(function(token,config){var strict=config._strict;switch(token){case"Q":return parseTokenOneDigit;case"DDDD":return parseTokenThreeDigits;case"YYYY":case"GGGG":case"gggg":return strict?parseTokenFourDigits:parseTokenOneToFourDigits;case"Y":case"G":case"g":return parseTokenSignedNumber;case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return strict?parseTokenSixDigits:parseTokenOneToSixDigits;case"S":if(strict)return parseTokenOneDigit;case"SS":if(strict)return parseTokenTwoDigits;case"SSS":if(strict)return parseTokenThreeDigits;case"DDD":return parseTokenOneToThreeDigits;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return parseTokenWord;case"a":case"A":return config._locale._meridiemParse;case"X":return parseTokenTimestampMs;case"Z":case"ZZ":return parseTokenTimezone;case"T":return parseTokenT;case"SSSS":return parseTokenDigits;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return strict?parseTokenTwoDigits:parseTokenOneOrTwoDigits;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return parseTokenOneOrTwoDigits;case"Do":return parseTokenOrdinal;default:return new RegExp(token.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(matched,p1,p2,p3,p4){return p1||p2||p3||p4}).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"))}}(token,config))||[])[0])&&(0<(skipped=string.substr(0,string.indexOf(parsedInput))).length&&config._pf.unusedInput.push(skipped),string=string.slice(string.indexOf(parsedInput)+parsedInput.length),totalParsedInputLength+=parsedInput.length),formatTokenFunctions[token]?(parsedInput?config._pf.empty=!1:config._pf.unusedTokens.push(token),function(token,input,config){var a,datePartArray=config._a;switch(token){case"Q":null!=input&&(datePartArray[MONTH]=3*(toInt(input)-1));break;case"M":case"MM":null!=input&&(datePartArray[MONTH]=toInt(input)-1);break;case"MMM":case"MMMM":null!=(a=config._locale.monthsParse(input))?datePartArray[MONTH]=a:config._pf.invalidMonth=input;break;case"D":case"DD":null!=input&&(datePartArray[DATE]=toInt(input));break;case"Do":null!=input&&(datePartArray[DATE]=toInt(parseInt(input,10)));break;case"DDD":case"DDDD":null!=input&&(config._dayOfYear=toInt(input));break;case"YY":datePartArray[YEAR]=moment.parseTwoDigitYear(input);break;case"YYYY":case"YYYYY":case"YYYYYY":datePartArray[YEAR]=toInt(input);break;case"a":case"A":config._isPm=config._locale.isPM(input);break;case"H":case"HH":case"h":case"hh":datePartArray[HOUR]=toInt(input);break;case"m":case"mm":datePartArray[MINUTE]=toInt(input);break;case"s":case"ss":datePartArray[SECOND]=toInt(input);break;case"S":case"SS":case"SSS":case"SSSS":datePartArray[MILLISECOND]=toInt(1e3*("0."+input));break;case"X":config._d=new Date(1e3*parseFloat(input));break;case"Z":case"ZZ":config._useUTC=!0,config._tzm=timezoneMinutesFromString(input);break;case"dd":case"ddd":case"dddd":null!=(a=config._locale.weekdaysParse(input))?(config._w=config._w||{},config._w.d=a):config._pf.invalidWeekday=input;break;case"w":case"ww":case"W":case"WW":case"d":case"e":case"E":token=token.substr(0,1);case"gggg":case"GGGG":case"GGGGG":token=token.substr(0,2),input&&(config._w=config._w||{},config._w[token]=toInt(input));break;case"gg":case"GG":config._w=config._w||{},config._w[token]=moment.parseTwoDigitYear(input)}}(token,parsedInput,config)):config._strict&&!parsedInput&&config._pf.unusedTokens.push(token);config._pf.charsLeftOver=stringLength-totalParsedInputLength,0<string.length&&config._pf.unusedInput.push(string),config._isPm&&config._a[HOUR]<12&&(config._a[HOUR]+=12),!1===config._isPm&&12===config._a[HOUR]&&(config._a[HOUR]=0),dateFromConfig(config),checkOverflow(config)}}function parseISO(config){var i,l,string=config._i,match=isoRegex.exec(string);if(match){for(config._pf.iso=!0,i=0,l=isoDates.length;i<l;i++)if(isoDates[i][1].exec(string)){config._f=isoDates[i][0]+(match[6]||" ");break}for(i=0,l=isoTimes.length;i<l;i++)if(isoTimes[i][1].exec(string)){config._f+=isoTimes[i][0];break}string.match(parseTokenTimezone)&&(config._f+="Z"),makeDateFromStringAndFormat(config)}else config._isValid=!1}function makeDateFromInput(config){var matched,input=config._i;input===undefined?config._d=new Date:!function(input){return"[object Date]"===Object.prototype.toString.call(input)||input instanceof Date}(input)?null!==(matched=aspNetJsonRegex.exec(input))?config._d=new Date(+matched[1]):"string"==typeof input?function(config){parseISO(config),!1===config._isValid&&(delete config._isValid,moment.createFromInputFallback(config))}(config):isArray(input)?(config._a=input.slice(0),dateFromConfig(config)):"object"==typeof input?function(config){var normalizedInput;config._d||(normalizedInput=normalizeObjectUnits(config._i),config._a=[normalizedInput.year,normalizedInput.month,normalizedInput.day,normalizedInput.hour,normalizedInput.minute,normalizedInput.second,normalizedInput.millisecond],dateFromConfig(config))}(config):"number"==typeof input?config._d=new Date(input):moment.createFromInputFallback(config):config._d=new Date(+input)}function makeDate(y,m,d,h,M,s,ms){m=new Date(y,m,d,h,M,s,ms);return y<1970&&m.setFullYear(y),m}function makeUTCDate(y){var date=new Date(Date.UTC.apply(null,arguments));return y<1970&&date.setUTCFullYear(y),date}function relativeTime(posNegDuration,withoutSuffix,locale){var duration=moment.duration(posNegDuration).abs(),seconds=round(duration.as("s")),minutes=round(duration.as("m")),hours=round(duration.as("h")),days=round(duration.as("d")),months=round(duration.as("M")),duration=round(duration.as("y")),seconds=(seconds<relativeTimeThresholds.s?["s",seconds]:1===minutes&&["m"])||(minutes<relativeTimeThresholds.m?["mm",minutes]:1===hours&&["h"])||(hours<relativeTimeThresholds.h?["hh",hours]:1===days&&["d"])||(days<relativeTimeThresholds.d?["dd",days]:1===months&&["M"])||(months<relativeTimeThresholds.M?["MM",months]:1===duration&&["y"])||["yy",duration];return seconds[2]=withoutSuffix,seconds[3]=0<+posNegDuration,seconds[4]=locale,function(string,number,withoutSuffix,isFuture,locale){return locale.relativeTime(number||1,!!withoutSuffix,string,isFuture)}.apply({},seconds)}function weekOfYear(mom,firstDayOfWeek,firstDayOfWeekOfYear){var firstDayOfWeek=firstDayOfWeekOfYear-firstDayOfWeek,firstDayOfWeekOfYear=firstDayOfWeekOfYear-mom.day();return firstDayOfWeek<firstDayOfWeekOfYear&&(firstDayOfWeekOfYear-=7),firstDayOfWeekOfYear<firstDayOfWeek-7&&(firstDayOfWeekOfYear+=7),firstDayOfWeek=moment(mom).add(firstDayOfWeekOfYear,"d"),{week:Math.ceil(firstDayOfWeek.dayOfYear()/7),year:firstDayOfWeek.year()}}function makeMoment(config){var input=config._i,format=config._f;return config._locale=config._locale||moment.localeData(config._l),null===input||format===undefined&&""===input?moment.invalid({nullInput:!0}):("string"==typeof input&&(config._i=input=config._locale.preparse(input)),moment.isMoment(input)?new Moment(input,!0):((format?isArray(format)?function(config){var tempConfig,bestMoment,scoreToBeat,i,currentScore;if(0===config._f.length)config._pf.invalidFormat=!0,config._d=new Date(NaN);else{for(i=0;i<config._f.length;i++)currentScore=0,(tempConfig=copyConfig({},config))._pf=defaultParsingFlags(),tempConfig._f=config._f[i],makeDateFromStringAndFormat(tempConfig),isValid(tempConfig)&&(currentScore=(currentScore+=tempConfig._pf.charsLeftOver)+10*tempConfig._pf.unusedTokens.length,tempConfig._pf.score=currentScore,null==scoreToBeat||currentScore<scoreToBeat)&&(scoreToBeat=currentScore,bestMoment=tempConfig);extend(config,bestMoment||tempConfig)}}:makeDateFromStringAndFormat:makeDateFromInput)(config),new Moment(config)))}function pickBy(fn,moments){var res,i;if(!(moments=1===moments.length&&isArray(moments[0])?moments[0]:moments).length)return moment();for(res=moments[0],i=1;i<moments.length;++i)moments[i][fn](res)&&(res=moments[i]);return res}for(formatTokenFunctions.DDDD=padToken(formatTokenFunctions.DDD,3),extend(Locale.prototype,{set:function(config){var prop,i;for(i in config)"function"==typeof(prop=config[i])?this[i]=prop:this["_"+i]=prop},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(m){return this._months[m.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(m){return this._monthsShort[m.month()]},monthsParse:function(monthName){var i,mom;for(this._monthsParse||(this._monthsParse=[]),i=0;i<12;i++)if(this._monthsParse[i]||(mom=moment.utc([2e3,i]),mom="^"+this.months(mom,"")+"|^"+this.monthsShort(mom,""),this._monthsParse[i]=new RegExp(mom.replace(".",""),"i")),this._monthsParse[i].test(monthName))return i},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(m){return this._weekdays[m.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(m){return this._weekdaysShort[m.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(m){return this._weekdaysMin[m.day()]},weekdaysParse:function(weekdayName){var i,mom;for(this._weekdaysParse||(this._weekdaysParse=[]),i=0;i<7;i++)if(this._weekdaysParse[i]||(mom=moment([2e3,1]).day(i),mom="^"+this.weekdays(mom,"")+"|^"+this.weekdaysShort(mom,"")+"|^"+this.weekdaysMin(mom,""),this._weekdaysParse[i]=new RegExp(mom.replace(".",""),"i")),this._weekdaysParse[i].test(weekdayName))return i},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"},longDateFormat:function(key){var output=this._longDateFormat[key];return!output&&this._longDateFormat[key.toUpperCase()]&&(output=this._longDateFormat[key.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(val){return val.slice(1)}),this._longDateFormat[key]=output),output},isPM:function(input){return"p"===(input+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(hours,minutes,isLower){return 11<hours?isLower?"pm":"PM":isLower?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(key,mom){key=this._calendar[key];return"function"==typeof key?key.apply(mom):key},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(number,withoutSuffix,string,isFuture){var output=this._relativeTime[string];return"function"==typeof output?output(number,withoutSuffix,string,isFuture):output.replace(/%d/i,number)},pastFuture:function(diff,output){diff=this._relativeTime[0<diff?"future":"past"];return"function"==typeof diff?diff(output):diff.replace(/%s/i,output)},ordinal:function(number){return this._ordinal.replace("%d",number)},_ordinal:"%d",preparse:function(string){return string},postformat:function(string){return string},week:function(mom){return weekOfYear(mom,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}}),(moment=function(input,format,locale,strict){var c;return"boolean"==typeof locale&&(strict=locale,locale=undefined),(c={_isAMomentObject:!0})._i=input,c._f=format,c._l=locale,c._strict=strict,c._isUTC=!1,c._pf=defaultParsingFlags(),makeMoment(c)}).suppressDeprecationWarnings=!1,moment.createFromInputFallback=deprecate("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(config){config._d=new Date(config._i)}),moment.min=function(){return pickBy("isBefore",[].slice.call(arguments,0))},moment.max=function(){return pickBy("isAfter",[].slice.call(arguments,0))},moment.utc=function(input,format,locale,strict){var c;return"boolean"==typeof locale&&(strict=locale,locale=undefined),(c={_isAMomentObject:!0,_useUTC:!0,_isUTC:!0})._l=locale,c._i=input,c._f=format,c._strict=strict,c._pf=defaultParsingFlags(),makeMoment(c).utc()},moment.unix=function(input){return moment(1e3*input)},moment.duration=function(input,key){var sign,parseIso,res,duration=input;return moment.isDuration(input)?duration={ms:input._milliseconds,d:input._days,M:input._months}:"number"==typeof input?(duration={},key?duration[key]=input:duration.milliseconds=input):(key=aspNetTimeSpanJsonRegex.exec(input))?(sign="-"===key[1]?-1:1,duration={y:0,d:toInt(key[DATE])*sign,h:toInt(key[HOUR])*sign,m:toInt(key[MINUTE])*sign,s:toInt(key[SECOND])*sign,ms:toInt(key[MILLISECOND])*sign}):(key=isoDurationRegex.exec(input))?(sign="-"===key[1]?-1:1,duration={y:(parseIso=function(inp){inp=inp&&parseFloat(inp.replace(",","."));return(isNaN(inp)?0:inp)*sign})(key[2]),M:parseIso(key[3]),d:parseIso(key[4]),h:parseIso(key[5]),m:parseIso(key[6]),s:parseIso(key[7]),w:parseIso(key[8])}):"object"==typeof duration&&("from"in duration||"to"in duration)&&(parseIso=moment(duration.from),key=makeAs(key=moment(duration.to),parseIso),parseIso.isBefore(key)?res=positiveMomentsDifference(parseIso,key):((res=positiveMomentsDifference(key,parseIso)).milliseconds=-res.milliseconds,res.months=-res.months),key=res,(duration={}).ms=key.milliseconds,duration.M=key.months),res=new Duration(duration),moment.isDuration(input)&&input.hasOwnProperty("_locale")&&(res._locale=input._locale),res},moment.version="2.8.1",moment.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",moment.ISO_8601=function(){},moment.momentProperties=momentProperties,moment.updateOffset=function(){},moment.relativeTimeThreshold=function(threshold,limit){return relativeTimeThresholds[threshold]!==undefined&&(limit===undefined?relativeTimeThresholds[threshold]:(relativeTimeThresholds[threshold]=limit,!0))},moment.lang=deprecate("moment.lang is deprecated. Use moment.locale instead.",function(key,value){return moment.locale(key,value)}),moment.locale=function(key,values){return key&&(values=void 0!==values?moment.defineLocale(key,values):moment.localeData(key))&&(moment.duration._locale=moment._locale=values),moment._locale._abbr},moment.defineLocale=function(name,values){return null!==values?(values.abbr=name,locales[name]||(locales[name]=new Locale),locales[name].set(values),moment.locale(name),locales[name]):(delete locales[name],null)},moment.langData=deprecate("moment.langData is deprecated. Use moment.localeData instead.",function(key){return moment.localeData(key)}),moment.localeData=function(key){var locale;if(!(key=key&&key._locale&&key._locale._abbr?key._locale._abbr:key))return moment._locale;if(!isArray(key)){if(locale=loadLocale(key))return locale;key=[key]}return function(names){for(var j,next,locale,split,i=0;i<names.length;){for(j=(split=normalizeLocale(names[i]).split("-")).length,next=(next=normalizeLocale(names[i+1]))?next.split("-"):null;0<j;){if(locale=loadLocale(split.slice(0,j).join("-")))return locale;if(next&&next.length>=j&&compareArrays(split,next,!0)>=j-1)break;j--}i++}return null}(key)},moment.isMoment=function(obj){return obj instanceof Moment||null!=obj&&obj.hasOwnProperty("_isAMomentObject")},moment.isDuration=function(obj){return obj instanceof Duration},i=lists.length-1;0<=i;--i)!function(field){var count,setter;if(0===field.indexOf("week"))count=7,setter="day";else{if(0!==field.indexOf("month"))return;count=12,setter="month"}moment[field]=function(format,index){var i,getter,method=moment._locale[field],results=[];if("number"==typeof format&&(index=format,format=undefined),getter=function(i){i=moment().utc().set(setter,i);return method.call(moment._locale,i,format||"")},null!=index)return getter(index);for(i=0;i<count;i++)results.push(getter(i));return results}}(lists[i]);function rawMonthSetter(mom,value){var dayOfMonth;return"string"==typeof value&&"number"!=typeof(value=mom.localeData().monthsParse(value))||(dayOfMonth=Math.min(mom.date(),daysInMonth(mom.year(),value)),mom._d["set"+(mom._isUTC?"UTC":"")+"Month"](value,dayOfMonth)),mom}function rawGetter(mom,unit){return mom._d["get"+(mom._isUTC?"UTC":"")+unit]()}function rawSetter(mom,unit,value){"Month"===unit?rawMonthSetter(mom,value):mom._d["set"+(mom._isUTC?"UTC":"")+unit](value)}function makeAccessor(unit,keepTime){return function(value){return null!=value?(rawSetter(this,unit,value),moment.updateOffset(this,keepTime),this):rawGetter(this,unit)}}for(i in moment.normalizeUnits=normalizeUnits,moment.invalid=function(flags){var m=moment.utc(NaN);return null!=flags?extend(m._pf,flags):m._pf.userInvalidated=!0,m},moment.parseZone=function(){return moment.apply(null,arguments).parseZone()},moment.parseTwoDigitYear=function(input){return toInt(input)+(68<toInt(input)?1900:2e3)},extend(moment.fn=Moment.prototype,{clone:function(){return moment(this)},valueOf:function(){return+this._d+6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var m=moment(this).utc();return 0<m.year()&&m.year()<=9999?formatMoment(m,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):formatMoment(m,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var m=this;return[m.year(),m.month(),m.date(),m.hours(),m.minutes(),m.seconds(),m.milliseconds()]},isValid:function(){return isValid(this)},isDSTShifted:function(){return!!this._a&&this.isValid()&&0<compareArrays(this._a,(this._isUTC?moment.utc(this._a):moment(this._a)).toArray())},parsingFlags:function(){return extend({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(keepLocalTime){return this.zone(0,keepLocalTime)},local:function(keepLocalTime){return this._isUTC&&(this.zone(0,keepLocalTime),this._isUTC=!1,keepLocalTime)&&this.add(this._d.getTimezoneOffset(),"m"),this},format:function(inputString){inputString=formatMoment(this,inputString||moment.defaultFormat);return this.localeData().postformat(inputString)},add:createAdder(1,"add"),subtract:createAdder(-1,"subtract"),diff:function(input,units,asFloat){var diff,output,input=makeAs(input,this),zoneDiff=6e4*(this.zone()-input.zone());return"year"===(units=normalizeUnits(units))||"month"===units?(diff=432e5*(this.daysInMonth()+input.daysInMonth()),output=12*(this.year()-input.year())+(this.month()-input.month()),output=(output+=(this-moment(this).startOf("month")-(input-moment(input).startOf("month")))/diff)-6e4*(this.zone()-moment(this).startOf("month").zone()-(input.zone()-moment(input).startOf("month").zone()))/diff,"year"===units&&(output/=12)):(diff=this-input,output="second"===units?diff/1e3:"minute"===units?diff/6e4:"hour"===units?diff/36e5:"day"===units?(diff-zoneDiff)/864e5:"week"===units?(diff-zoneDiff)/6048e5:diff),asFloat?output:absRound(output)},from:function(time,withoutSuffix){return moment.duration({to:this,from:time}).locale(this.locale()).humanize(!withoutSuffix)},fromNow:function(withoutSuffix){return this.from(moment(),withoutSuffix)},calendar:function(time){time=makeAs(time||moment(),this).startOf("day"),time=this.diff(time,"days",!0),time=time<-6?"sameElse":time<-1?"lastWeek":time<0?"lastDay":time<1?"sameDay":time<2?"nextDay":time<7?"nextWeek":"sameElse";return this.format(this.localeData().calendar(time,this))},isLeapYear:function(){return isLeapYear(this.year())},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(input){var day=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=input?(input=function(input,locale){if("string"==typeof input)if(isNaN(input)){if("number"!=typeof(input=locale.weekdaysParse(input)))return null}else input=parseInt(input,10);return input}(input,this.localeData()),this.add(input-day,"d")):day},month:makeAccessor("Month",!0),startOf:function(units){switch(units=normalizeUnits(units)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===units?this.weekday(0):"isoWeek"===units&&this.isoWeekday(1),"quarter"===units&&this.month(3*Math.floor(this.month()/3)),this},endOf:function(units){return units=normalizeUnits(units),this.startOf(units).add(1,"isoWeek"===units?"week":units).subtract(1,"ms")},isAfter:function(input,units){return units=void 0!==units?units:"millisecond",+this.clone().startOf(units)>+moment(input).startOf(units)},isBefore:function(input,units){return units=void 0!==units?units:"millisecond",+this.clone().startOf(units)<+moment(input).startOf(units)},isSame:function(input,units){return units=units||"ms",+this.clone().startOf(units)==+makeAs(input,this).startOf(units)},min:deprecate("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(other){return(other=moment.apply(null,arguments))<this?this:other}),max:deprecate("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(other){return this<(other=moment.apply(null,arguments))?this:other}),zone:function(input,keepLocalTime){var localAdjust,offset=this._offset||0;return null==input?this._isUTC?offset:this._d.getTimezoneOffset():("string"==typeof input&&(input=timezoneMinutesFromString(input)),Math.abs(input)<16&&(input*=60),!this._isUTC&&keepLocalTime&&(localAdjust=this._d.getTimezoneOffset()),this._offset=input,this._isUTC=!0,null!=localAdjust&&this.subtract(localAdjust,"m"),offset!==input&&(!keepLocalTime||this._changeInProgress?addOrSubtractDurationFromMoment(this,moment.duration(offset-input,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,moment.updateOffset(this,!0),this._changeInProgress=null)),this)},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return this._tzm?this.zone(this._tzm):"string"==typeof this._i&&this.zone(this._i),this},hasAlignedHourOffset:function(input){return input=input?moment(input).zone():0,(this.zone()-input)%60==0},daysInMonth:function(){return daysInMonth(this.year(),this.month())},dayOfYear:function(input){var dayOfYear=round((moment(this).startOf("day")-moment(this).startOf("year"))/864e5)+1;return null==input?dayOfYear:this.add(input-dayOfYear,"d")},quarter:function(input){return null==input?Math.ceil((this.month()+1)/3):this.month(3*(input-1)+this.month()%3)},weekYear:function(input){var year=weekOfYear(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==input?year:this.add(input-year,"y")},isoWeekYear:function(input){var year=weekOfYear(this,1,4).year;return null==input?year:this.add(input-year,"y")},week:function(input){var week=this.localeData().week(this);return null==input?week:this.add(7*(input-week),"d")},isoWeek:function(input){var week=weekOfYear(this,1,4).week;return null==input?week:this.add(7*(input-week),"d")},weekday:function(input){var weekday=(this.day()+7-this.localeData()._week.dow)%7;return null==input?weekday:this.add(input-weekday,"d")},isoWeekday:function(input){return null==input?this.day()||7:this.day(this.day()%7?input:input-7)},isoWeeksInYear:function(){return weeksInYear(this.year(),1,4)},weeksInYear:function(){var weekInfo=this.localeData()._week;return weeksInYear(this.year(),weekInfo.dow,weekInfo.doy)},get:function(units){return this[units=normalizeUnits(units)]()},set:function(units,value){return"function"==typeof this[units=normalizeUnits(units)]&&this[units](value),this},locale:function(key){return key===undefined?this._locale._abbr:(this._locale=moment.localeData(key),this)},lang:deprecate("moment().lang() is deprecated. Use moment().localeData() instead.",function(key){return key===undefined?this.localeData():(this._locale=moment.localeData(key),this)}),localeData:function(){return this._locale}}),moment.fn.millisecond=moment.fn.milliseconds=makeAccessor("Milliseconds",!1),moment.fn.second=moment.fn.seconds=makeAccessor("Seconds",!1),moment.fn.minute=moment.fn.minutes=makeAccessor("Minutes",!1),moment.fn.hour=moment.fn.hours=makeAccessor("Hours",!0),moment.fn.date=makeAccessor("Date",!0),moment.fn.dates=deprecate("dates accessor is deprecated. Use date instead.",makeAccessor("Date",!0)),moment.fn.year=makeAccessor("FullYear",!0),moment.fn.years=deprecate("years accessor is deprecated. Use year instead.",makeAccessor("FullYear",!0)),moment.fn.days=moment.fn.day,moment.fn.months=moment.fn.month,moment.fn.weeks=moment.fn.week,moment.fn.isoWeeks=moment.fn.isoWeek,moment.fn.quarters=moment.fn.quarter,moment.fn.toJSON=moment.fn.toISOString,extend(moment.duration.fn=Duration.prototype,{_bubble:function(){var milliseconds=this._milliseconds,days=this._days,months=this._months,data=this._data;data.milliseconds=milliseconds%1e3,milliseconds=absRound(milliseconds/1e3),data.seconds=milliseconds%60,milliseconds=absRound(milliseconds/60),data.minutes=milliseconds%60,milliseconds=absRound(milliseconds/60),data.hours=milliseconds%24,days+=absRound(milliseconds/24),milliseconds=absRound(400*days/146097),days-=absRound(146097*milliseconds/400),months+=absRound(days/30),days%=30,milliseconds+=absRound(months/12),months%=12,data.days=days,data.months=months,data.years=milliseconds},abs:function(){return this._milliseconds=Math.abs(this._milliseconds),this._days=Math.abs(this._days),this._months=Math.abs(this._months),this._data.milliseconds=Math.abs(this._data.milliseconds),this._data.seconds=Math.abs(this._data.seconds),this._data.minutes=Math.abs(this._data.minutes),this._data.hours=Math.abs(this._data.hours),this._data.months=Math.abs(this._data.months),this._data.years=Math.abs(this._data.years),this},weeks:function(){return absRound(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*toInt(this._months/12)},humanize:function(withSuffix){var output=relativeTime(this,!withSuffix,this.localeData());return withSuffix&&(output=this.localeData().pastFuture(+this,output)),this.localeData().postformat(output)},add:function(input,val){input=moment.duration(input,val);return this._milliseconds+=input._milliseconds,this._days+=input._days,this._months+=input._months,this._bubble(),this},subtract:function(input,val){input=moment.duration(input,val);return this._milliseconds-=input._milliseconds,this._days-=input._days,this._months-=input._months,this._bubble(),this},get:function(units){return this[(units=normalizeUnits(units)).toLowerCase()+"s"]()},as:function(units){var days,months;if(units=normalizeUnits(units),days=this._days+this._milliseconds/864e5,"month"===units||"year"===units)return months=this._months+400*days/146097*12,"month"===units?months:months/12;switch(days+=this._months/12*146097/400,units){case"week":return days/7;case"day":return days;case"hour":return 24*days;case"minute":return 24*days*60;case"second":return 24*days*60*60;case"millisecond":return 24*days*60*60*1e3;default:throw new Error("Unknown unit "+units)}},lang:moment.fn.lang,locale:moment.fn.locale,toIsoString:deprecate("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",function(){return this.toISOString()}),toISOString:function(){var years=Math.abs(this.years()),months=Math.abs(this.months()),days=Math.abs(this.days()),hours=Math.abs(this.hours()),minutes=Math.abs(this.minutes()),seconds=Math.abs(this.seconds()+this.milliseconds()/1e3);return this.asSeconds()?(this.asSeconds()<0?"-":"")+"P"+(years?years+"Y":"")+(months?months+"M":"")+(days?days+"D":"")+(hours||minutes||seconds?"T":"")+(hours?hours+"H":"")+(minutes?minutes+"M":"")+(seconds?seconds+"S":""):"P0D"},localeData:function(){return this._locale}}),unitMillisecondFactors)unitMillisecondFactors.hasOwnProperty(i)&&!function(name){moment.duration.fn[name]=function(){return this._data[name]}}(i.toLowerCase());function makeGlobal(shouldDeprecate){"undefined"==typeof ender&&(oldGlobalMoment=globalScope.moment,globalScope.moment=shouldDeprecate?deprecate("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.",moment):moment)}moment.duration.fn.asMilliseconds=function(){return this.as("ms")},moment.duration.fn.asSeconds=function(){return this.as("s")},moment.duration.fn.asMinutes=function(){return this.as("m")},moment.duration.fn.asHours=function(){return this.as("h")},moment.duration.fn.asDays=function(){return this.as("d")},moment.duration.fn.asWeeks=function(){return this.as("weeks")},moment.duration.fn.asMonths=function(){return this.as("M")},moment.duration.fn.asYears=function(){return this.as("y")},moment.locale("en",{ordinal:function(number){var b=number%10;return number+(1===toInt(number%100/10)?"th":1==b?"st":2==b?"nd":3==b?"rd":"th")}}),hasModule?module.exports=moment:((__WEBPACK_AMD_DEFINE_RESULT__=function(require,exports,module){return module.config&&module.config()&&!0===module.config().noGlobal&&(globalScope.moment=oldGlobalMoment),moment}.call(exports,__webpack_require__,exports,module))!==undefined&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__),makeGlobal(!0))}.call(this)}.call(exports,function(){return this}(),__webpack_require__(58)(module))},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;!function(window){"use strict";function Hammer(element,options){return new Hammer.Instance(element,options||{})}Hammer.VERSION="1.1.3",Hammer.defaults={behavior:{userSelect:"none",touchAction:"pan-y",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},Hammer.DOCUMENT=document,Hammer.HAS_POINTEREVENTS=navigator.pointerEnabled||navigator.msPointerEnabled,Hammer.HAS_TOUCHEVENTS="ontouchstart"in window,Hammer.IS_MOBILE=/mobile|tablet|ip(ad|hone|od)|android|silk/i.test(navigator.userAgent),Hammer.NO_MOUSEEVENTS=Hammer.HAS_TOUCHEVENTS&&Hammer.IS_MOBILE||Hammer.HAS_POINTEREVENTS,Hammer.CALCULATE_INTERVAL=25;var EVENT_TYPES={};Hammer.DIRECTION_DOWN="down",Hammer.DIRECTION_LEFT="left",Hammer.DIRECTION_UP="up",Hammer.DIRECTION_RIGHT="right",Hammer.POINTER_MOUSE="mouse",Hammer.POINTER_TOUCH="touch",Hammer.POINTER_PEN="pen",Hammer.EVENT_START="start",Hammer.EVENT_MOVE="move",Hammer.EVENT_END="end",Hammer.EVENT_RELEASE="release",Hammer.EVENT_TOUCH="touch";Hammer.READY=!1,Hammer.plugins=Hammer.plugins||{},Hammer.gestures=Hammer.gestures||{};var name,triggered,timer,hasMoved,Utils=Hammer.utils={extend:function(dest,src,merge){for(var key in src)!src.hasOwnProperty(key)||void 0!==dest[key]&&merge||(dest[key]=src[key]);return dest},on:function(element,type,handler){element.addEventListener(type,handler,!1)},off:function(element,type,handler){element.removeEventListener(type,handler,!1)},each:function(obj,iterator,context){var i,len;if("forEach"in obj)obj.forEach(iterator,context);else if(void 0!==obj.length){for(i=0,len=obj.length;i<len;i++)if(!1===iterator.call(context,obj[i],i,obj))return}else for(i in obj)if(obj.hasOwnProperty(i)&&!1===iterator.call(context,obj[i],i,obj))return},inStr:function(src,find){return-1<src.indexOf(find)},inArray:function(src,find){var index;if(src.indexOf)return-1!==(index=src.indexOf(find))&&index;for(var i=0,len=src.length;i<len;i++)if(src[i]===find)return i;return!1},toArray:function(obj){return Array.prototype.slice.call(obj,0)},hasParent:function(node,parent){for(;node;){if(node==parent)return!0;node=node.parentNode}return!1},getCenter:function(touches){var pageX=[],pageY=[],clientX=[],clientY=[],min=Math.min,max=Math.max;return 1===touches.length?{pageX:touches[0].pageX,pageY:touches[0].pageY,clientX:touches[0].clientX,clientY:touches[0].clientY}:(Utils.each(touches,function(touch){pageX.push(touch.pageX),pageY.push(touch.pageY),clientX.push(touch.clientX),clientY.push(touch.clientY)}),{pageX:(min.apply(Math,pageX)+max.apply(Math,pageX))/2,pageY:(min.apply(Math,pageY)+max.apply(Math,pageY))/2,clientX:(min.apply(Math,clientX)+max.apply(Math,clientX))/2,clientY:(min.apply(Math,clientY)+max.apply(Math,clientY))/2})},getVelocity:function(deltaTime,deltaX,deltaY){return{x:Math.abs(deltaX/deltaTime)||0,y:Math.abs(deltaY/deltaTime)||0}},getAngle:function(touch1,touch2){var x=touch2.clientX-touch1.clientX,touch2=touch2.clientY-touch1.clientY;return 180*Math.atan2(touch2,x)/Math.PI},getDirection:function(touch1,touch2){var x=Math.abs(touch1.clientX-touch2.clientX);return Math.abs(touch1.clientY-touch2.clientY)<=x?0<touch1.clientX-touch2.clientX?"left":"right":0<touch1.clientY-touch2.clientY?"up":"down"},getDistance:function(touch1,touch2){var x=touch2.clientX-touch1.clientX,touch2=touch2.clientY-touch1.clientY;return Math.sqrt(x*x+touch2*touch2)},getScale:function(start,end){return 2<=start.length&&2<=end.length?this.getDistance(end[0],end[1])/this.getDistance(start[0],start[1]):1},getRotation:function(start,end){return 2<=start.length&&2<=end.length?this.getAngle(end[1],end[0])-this.getAngle(start[1],start[0]):0},isVertical:function(direction){return"up"==direction||"down"==direction},setPrefixedCss:function(element,prop,value,toggle){var prefixes=["","Webkit","Moz","O","ms"];prop=Utils.toCamelCase(prop);for(var i=0;i<prefixes.length;i++){var p=prop;if((p=prefixes[i]?prefixes[i]+p.slice(0,1).toUpperCase()+p.slice(1):p)in element.style){element.style[p]=(null==toggle||toggle)&&value||"";break}}},toggleBehavior:function(element,props,toggle){var falseFn;props&&element&&element.style&&(Utils.each(props,function(value,prop){Utils.setPrefixedCss(element,prop,value,toggle)}),falseFn=toggle&&function(){return!1},"none"==props.userSelect&&(element.onselectstart=falseFn),"none"==props.userDrag)&&(element.ondragstart=falseFn)},toCamelCase:function(str){return str.replace(/[_-]([a-z])/g,function(s){return s[1].toUpperCase()})}},Event=Hammer.event={preventMouseEvents:!1,started:!1,shouldDetect:!1,on:function(element,type,handler,hook){type=type.split(" ");Utils.each(type,function(type){Utils.on(element,type,handler),hook&&hook(type)})},off:function(element,type,handler,hook){type=type.split(" ");Utils.each(type,function(type){Utils.off(element,type,handler),hook&&hook(type)})},onTouch:function(element,eventType,handler){function onTouchHandler(ev){var triggerType,srcType=ev.type.toLowerCase(),isPointer=Hammer.HAS_POINTEREVENTS;(srcType=Utils.inStr(srcType,"mouse"))&&self.preventMouseEvents||(srcType&&"start"==eventType&&0===ev.button?(self.preventMouseEvents=!1,self.shouldDetect=!0):isPointer&&"start"==eventType?self.shouldDetect=1===ev.buttons||PointerEvent.matchType("touch",ev):srcType||"start"!=eventType||(self.preventMouseEvents=!0,self.shouldDetect=!0),isPointer&&"end"!=eventType&&PointerEvent.updatePointer(eventType,ev),"end"==(triggerType=self.shouldDetect?self.doDetect.call(self,ev,eventType,element,handler):triggerType)&&(self.preventMouseEvents=!1,self.shouldDetect=!1,PointerEvent.reset()),isPointer&&"end"==eventType&&PointerEvent.updatePointer(eventType,ev))}var self=this;return this.on(element,EVENT_TYPES[eventType],onTouchHandler),onTouchHandler},doDetect:function(ev,eventType,element,handler){var touchList=this.getTouchList(ev,eventType),touchListLength=touchList.length,triggerType=eventType,triggerChange=touchList.trigger,element=("start"==eventType?triggerChange="touch":"end"==eventType&&(triggerChange="release",touchListLength=touchList.length-(ev.changedTouches?ev.changedTouches.length:1)),0<touchListLength&&this.started&&(triggerType="move"),this.started=!0,this.collectEventData(element,triggerType,touchList,ev));return"end"!=eventType&&handler.call(Detection,element),triggerChange&&(element.changedLength=touchListLength,element.eventType=triggerChange,handler.call(Detection,element),element.eventType=triggerType,delete element.changedLength),"end"==triggerType&&(handler.call(Detection,element),this.started=!1),triggerType},determineEventTypes:function(){var types=Hammer.HAS_POINTEREVENTS?window.PointerEvent?["pointerdown","pointermove","pointerup pointercancel lostpointercapture"]:["MSPointerDown","MSPointerMove","MSPointerUp MSPointerCancel MSLostPointerCapture"]:Hammer.NO_MOUSEEVENTS?["touchstart","touchmove","touchend touchcancel"]:["touchstart mousedown","touchmove mousemove","touchend touchcancel mouseup"];return EVENT_TYPES.start=types[0],EVENT_TYPES.move=types[1],EVENT_TYPES.end=types[2],EVENT_TYPES},getTouchList:function(ev,eventType){var identifiers,touchList;return Hammer.HAS_POINTEREVENTS?PointerEvent.getTouchList():ev.touches?"move"==eventType?ev.touches:(identifiers=[],eventType=[].concat(Utils.toArray(ev.touches),Utils.toArray(ev.changedTouches)),touchList=[],Utils.each(eventType,function(touch){!1===Utils.inArray(identifiers,touch.identifier)&&touchList.push(touch),identifiers.push(touch.identifier)}),touchList):(ev.identifier=1,[ev])},collectEventData:function(element,eventType,touches,ev){var pointerType="touch";return Utils.inStr(ev.type,"mouse")||PointerEvent.matchType("mouse",ev)?pointerType="mouse":PointerEvent.matchType("pen",ev)&&(pointerType="pen"),{center:Utils.getCenter(touches),timeStamp:Date.now(),target:ev.target,touches:touches,eventType:eventType,pointerType:pointerType,srcEvent:ev,preventDefault:function(){var srcEvent=this.srcEvent;srcEvent.preventManipulation&&srcEvent.preventManipulation(),srcEvent.preventDefault&&srcEvent.preventDefault()},stopPropagation:function(){this.srcEvent.stopPropagation()},stopDetect:function(){return Detection.stopDetect()}}}},PointerEvent=Hammer.PointerEvent={pointers:{},getTouchList:function(){var touchlist=[];return Utils.each(this.pointers,function(pointer){touchlist.push(pointer)}),touchlist},updatePointer:function(eventType,pointerEvent){"end"==eventType||"end"!=eventType&&1!==pointerEvent.buttons?delete this.pointers[pointerEvent.pointerId]:(pointerEvent.identifier=pointerEvent.pointerId,this.pointers[pointerEvent.pointerId]=pointerEvent)},matchType:function(pointerType,ev){var pt,types;return!!ev.pointerType&&(pt=ev.pointerType,(types={}).mouse=pt===(ev.MSPOINTER_TYPE_MOUSE||"mouse"),types.touch=pt===(ev.MSPOINTER_TYPE_TOUCH||"touch"),types.pen=pt===(ev.MSPOINTER_TYPE_PEN||"pen"),types[pointerType])},reset:function(){this.pointers={}}},Detection=Hammer.detection={gestures:[],current:null,previous:null,stopped:!1,startDetect:function(inst,eventData){this.current||(this.stopped=!1,this.current={inst:inst,startEvent:Utils.extend({},eventData),lastEvent:!1,lastCalcEvent:!1,futureCalcEvent:!1,lastCalcData:{},name:""},this.detect(eventData))},detect:function(eventData){var inst,instOptions;if(this.current&&!this.stopped)return eventData=this.extendEventData(eventData),inst=this.current.inst,instOptions=inst.options,Utils.each(this.gestures,function(gesture){!this.stopped&&inst.enabled&&instOptions[gesture.name]&&gesture.handler.call(gesture,eventData,inst)},this),this.current&&(this.current.lastEvent=eventData),"end"==eventData.eventType&&this.stopDetect(),eventData},stopDetect:function(){this.previous=Utils.extend({},this.current),this.current=null,this.stopped=!0},getCalculatedData:function(ev,center,deltaTime,deltaX,deltaY){var cur=this.current,recalc=!1,calcEv=cur.lastCalcEvent,calcData=cur.lastCalcData;calcEv&&ev.timeStamp-calcEv.timeStamp>Hammer.CALCULATE_INTERVAL&&(center=calcEv.center,deltaTime=ev.timeStamp-calcEv.timeStamp,deltaX=ev.center.clientX-calcEv.center.clientX,deltaY=ev.center.clientY-calcEv.center.clientY,recalc=!0),"touch"!=ev.eventType&&"release"!=ev.eventType||(cur.futureCalcEvent=ev),cur.lastCalcEvent&&!recalc||(calcData.velocity=Utils.getVelocity(deltaTime,deltaX,deltaY),calcData.angle=Utils.getAngle(center,ev.center),calcData.direction=Utils.getDirection(center,ev.center),cur.lastCalcEvent=cur.futureCalcEvent||ev,cur.futureCalcEvent=ev),ev.velocityX=calcData.velocity.x,ev.velocityY=calcData.velocity.y,ev.interimAngle=calcData.angle,ev.interimDirection=calcData.direction},extendEventData:function(ev){var cur=this.current,startEv=cur.startEvent,cur=cur.lastEvent||startEv,deltaTime=("touch"!=ev.eventType&&"release"!=ev.eventType||(startEv.touches=[],Utils.each(ev.touches,function(touch){startEv.touches.push({clientX:touch.clientX,clientY:touch.clientY})})),ev.timeStamp-startEv.timeStamp),deltaX=ev.center.clientX-startEv.center.clientX,deltaY=ev.center.clientY-startEv.center.clientY;return this.getCalculatedData(ev,cur.center,deltaTime,deltaX,deltaY),Utils.extend(ev,{startEvent:startEv,deltaTime:deltaTime,deltaX:deltaX,deltaY:deltaY,distance:Utils.getDistance(startEv.center,ev.center),angle:Utils.getAngle(startEv.center,ev.center),direction:Utils.getDirection(startEv.center,ev.center),scale:Utils.getScale(startEv.touches,ev.touches),rotation:Utils.getRotation(startEv.touches,ev.touches)}),ev},register:function(gesture){var options=gesture.defaults||{};return void 0===options[gesture.name]&&(options[gesture.name]=!0),Utils.extend(Hammer.defaults,options,!0),gesture.index=gesture.index||1e3,this.gestures.push(gesture),this.gestures.sort(function(a,b){return a.index<b.index?-1:a.index>b.index?1:0}),this.gestures}};(Hammer.Instance=function(element,options){var self=this;Hammer.READY||(Event.determineEventTypes(),Utils.each(Hammer.gestures,function(gesture){Detection.register(gesture)}),Event.onTouch(Hammer.DOCUMENT,"move",Detection.detect),Event.onTouch(Hammer.DOCUMENT,"end",Detection.detect),Hammer.READY=!0),this.element=element,this.enabled=!0,Utils.each(options,function(value,name){delete options[name],options[Utils.toCamelCase(name)]=value}),this.options=Utils.extend(Utils.extend({},Hammer.defaults),options||{}),this.options.behavior&&Utils.toggleBehavior(this.element,this.options.behavior,!0),this.eventStartHandler=Event.onTouch(element,"start",function(ev){self.enabled&&"start"==ev.eventType?Detection.startDetect(self,ev):"touch"==ev.eventType&&Detection.detect(ev)}),this.eventHandlers=[]}).prototype={on:function(gestures,handler){var self=this;return Event.on(self.element,gestures,handler,function(type){self.eventHandlers.push({gesture:type,handler:handler})}),self},off:function(gestures,handler){var self=this;return Event.off(self.element,gestures,handler,function(type){type=Utils.inArray({gesture:type,handler:handler});!1!==type&&self.eventHandlers.splice(type,1)}),self},trigger:function(gesture,eventData){eventData=eventData||{};var event=Hammer.DOCUMENT.createEvent("Event"),gesture=(event.initEvent(gesture,!0,!0),event.gesture=eventData,this.element);return(gesture=Utils.hasParent(eventData.target,gesture)?eventData.target:gesture).dispatchEvent(event),this},enable:function(state){return this.enabled=state,this},dispose:function(){var i,eh;for(Utils.toggleBehavior(this.element,this.options.behavior,!1),i=-1;eh=this.eventHandlers[++i];)Utils.off(this.element,eh.gesture,eh.handler);return this.eventHandlers=[],Event.off(this.element,EVENT_TYPES.start,this.eventStartHandler),null}},triggered=!(name="drag"),Hammer.gestures.Drag={name:name,index:50,handler:function(ev,inst){var startCenter,factor,cur=Detection.current;if(!(0<inst.options.dragMaxTouches&&ev.touches.length>inst.options.dragMaxTouches))switch(ev.eventType){case"start":triggered=!1;break;case"move":ev.distance<inst.options.dragMinDistance&&cur.name!=name||(startCenter=cur.startEvent.center,cur.name!=name&&(cur.name=name,inst.options.dragDistanceCorrection)&&0<ev.distance&&(factor=Math.abs(inst.options.dragMinDistance/ev.distance),startCenter.pageX+=ev.deltaX*factor,startCenter.pageY+=ev.deltaY*factor,startCenter.clientX+=ev.deltaX*factor,startCenter.clientY+=ev.deltaY*factor,ev=Detection.extendEventData(ev)),(cur.lastEvent.dragLockToAxis||inst.options.dragLockToAxis&&inst.options.dragLockMinDistance<=ev.distance)&&(ev.dragLockToAxis=!0),startCenter=cur.lastEvent.direction,ev.dragLockToAxis&&startCenter!==ev.direction&&(Utils.isVertical(startCenter)?ev.direction=ev.deltaY<0?"up":"down":ev.direction=ev.deltaX<0?"left":"right"),triggered||(inst.trigger("dragstart",ev),triggered=!0),inst.trigger(name,ev),inst.trigger(name+ev.direction,ev),factor=Utils.isVertical(ev.direction),(inst.options.dragBlockVertical&&factor||inst.options.dragBlockHorizontal&&!factor)&&ev.preventDefault());break;case"release":triggered&&ev.changedLength<=inst.options.dragMaxTouches&&(inst.trigger("dragend",ev),triggered=!1);break;case"end":triggered=!1}},defaults:{dragMinDistance:10,dragDistanceCorrection:!0,dragMaxTouches:1,dragBlockHorizontal:!1,dragBlockVertical:!1,dragLockToAxis:!1,dragLockMinDistance:25}},Hammer.gestures.Gesture={name:"gesture",index:1337,handler:function(ev,inst){inst.trigger(this.name,ev)}},Hammer.gestures.Hold={name:"hold",index:10,defaults:{holdTimeout:500,holdThreshold:2},handler:function(ev,inst){var options=inst.options,current=Detection.current;switch(ev.eventType){case"start":clearTimeout(timer),current.name="hold",timer=setTimeout(function(){current&&"hold"==current.name&&inst.trigger("hold",ev)},options.holdTimeout);break;case"move":ev.distance>options.holdThreshold&&clearTimeout(timer);break;case"release":clearTimeout(timer)}}},Hammer.gestures.Release={name:"release",index:1/0,handler:function(ev,inst){"release"==ev.eventType&&inst.trigger(this.name,ev)}},Hammer.gestures.Swipe={name:"swipe",index:40,defaults:{swipeMinTouches:1,swipeMaxTouches:1,swipeVelocityX:.6,swipeVelocityY:.6},handler:function(ev,inst){var touches,options;"release"!=ev.eventType||(touches=ev.touches.length)<(options=inst.options).swipeMinTouches||touches>options.swipeMaxTouches||(ev.velocityX>options.swipeVelocityX||ev.velocityY>options.swipeVelocityY)&&(inst.trigger(this.name,ev),inst.trigger(this.name+ev.direction,ev))}},hasMoved=!1,Hammer.gestures.Tap={name:"tap",index:100,handler:function(ev,inst){var sincePrev,didDoubleTap,options=inst.options,current=Detection.current,prev=Detection.previous;switch(ev.eventType){case"start":hasMoved=!1;break;case"move":hasMoved=hasMoved||ev.distance>options.tapMaxDistance;break;case"end":!Utils.inStr(ev.srcEvent.type,"cancel")&&ev.deltaTime<options.tapMaxTime&&!hasMoved&&(sincePrev=prev&&prev.lastEvent&&ev.timeStamp-prev.lastEvent.timeStamp,didDoubleTap=!1,prev&&"tap"==prev.name&&sincePrev&&sincePrev<options.doubleTapInterval&&ev.distance<options.doubleTapDistance&&(inst.trigger("doubletap",ev),didDoubleTap=!0),didDoubleTap&&!options.tapAlways||(current.name="tap",inst.trigger(current.name,ev)))}},defaults:{tapMaxTime:250,tapMaxDistance:10,tapAlways:!0,doubleTapDistance:20,doubleTapInterval:300}},Hammer.gestures.Touch={name:"touch",index:-1/0,defaults:{preventDefault:!1,preventMouse:!1},handler:function(ev,inst){inst.options.preventMouse&&"mouse"==ev.pointerType?ev.stopDetect():(inst.options.preventDefault&&ev.preventDefault(),"touch"==ev.eventType&&inst.trigger("touch",ev))}},function(name){var triggered=!1;Hammer.gestures.Transform={name:name,index:45,defaults:{transformMinScale:.01,transformMinRotation:1},handler:function(ev,inst){switch(ev.eventType){case"start":triggered=!1;break;case"move":var scaleThreshold,rotationThreshold;ev.touches.length<2||(scaleThreshold=Math.abs(1-ev.scale),rotationThreshold=Math.abs(ev.rotation),scaleThreshold<inst.options.transformMinScale&&rotationThreshold<inst.options.transformMinRotation)||(Detection.current.name=name,triggered||(inst.trigger(name+"start",ev),triggered=!0),inst.trigger(name,ev),rotationThreshold>inst.options.transformMinRotation&&inst.trigger("rotate",ev),scaleThreshold>inst.options.transformMinScale&&(inst.trigger("pinch",ev),inst.trigger("pinch"+(ev.scale<1?"in":"out"),ev)));break;case"release":triggered&&ev.changedLength<2&&(inst.trigger(name+"end",ev),triggered=!1)}}}}("transform"),void 0!==(__WEBPACK_AMD_DEFINE_RESULT__=function(){return Hammer}.call(exports,__webpack_require__,exports,module))&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)}(window)},function(module,exports,__webpack_require__){exports.startWithClustering=function(){this.clusterToFit(this.constants.clustering.initialMaxNodes,!0),this.updateLabels(),this.stabilize&&this._stabilize(),this.start()},exports.clusterToFit=function(maxNumberOfNodes,reposition){for(var numberOfNodes=this.nodeIndices.length,level=0;maxNumberOfNodes<numberOfNodes&&level<50;)level%3==0?(this.forceAggregateHubs(!0),this.normalizeClusterLevels()):this.increaseClusterLevel(),numberOfNodes=this.nodeIndices.length,level+=1;0<level&&1==reposition&&this.repositionNodes(),this._updateCalculationNodes()},exports.openCluster=function(node){var isMovingBeforeClustering=this.moving;if(node.clusterSize>this.constants.clustering.sectorThreshold&&this._nodeInActiveArea(node)&&("default"!=this._sector()||1!=this.nodeIndices.length)){this._addSector(node);for(var level=0;this.nodeIndices.length<this.constants.clustering.initialMaxNodes&&level<10;)this.decreaseClusterLevel(),level+=1}else this._expandClusterNode(node,!1,!0),this._updateNodeIndexList(),this._updateDynamicEdges(),this._updateCalculationNodes(),this.updateLabels();this.moving!=isMovingBeforeClustering&&this.start()},exports.updateClustersDefault=function(){1==this.constants.clustering.enabled&&this.updateClusters(0,!1,!1)},exports.increaseClusterLevel=function(){this.updateClusters(-1,!1,!0)},exports.decreaseClusterLevel=function(){this.updateClusters(1,!1,!0)},exports.updateClusters=function(zoomDirection,recursive,force,doNotStart){var isMovingBeforeClustering=this.moving,amountOfNodes=this.nodeIndices.length;this.previousScale>this.scale&&0==zoomDirection&&this._collapseSector(),this.previousScale>this.scale||-1==zoomDirection?this._formClusters(force):(this.previousScale<this.scale||1==zoomDirection)&&(1==force?this._openClusters(recursive,force):this._openClustersBySize()),this._updateNodeIndexList(),this.nodeIndices.length==amountOfNodes&&(this.previousScale>this.scale||-1==zoomDirection)&&(this._aggregateHubs(force),this._updateNodeIndexList()),(this.previousScale>this.scale||-1==zoomDirection)&&(this.handleChains(),this._updateNodeIndexList()),this.previousScale=this.scale,this._updateDynamicEdges(),this.updateLabels(),this.nodeIndices.length<amountOfNodes&&(this.clusterSession+=1,this.normalizeClusterLevels()),0!=doNotStart&&void 0!==doNotStart||this.moving!=isMovingBeforeClustering&&this.start(),this._updateCalculationNodes()},exports.handleChains=function(){var chainPercentage=this._getChainFraction();chainPercentage>this.constants.clustering.chainThreshold&&this._reduceAmountOfChains(1-this.constants.clustering.chainThreshold/chainPercentage)},exports._aggregateHubs=function(force){this._getHubSize(),this._formClustersByHub(force,!1)},exports.forceAggregateHubs=function(doNotStart){var isMovingBeforeClustering=this.moving,amountOfNodes=this.nodeIndices.length;this._aggregateHubs(!0),this._updateNodeIndexList(),this._updateDynamicEdges(),this.updateLabels(),this.nodeIndices.length!=amountOfNodes&&(this.clusterSession+=1),0!=doNotStart&&void 0!==doNotStart||this.moving!=isMovingBeforeClustering&&this.start()},exports._openClustersBySize=function(){for(var nodeId in this.nodes)this.nodes.hasOwnProperty(nodeId)&&1==(nodeId=this.nodes[nodeId]).inView()&&(nodeId.width*this.scale>this.constants.clustering.screenSizeThreshold*this.frame.canvas.clientWidth||nodeId.height*this.scale>this.constants.clustering.screenSizeThreshold*this.frame.canvas.clientHeight)&&this.openCluster(nodeId)},exports._openClusters=function(recursive,force){for(var i=0;i<this.nodeIndices.length;i++){var node=this.nodes[this.nodeIndices[i]];this._expandClusterNode(node,recursive,force),this._updateCalculationNodes()}},exports._expandClusterNode=function(parentNode,recursive,force,openAll){if(1<parentNode.clusterSize&&(recursive=!!(openAll=parentNode.clusterSize<this.constants.clustering.sectorThreshold?!0:openAll)||recursive,parentNode.formationScale<this.scale||1==force))for(var containedNodeId in parentNode.containedNodes){var childNode;parentNode.containedNodes.hasOwnProperty(containedNodeId)&&(childNode=parentNode.containedNodes[containedNodeId],1==force?childNode.clusterSession!=parentNode.clusterSessions[parentNode.clusterSessions.length-1]&&!openAll||this._expelChildFromParent(parentNode,containedNodeId,recursive,force,openAll):this._nodeInActiveArea(parentNode)&&this._expelChildFromParent(parentNode,containedNodeId,recursive,force,openAll))}},exports._expelChildFromParent=function(parentNode,containedNodeId,recursive,force,openAll){var childNode=parentNode.containedNodes[containedNodeId];if(childNode.formationScale<this.scale||1==force){this._unselectAll(),this.nodes[containedNodeId]=childNode,this._releaseContainedEdges(parentNode,childNode),this._connectEdgeBackToChild(parentNode,childNode),this._validateEdges(parentNode),parentNode.options.mass-=childNode.options.mass,parentNode.clusterSize-=childNode.clusterSize,parentNode.options.fontSize=Math.min(this.constants.clustering.maxFontSize,this.constants.nodes.fontSize+this.constants.clustering.fontSizeMultiplier*parentNode.clusterSize),parentNode.dynamicEdgesLength=parentNode.dynamicEdges.length,childNode.x=parentNode.x+parentNode.growthIndicator*(.5-Math.random()),childNode.y=parentNode.y+parentNode.growthIndicator*(.5-Math.random()),delete parentNode.containedNodes[containedNodeId];var childNodeId,othersPresent=!1;for(childNodeId in parentNode.containedNodes)if(parentNode.containedNodes.hasOwnProperty(childNodeId)&&parentNode.containedNodes[childNodeId].clusterSession==childNode.clusterSession){othersPresent=!0;break}0==othersPresent&&parentNode.clusterSessions.pop(),this._repositionBezierNodes(childNode),childNode.clusterSession=0,parentNode.clearSizeCache(),this.moving=!0}1==recursive&&this._expandClusterNode(childNode,recursive,force,openAll)},exports._repositionBezierNodes=function(node){for(var i=0;i<node.dynamicEdges.length;i++)node.dynamicEdges[i].positionBezierNode()},exports._formClusters=function(force){0==force?this._formClustersByZoom():this._forceClustersByZoom()},exports._formClustersByZoom=function(){var edgeId,edge,dx,dy,minLength=this.constants.clustering.clusterEdgeThreshold/this.scale;for(edgeId in this.edges)this.edges.hasOwnProperty(edgeId)&&(edge=this.edges[edgeId]).connected&&edge.toId!=edge.fromId&&(dx=edge.to.x-edge.from.x,dy=edge.to.y-edge.from.y,Math.sqrt(dx*dx+dy*dy)<minLength)&&(dx=edge.from,dy=edge.to,edge.to.options.mass>edge.from.options.mass&&(dx=edge.to,dy=edge.from),1==dy.dynamicEdgesLength?this._addToCluster(dx,dy,!1):1==dx.dynamicEdgesLength&&this._addToCluster(dy,dx,!1))},exports._forceClustersByZoom=function(){for(var nodeId in this.nodes){var edge;this.nodes.hasOwnProperty(nodeId)&&1==(nodeId=this.nodes[nodeId]).dynamicEdgesLength&&0!=nodeId.dynamicEdges.length&&(edge=(edge=nodeId.dynamicEdges[0]).toId==nodeId.id?this.nodes[edge.fromId]:this.nodes[edge.toId],nodeId.id!=edge.id)&&(edge.options.mass>nodeId.options.mass?this._addToCluster(edge,nodeId,!0):this._addToCluster(nodeId,edge,!0))}},exports._clusterToSmallestNeighbour=function(node){for(var neighbour,smallestNeighbour=-1,i=0;i<node.dynamicEdges.length;i++)void 0!==node.dynamicEdges[i]&&(neighbour=null,node.dynamicEdges[i].fromId!=node.id?neighbour=node.dynamicEdges[i].from:node.dynamicEdges[i].toId!=node.id&&(neighbour=node.dynamicEdges[i].to),null!=neighbour)&&smallestNeighbour>neighbour.clusterSessions.length&&(smallestNeighbour=neighbour.clusterSessions.length);null!=neighbour&&void 0!==this.nodes[neighbour.id]&&this._addToCluster(neighbour,node,!0)},exports._formClustersByHub=function(force,onlyEqual){for(var nodeId in this.nodes)this.nodes.hasOwnProperty(nodeId)&&this._formClusterFromHub(this.nodes[nodeId],force,onlyEqual)},exports._formClusterFromHub=function(hubNode,force,onlyEqual,absorptionSizeOffset){if(void 0===absorptionSizeOffset&&(absorptionSizeOffset=0),hubNode.dynamicEdgesLength>=this.hubThreshold&&0==onlyEqual||hubNode.dynamicEdgesLength==this.hubThreshold&&1==onlyEqual){for(var dx,dy,childNode,minLength=this.constants.clustering.clusterEdgeThreshold/this.scale,allowCluster=!1,edgesIdarray=[],amountOfInitialEdges=hubNode.dynamicEdges.length,j=0;j<amountOfInitialEdges;j++)edgesIdarray.push(hubNode.dynamicEdges[j].id);if(0==force)for(allowCluster=!1,j=0;j<amountOfInitialEdges;j++){var edge=this.edges[edgesIdarray[j]];if(void 0!==edge&&edge.connected&&edge.toId!=edge.fromId&&(dx=edge.to.x-edge.from.x,dy=edge.to.y-edge.from.y,Math.sqrt(dx*dx+dy*dy)<minLength)){allowCluster=!0;break}}if(!force&&allowCluster||force)for(j=0;j<amountOfInitialEdges;j++)void 0!==(edge=this.edges[edgesIdarray[j]])&&(childNode=this.nodes[edge.fromId==hubNode.id?edge.toId:edge.fromId]).dynamicEdges.length<=this.hubThreshold+absorptionSizeOffset&&childNode.id!=hubNode.id&&this._addToCluster(hubNode,childNode,force)}},exports._addToCluster=function(parentNode,childNode,force){parentNode.containedNodes[childNode.id]=childNode;for(var i=0;i<childNode.dynamicEdges.length;i++){var edge=childNode.dynamicEdges[i];edge.toId==parentNode.id||edge.fromId==parentNode.id?this._addToContainedEdges(parentNode,childNode,edge):this._connectEdgeToCluster(parentNode,childNode,edge)}childNode.dynamicEdges=[],this._containCircularEdgesFromNode(parentNode,childNode),delete this.nodes[childNode.id];var massBefore=parentNode.options.mass;childNode.clusterSession=this.clusterSession,parentNode.options.mass+=childNode.options.mass,parentNode.clusterSize+=childNode.clusterSize,parentNode.options.fontSize=Math.min(this.constants.clustering.maxFontSize,this.constants.nodes.fontSize+this.constants.clustering.fontSizeMultiplier*parentNode.clusterSize),parentNode.clusterSessions[parentNode.clusterSessions.length-1]!=this.clusterSession&&parentNode.clusterSessions.push(this.clusterSession),parentNode.formationScale=1==force?0:this.scale,parentNode.clearSizeCache(),parentNode.containedNodes[childNode.id].formationScale=parentNode.formationScale,childNode.clearVelocity(),parentNode.updateVelocity(massBefore),this.moving=!0},exports._updateDynamicEdges=function(){for(var i=0;i<this.nodeIndices.length;i++){var node=this.nodes[this.nodeIndices[i]],correction=(node.dynamicEdgesLength=node.dynamicEdges.length,0);if(1<node.dynamicEdgesLength)for(var j=0;j<node.dynamicEdgesLength-1;j++)for(var edgeToId=node.dynamicEdges[j].toId,edgeFromId=node.dynamicEdges[j].fromId,k=j+1;k<node.dynamicEdgesLength;k++)(node.dynamicEdges[k].toId==edgeToId&&node.dynamicEdges[k].fromId==edgeFromId||node.dynamicEdges[k].fromId==edgeToId&&node.dynamicEdges[k].toId==edgeFromId)&&(correction+=1);node.dynamicEdgesLength-=correction}},exports._addToContainedEdges=function(parentNode,childNode,edge){parentNode.containedEdges.hasOwnProperty(childNode.id)||(parentNode.containedEdges[childNode.id]=[]),parentNode.containedEdges[childNode.id].push(edge),delete this.edges[edge.id];for(var i=0;i<parentNode.dynamicEdges.length;i++)if(parentNode.dynamicEdges[i].id==edge.id){parentNode.dynamicEdges.splice(i,1);break}},exports._connectEdgeToCluster=function(parentNode,childNode,edge){edge.toId==edge.fromId?this._addToContainedEdges(parentNode,childNode,edge):(edge.toId==childNode.id?(edge.originalToId.push(childNode.id),edge.to=parentNode,edge.toId=parentNode.id):(edge.originalFromId.push(childNode.id),edge.from=parentNode,edge.fromId=parentNode.id),this._addToReroutedEdges(parentNode,childNode,edge))},exports._containCircularEdgesFromNode=function(parentNode,childNode){for(var i=0;i<parentNode.dynamicEdges.length;i++){var edge=parentNode.dynamicEdges[i];edge.toId==edge.fromId&&this._addToContainedEdges(parentNode,childNode,edge)}},exports._addToReroutedEdges=function(parentNode,childNode,edge){parentNode.reroutedEdges.hasOwnProperty(childNode.id)||(parentNode.reroutedEdges[childNode.id]=[]),parentNode.reroutedEdges[childNode.id].push(edge),parentNode.dynamicEdges.push(edge)},exports._connectEdgeBackToChild=function(parentNode,childNode){if(parentNode.reroutedEdges.hasOwnProperty(childNode.id)){for(var i=0;i<parentNode.reroutedEdges[childNode.id].length;i++){var edge=parentNode.reroutedEdges[childNode.id][i];edge.originalFromId[edge.originalFromId.length-1]==childNode.id?(edge.originalFromId.pop(),edge.fromId=childNode.id,edge.from=childNode):(edge.originalToId.pop(),edge.toId=childNode.id,edge.to=childNode),childNode.dynamicEdges.push(edge);for(var j=0;j<parentNode.dynamicEdges.length;j++)if(parentNode.dynamicEdges[j].id==edge.id){parentNode.dynamicEdges.splice(j,1);break}}delete parentNode.reroutedEdges[childNode.id]}},exports._validateEdges=function(parentNode){for(var i=0;i<parentNode.dynamicEdges.length;i++){var edge=parentNode.dynamicEdges[i];parentNode.id!=edge.toId&&parentNode.id!=edge.fromId&&parentNode.dynamicEdges.splice(i,1)}},exports._releaseContainedEdges=function(parentNode,childNode){for(var i=0;i<parentNode.containedEdges[childNode.id].length;i++){var edge=parentNode.containedEdges[childNode.id][i];this.edges[edge.id]=edge,childNode.dynamicEdges.push(edge),parentNode.dynamicEdges.push(edge)}delete parentNode.containedEdges[childNode.id]},exports.updateLabels=function(){var nodeId,node;for(nodeId in this.nodes)this.nodes.hasOwnProperty(nodeId)&&1<(node=this.nodes[nodeId]).clusterSize&&(node.label="[".concat(String(node.clusterSize),"]"));for(nodeId in this.nodes)this.nodes.hasOwnProperty(nodeId)&&1==(node=this.nodes[nodeId]).clusterSize&&(void 0!==node.originalLabel?node.label=node.originalLabel:node.label=String(node.id))},exports.normalizeClusterLevels=function(){var clusterLevel,nodeId,maxLevel=0,minLevel=1e9;for(nodeId in this.nodes)this.nodes.hasOwnProperty(nodeId)&&(maxLevel<(clusterLevel=this.nodes[nodeId].clusterSessions.length)&&(maxLevel=clusterLevel),clusterLevel<minLevel)&&(minLevel=clusterLevel);if(maxLevel-minLevel>this.constants.clustering.clusterLevelDifference){var amountOfNodes=this.nodeIndices.length,targetLevel=maxLevel-this.constants.clustering.clusterLevelDifference;for(nodeId in this.nodes)this.nodes.hasOwnProperty(nodeId)&&this.nodes[nodeId].clusterSessions.length<targetLevel&&this._clusterToSmallestNeighbour(this.nodes[nodeId]);this._updateNodeIndexList(),this._updateDynamicEdges(),this.nodeIndices.length!=amountOfNodes&&(this.clusterSession+=1)}},exports._nodeInActiveArea=function(node){return Math.abs(node.x-this.areaCenter.x)<=this.constants.clustering.activeAreaBoxSize/this.scale&&Math.abs(node.y-this.areaCenter.y)<=this.constants.clustering.activeAreaBoxSize/this.scale},exports.repositionNodes=function(){for(var i=0;i<this.nodeIndices.length;i++){var radius,angle,node=this.nodes[this.nodeIndices[i]];0!=node.xFixed&&0!=node.yFixed||(radius=+this.nodeIndices.length*Math.min(100,node.options.mass),angle=2*Math.PI*Math.random(),0==node.xFixed&&(node.x=radius*Math.cos(angle)),0==node.yFixed&&(node.y=radius*Math.sin(angle)),this._repositionBezierNodes(node))}},exports._getHubSize=function(){for(var average=0,averageSquared=0,hubCounter=0,largestHub=0,i=0;i<this.nodeIndices.length;i++){var node=this.nodes[this.nodeIndices[i]];node.dynamicEdgesLength>largestHub&&(largestHub=node.dynamicEdgesLength),average+=node.dynamicEdgesLength,averageSquared+=Math.pow(node.dynamicEdgesLength,2),hubCounter+=1}average/=hubCounter;var variance=(averageSquared/=hubCounter)-Math.pow(average,2),variance=Math.sqrt(variance);this.hubThreshold=Math.floor(average+2*variance),this.hubThreshold>largestHub&&(this.hubThreshold=largestHub)},exports._reduceAmountOfChains=function(fraction){this.hubThreshold=2;var nodeId,reduceAmount=Math.floor(this.nodeIndices.length*fraction);for(nodeId in this.nodes)this.nodes.hasOwnProperty(nodeId)&&2==this.nodes[nodeId].dynamicEdgesLength&&2<=this.nodes[nodeId].dynamicEdges.length&&0<reduceAmount&&(this._formClusterFromHub(this.nodes[nodeId],!0,!0,1),--reduceAmount)},exports._getChainFraction=function(){var nodeId,chains=0,total=0;for(nodeId in this.nodes)this.nodes.hasOwnProperty(nodeId)&&(2==this.nodes[nodeId].dynamicEdgesLength&&2<=this.nodes[nodeId].dynamicEdges.length&&(chains+=1),total+=1);return chains/total}},function(module,exports,__webpack_require__){var util=__webpack_require__(1);exports._putDataInSector=function(){this.sectors.active[this._sector()].nodes=this.nodes,this.sectors.active[this._sector()].edges=this.edges,this.sectors.active[this._sector()].nodeIndices=this.nodeIndices},exports._switchToSector=function(sectorId,sectorType){void 0===sectorType||"active"==sectorType?this._switchToActiveSector(sectorId):this._switchToFrozenSector(sectorId)},exports._switchToActiveSector=function(sectorId){this.nodeIndices=this.sectors.active[sectorId].nodeIndices,this.nodes=this.sectors.active[sectorId].nodes,this.edges=this.sectors.active[sectorId].edges},exports._switchToSupportSector=function(){this.nodeIndices=this.sectors.support.nodeIndices,this.nodes=this.sectors.support.nodes,this.edges=this.sectors.support.edges},exports._switchToFrozenSector=function(sectorId){this.nodeIndices=this.sectors.frozen[sectorId].nodeIndices,this.nodes=this.sectors.frozen[sectorId].nodes,this.edges=this.sectors.frozen[sectorId].edges},exports._loadLatestSector=function(){this._switchToSector(this._sector())},exports._sector=function(){return this.activeSector[this.activeSector.length-1]},exports._previousSector=function(){if(1<this.activeSector.length)return this.activeSector[this.activeSector.length-2];throw new TypeError("there are not enough sectors in the this.activeSector array.")},exports._setActiveSector=function(newId){this.activeSector.push(newId)},exports._forgetLastSector=function(){this.activeSector.pop()},exports._createNewSector=function(newId){this.sectors.active[newId]={nodes:{},edges:{},nodeIndices:[],formationScale:this.scale,drawingNode:void 0},this.sectors.active[newId].drawingNode=new Node({id:newId,color:{background:"#eaefef",border:"495c5e"}},{},{},this.constants),this.sectors.active[newId].drawingNode.clusterSize=2},exports._deleteActiveSector=function(sectorId){delete this.sectors.active[sectorId]},exports._deleteFrozenSector=function(sectorId){delete this.sectors.frozen[sectorId]},exports._freezeSector=function(sectorId){this.sectors.frozen[sectorId]=this.sectors.active[sectorId],this._deleteActiveSector(sectorId)},exports._activateSector=function(sectorId){this.sectors.active[sectorId]=this.sectors.frozen[sectorId],this._deleteFrozenSector(sectorId)},exports._mergeThisWithFrozen=function(sectorId){for(var nodeId in this.nodes)this.nodes.hasOwnProperty(nodeId)&&(this.sectors.frozen[sectorId].nodes[nodeId]=this.nodes[nodeId]);for(var edgeId in this.edges)this.edges.hasOwnProperty(edgeId)&&(this.sectors.frozen[sectorId].edges[edgeId]=this.edges[edgeId]);for(var i=0;i<this.nodeIndices.length;i++)this.sectors.frozen[sectorId].nodeIndices.push(this.nodeIndices[i])},exports._collapseThisToSingleCluster=function(){this.clusterToFit(1,!1)},exports._addSector=function(node){var sector=this._sector(),unqiueIdentifier=(delete this.nodes[node.id],util.randomUUID());this._freezeSector(sector),this._createNewSector(unqiueIdentifier),this._setActiveSector(unqiueIdentifier),this._switchToSector(this._sector()),this.nodes[node.id]=node},exports._collapseSector=function(){var previousSector,sector=this._sector();"default"!=sector&&(1==this.nodeIndices.length||this.sectors.active[sector].drawingNode.width*this.scale<this.constants.clustering.screenSizeThreshold*this.frame.canvas.clientWidth||this.sectors.active[sector].drawingNode.height*this.scale<this.constants.clustering.screenSizeThreshold*this.frame.canvas.clientHeight)&&(previousSector=this._previousSector(),this._collapseThisToSingleCluster(),this._mergeThisWithFrozen(previousSector),this._deleteActiveSector(sector),this._activateSector(previousSector),this._switchToSector(previousSector),this._forgetLastSector(),this._updateNodeIndexList(),this._updateCalculationNodes())},exports._doInAllActiveSectors=function(runFunction,argument){if(void 0===argument)for(var sector in this.sectors.active)this.sectors.active.hasOwnProperty(sector)&&(this._switchToActiveSector(sector),this[runFunction]());else for(var sector in this.sectors.active){var args;this.sectors.active.hasOwnProperty(sector)&&(this._switchToActiveSector(sector),1<(args=Array.prototype.splice.call(arguments,1)).length?this[runFunction](args[0],args[1]):this[runFunction](argument))}this._loadLatestSector()},exports._doInSupportSector=function(runFunction,argument){var args;void 0===argument?(this._switchToSupportSector(),this[runFunction]()):(this._switchToSupportSector(),1<(args=Array.prototype.splice.call(arguments,1)).length?this[runFunction](args[0],args[1]):this[runFunction](argument)),this._loadLatestSector()},exports._doInAllFrozenSectors=function(runFunction,argument){if(void 0===argument)for(var sector in this.sectors.frozen)this.sectors.frozen.hasOwnProperty(sector)&&(this._switchToFrozenSector(sector),this[runFunction]());else for(var sector in this.sectors.frozen){var args;this.sectors.frozen.hasOwnProperty(sector)&&(this._switchToFrozenSector(sector),1<(args=Array.prototype.splice.call(arguments,1)).length?this[runFunction](args[0],args[1]):this[runFunction](argument))}this._loadLatestSector()},exports._doInAllSectors=function(runFunction,argument){var args=Array.prototype.splice.call(arguments,1);void 0===argument?(this._doInAllActiveSectors(runFunction),this._doInAllFrozenSectors(runFunction)):1<args.length?(this._doInAllActiveSectors(runFunction,args[0],args[1]),this._doInAllFrozenSectors(runFunction,args[0],args[1])):(this._doInAllActiveSectors(runFunction,argument),this._doInAllFrozenSectors(runFunction,argument))},exports._clearNodeIndexList=function(){var sector=this._sector();this.sectors.active[sector].nodeIndices=[],this.nodeIndices=this.sectors.active[sector].nodeIndices},exports._drawSectorNodes=function(ctx,sectorType){var node,sector,minY=1e9,maxY=-1e9,minX=1e9,maxX=-1e9;for(sector in this.sectors[sectorType])if(this.sectors[sectorType].hasOwnProperty(sector)&&void 0!==this.sectors[sectorType][sector].drawingNode){for(var nodeId in this._switchToSector(sector,sectorType),maxY=-(minY=1e9),maxX=-(minX=1e9),this.nodes)this.nodes.hasOwnProperty(nodeId)&&((node=this.nodes[nodeId]).resize(ctx),minX>node.x-.5*node.width&&(minX=node.x-.5*node.width),maxX<node.x+.5*node.width&&(maxX=node.x+.5*node.width),minY>node.y-.5*node.height&&(minY=node.y-.5*node.height),maxY<node.y+.5*node.height)&&(maxY=node.y+.5*node.height);(node=this.sectors[sectorType][sector].drawingNode).x=.5*(maxX+minX),node.y=.5*(maxY+minY),node.width=2*(node.x-minX),node.height=2*(node.y-minY),node.radius=Math.sqrt(Math.pow(.5*node.width,2)+Math.pow(.5*node.height,2)),node.setScale(this.scale),node._drawCircle(ctx)}},exports._drawAllSectorNodes=function(ctx){this._drawSectorNodes(ctx,"frozen"),this._drawSectorNodes(ctx,"active"),this._loadLatestSector()}},function(module,exports,__webpack_require__){var Node=__webpack_require__(36);exports._getNodesOverlappingWith=function(object,overlappingNodes){var nodeId,nodes=this.nodes;for(nodeId in nodes)nodes.hasOwnProperty(nodeId)&&nodes[nodeId].isOverlappingWith(object)&&overlappingNodes.push(nodeId)},exports._getAllNodesOverlappingWith=function(object){var overlappingNodes=[];return this._doInAllActiveSectors("_getNodesOverlappingWith",object,overlappingNodes),overlappingNodes},exports._pointerToPositionObject=function(pointer){var x=this._XconvertDOMtoCanvas(pointer.x),pointer=this._YconvertDOMtoCanvas(pointer.y);return{left:x,top:pointer,right:x,bottom:pointer}},exports._getNodeAt=function(pointer){pointer=this._pointerToPositionObject(pointer),pointer=this._getAllNodesOverlappingWith(pointer);return 0<pointer.length?this.nodes[pointer[pointer.length-1]]:null},exports._getEdgesOverlappingWith=function(object,overlappingEdges){var edgeId,edges=this.edges;for(edgeId in edges)edges.hasOwnProperty(edgeId)&&edges[edgeId].isOverlappingWith(object)&&overlappingEdges.push(edgeId)},exports._getAllEdgesOverlappingWith=function(object){var overlappingEdges=[];return this._doInAllActiveSectors("_getEdgesOverlappingWith",object,overlappingEdges),overlappingEdges},exports._getEdgeAt=function(pointer){pointer=this._pointerToPositionObject(pointer),pointer=this._getAllEdgesOverlappingWith(pointer);return 0<pointer.length?this.edges[pointer[pointer.length-1]]:null},exports._addToSelection=function(obj){obj instanceof Node?this.selectionObj.nodes[obj.id]=obj:this.selectionObj.edges[obj.id]=obj},exports._addToHover=function(obj){obj instanceof Node?this.hoverObj.nodes[obj.id]=obj:this.hoverObj.edges[obj.id]=obj},exports._removeFromSelection=function(obj){obj instanceof Node?delete this.selectionObj.nodes[obj.id]:delete this.selectionObj.edges[obj.id]},exports._unselectAll=function(doNotTrigger){for(var nodeId in void 0===doNotTrigger&&(doNotTrigger=!1),this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(nodeId)&&this.selectionObj.nodes[nodeId].unselect();for(var edgeId in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(edgeId)&&this.selectionObj.edges[edgeId].unselect();this.selectionObj={nodes:{},edges:{}},0==doNotTrigger&&this.emit("select",this.getSelection())},exports._unselectClusters=function(doNotTrigger){for(var nodeId in void 0===doNotTrigger&&(doNotTrigger=!1),this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(nodeId)&&1<this.selectionObj.nodes[nodeId].clusterSize&&(this.selectionObj.nodes[nodeId].unselect(),this._removeFromSelection(this.selectionObj.nodes[nodeId]));0==doNotTrigger&&this.emit("select",this.getSelection())},exports._getSelectedNodeCount=function(){var nodeId,count=0;for(nodeId in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(nodeId)&&(count+=1);return count},exports._getSelectedNode=function(){for(var nodeId in this.selectionObj.nodes)if(this.selectionObj.nodes.hasOwnProperty(nodeId))return this.selectionObj.nodes[nodeId];return null},exports._getSelectedEdge=function(){for(var edgeId in this.selectionObj.edges)if(this.selectionObj.edges.hasOwnProperty(edgeId))return this.selectionObj.edges[edgeId];return null},exports._getSelectedEdgeCount=function(){var edgeId,count=0;for(edgeId in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(edgeId)&&(count+=1);return count},exports._getSelectedObjectCount=function(){var nodeId,edgeId,count=0;for(nodeId in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(nodeId)&&(count+=1);for(edgeId in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(edgeId)&&(count+=1);return count},exports._selectionIsEmpty=function(){for(var nodeId in this.selectionObj.nodes)if(this.selectionObj.nodes.hasOwnProperty(nodeId))return!1;for(var edgeId in this.selectionObj.edges)if(this.selectionObj.edges.hasOwnProperty(edgeId))return!1;return!0},exports._clusterInSelection=function(){for(var nodeId in this.selectionObj.nodes)if(this.selectionObj.nodes.hasOwnProperty(nodeId)&&1<this.selectionObj.nodes[nodeId].clusterSize)return!0;return!1},exports._selectConnectedEdges=function(node){for(var i=0;i<node.dynamicEdges.length;i++){var edge=node.dynamicEdges[i];edge.select(),this._addToSelection(edge)}},exports._hoverConnectedEdges=function(node){for(var i=0;i<node.dynamicEdges.length;i++){var edge=node.dynamicEdges[i];edge.hover=!0,this._addToHover(edge)}},exports._unselectConnectedEdges=function(node){for(var i=0;i<node.dynamicEdges.length;i++){var edge=node.dynamicEdges[i];edge.unselect(),this._removeFromSelection(edge)}},exports._selectObject=function(object,append,doNotTrigger,highlightEdges){void 0===doNotTrigger&&(doNotTrigger=!1),void 0===highlightEdges&&(highlightEdges=!0),0==this._selectionIsEmpty()&&0==append&&0==this.forceAppendSelection&&this._unselectAll(!0),0==object.selected?(object.select(),this._addToSelection(object),object instanceof Node&&0==this.blockConnectingEdgeSelection&&1==highlightEdges&&this._selectConnectedEdges(object)):(object.unselect(),this._removeFromSelection(object)),0==doNotTrigger&&this.emit("select",this.getSelection())},exports._blurObject=function(object){1==object.hover&&(object.hover=!1,this.emit("blurNode",{node:object.id}))},exports._hoverObject=function(object){0==object.hover&&(object.hover=!0,this._addToHover(object),object instanceof Node)&&this.emit("hoverNode",{node:object.id}),object instanceof Node&&this._hoverConnectedEdges(object)},exports._handleTouch=function(pointer){},exports._handleTap=function(pointer){var node=this._getNodeAt(pointer);null!=node?this._selectObject(node,!1):null!=(node=this._getEdgeAt(pointer))?this._selectObject(node,!1):this._unselectAll(),this.emit("click",this.getSelection()),this._redraw()},exports._handleDoubleTap=function(pointer){var node=this._getNodeAt(pointer);null!=node&&void 0!==node&&(this.areaCenter={x:this._XconvertDOMtoCanvas(pointer.x),y:this._YconvertDOMtoCanvas(pointer.y)},this.openCluster(node)),this.emit("doubleClick",this.getSelection())},exports._handleOnHold=function(pointer){var node=this._getNodeAt(pointer);null!=node?this._selectObject(node,!0):null!=(node=this._getEdgeAt(pointer))&&this._selectObject(node,!0),this._redraw()},exports._handleOnRelease=function(pointer){},exports.getSelection=function(){return{nodes:this.getSelectedNodes(),edges:this.getSelectedEdges()}},exports.getSelectedNodes=function(){var nodeId,idArray=[];for(nodeId in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(nodeId)&&idArray.push(nodeId);return idArray},exports.getSelectedEdges=function(){var edgeId,idArray=[];for(edgeId in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(edgeId)&&idArray.push(edgeId);return idArray},exports.setSelection=function(selection){var i,iMax;if(!selection||null==selection.length)throw"Selection must be an array with ids";for(this._unselectAll(!0),i=0,iMax=selection.length;i<iMax;i++){var id=selection[i],node=this.nodes[id];if(!node)throw new RangeError('Node with id "'+id+'" not found');this._selectObject(node,!0,!0)}console.log("setSelection is deprecated. Please use selectNodes instead."),this.redraw()},exports.selectNodes=function(selection,highlightEdges){var i,iMax;if(!selection||null==selection.length)throw"Selection must be an array with ids";for(this._unselectAll(!0),i=0,iMax=selection.length;i<iMax;i++){var id=selection[i],node=this.nodes[id];if(!node)throw new RangeError('Node with id "'+id+'" not found');this._selectObject(node,!0,!0,highlightEdges)}this.redraw()},exports.selectEdges=function(selection){var i,iMax;if(!selection||null==selection.length)throw"Selection must be an array with ids";for(this._unselectAll(!0),i=0,iMax=selection.length;i<iMax;i++){var id=selection[i],edge=this.edges[id];if(!edge)throw new RangeError('Edge with id "'+id+'" not found');this._selectObject(edge,!0,!0,highlightEdges)}this.redraw()},exports._updateSelection=function(){for(var nodeId in this.selectionObj.nodes)!this.selectionObj.nodes.hasOwnProperty(nodeId)||this.nodes.hasOwnProperty(nodeId)||delete this.selectionObj.nodes[nodeId];for(var edgeId in this.selectionObj.edges)!this.selectionObj.edges.hasOwnProperty(edgeId)||this.edges.hasOwnProperty(edgeId)||delete this.selectionObj.edges[edgeId]}},function(module,exports,__webpack_require__){var util=__webpack_require__(1),Node=__webpack_require__(36),Edge=__webpack_require__(33);exports._clearManipulatorBar=function(){for(;this.manipulationDiv.hasChildNodes();)this.manipulationDiv.removeChild(this.manipulationDiv.firstChild)},exports._restoreOverloadedFunctions=function(){for(var functionName in this.cachedFunctions)this.cachedFunctions.hasOwnProperty(functionName)&&(this[functionName]=this.cachedFunctions[functionName])},exports._toggleEditMode=function(){this.editMode=!this.editMode;var toolbar=document.getElementById("network-manipulationDiv"),closeDiv=document.getElementById("network-manipulation-closeDiv"),editModeDiv=document.getElementById("network-manipulation-editMode");1==this.editMode?(toolbar.style.display="block",closeDiv.style.display="block",editModeDiv.style.display="none",closeDiv.onclick=this._toggleEditMode.bind(this)):(toolbar.style.display="none",closeDiv.style.display="none",editModeDiv.style.display="block",closeDiv.onclick=null),this._createManipulatorBar()},exports._createManipulatorBar=function(){if(this.boundFunction&&this.off("select",this.boundFunction),void 0!==this.edgeBeingEdited&&(this.edgeBeingEdited._disableControlNodes(),this.edgeBeingEdited=void 0,this.selectedControlNode=null,this.controlNodesActive=!1),this._restoreOverloadedFunctions(),this.freezeSimulation=!1,this.blockConnectingEdgeSelection=!1,this.forceAppendSelection=!1,1==this.editMode){for(;this.manipulationDiv.hasChildNodes();)this.manipulationDiv.removeChild(this.manipulationDiv.firstChild);this.manipulationDiv.innerHTML="<span class='network-manipulationUI add' id='network-manipulate-addNode'><span class='network-manipulationLabel'>"+this.constants.labels.add+"</span></span><div class='network-seperatorLine'></div><span class='network-manipulationUI connect' id='network-manipulate-connectNode'><span class='network-manipulationLabel'>"+this.constants.labels.link+"</span></span>",1==this._getSelectedNodeCount()&&this.triggerFunctions.edit?this.manipulationDiv.innerHTML+="<div class='network-seperatorLine'></div><span class='network-manipulationUI edit' id='network-manipulate-editNode'><span class='network-manipulationLabel'>"+this.constants.labels.editNode+"</span></span>":1==this._getSelectedEdgeCount()&&0==this._getSelectedNodeCount()&&(this.manipulationDiv.innerHTML+="<div class='network-seperatorLine'></div><span class='network-manipulationUI edit' id='network-manipulate-editEdge'><span class='network-manipulationLabel'>"+this.constants.labels.editEdge+"</span></span>"),0==this._selectionIsEmpty()&&(this.manipulationDiv.innerHTML+="<div class='network-seperatorLine'></div><span class='network-manipulationUI delete' id='network-manipulate-delete'><span class='network-manipulationLabel'>"+this.constants.labels.del+"</span></span>"),document.getElementById("network-manipulate-addNode").onclick=this._createAddNodeToolbar.bind(this),document.getElementById("network-manipulate-connectNode").onclick=this._createAddEdgeToolbar.bind(this),1==this._getSelectedNodeCount()&&this.triggerFunctions.edit?document.getElementById("network-manipulate-editNode").onclick=this._editNode.bind(this):1==this._getSelectedEdgeCount()&&0==this._getSelectedNodeCount()&&(document.getElementById("network-manipulate-editEdge").onclick=this._createEditEdgeToolbar.bind(this)),0==this._selectionIsEmpty()&&(document.getElementById("network-manipulate-delete").onclick=this._deleteSelected.bind(this)),document.getElementById("network-manipulation-closeDiv").onclick=this._toggleEditMode.bind(this),this.boundFunction=this._createManipulatorBar.bind(this),this.on("select",this.boundFunction)}else this.editModeDiv.innerHTML="<span class='network-manipulationUI edit editmode' id='network-manipulate-editModeButton'><span class='network-manipulationLabel'>"+this.constants.labels.edit+"</span></span>",document.getElementById("network-manipulate-editModeButton").onclick=this._toggleEditMode.bind(this)},exports._createAddNodeToolbar=function(){this._clearManipulatorBar(),this.boundFunction&&this.off("select",this.boundFunction),this.manipulationDiv.innerHTML="<span class='network-manipulationUI back' id='network-manipulate-back'><span class='network-manipulationLabel'>"+this.constants.labels.back+" </span></span><div class='network-seperatorLine'></div><span class='network-manipulationUI none' id='network-manipulate-back'><span id='network-manipulatorLabel' class='network-manipulationLabel'>"+this.constants.labels.addDescription+"</span></span>",document.getElementById("network-manipulate-back").onclick=this._createManipulatorBar.bind(this),this.boundFunction=this._addNode.bind(this),this.on("select",this.boundFunction)},exports._createAddEdgeToolbar=function(){this._clearManipulatorBar(),this._unselectAll(!0),this.freezeSimulation=!0,this.boundFunction&&this.off("select",this.boundFunction),this._unselectAll(),this.forceAppendSelection=!1,this.blockConnectingEdgeSelection=!0,this.manipulationDiv.innerHTML="<span class='network-manipulationUI back' id='network-manipulate-back'><span class='network-manipulationLabel'>"+this.constants.labels.back+" </span></span><div class='network-seperatorLine'></div><span class='network-manipulationUI none' id='network-manipulate-back'><span id='network-manipulatorLabel' class='network-manipulationLabel'>"+this.constants.labels.linkDescription+"</span></span>",document.getElementById("network-manipulate-back").onclick=this._createManipulatorBar.bind(this),this.boundFunction=this._handleConnect.bind(this),this.on("select",this.boundFunction),this.cachedFunctions._handleTouch=this._handleTouch,this.cachedFunctions._handleOnRelease=this._handleOnRelease,this._handleTouch=this._handleConnect,this._handleOnRelease=this._finishConnect,this._redraw()},exports._createEditEdgeToolbar=function(){this._clearManipulatorBar(),this.controlNodesActive=!0,this.boundFunction&&this.off("select",this.boundFunction),this.edgeBeingEdited=this._getSelectedEdge(),this.edgeBeingEdited._enableControlNodes(),this.manipulationDiv.innerHTML="<span class='network-manipulationUI back' id='network-manipulate-back'><span class='network-manipulationLabel'>"+this.constants.labels.back+" </span></span><div class='network-seperatorLine'></div><span class='network-manipulationUI none' id='network-manipulate-back'><span id='network-manipulatorLabel' class='network-manipulationLabel'>"+this.constants.labels.editEdgeDescription+"</span></span>",document.getElementById("network-manipulate-back").onclick=this._createManipulatorBar.bind(this),this.cachedFunctions._handleTouch=this._handleTouch,this.cachedFunctions._handleOnRelease=this._handleOnRelease,this.cachedFunctions._handleTap=this._handleTap,this.cachedFunctions._handleDragStart=this._handleDragStart,this.cachedFunctions._handleOnDrag=this._handleOnDrag,this._handleTouch=this._selectControlNode,this._handleTap=function(){},this._handleOnDrag=this._controlNodeDrag,this._handleDragStart=function(){},this._handleOnRelease=this._releaseControlNode,this._redraw()},exports._selectControlNode=function(pointer){this.edgeBeingEdited.controlNodes.from.unselect(),this.edgeBeingEdited.controlNodes.to.unselect(),this.selectedControlNode=this.edgeBeingEdited._getSelectedControlNode(this._XconvertDOMtoCanvas(pointer.x),this._YconvertDOMtoCanvas(pointer.y)),null!==this.selectedControlNode&&(this.selectedControlNode.select(),this.freezeSimulation=!0),this._redraw()},exports._controlNodeDrag=function(event){event=this._getPointer(event.gesture.center);null!==this.selectedControlNode&&void 0!==this.selectedControlNode&&(this.selectedControlNode.x=this._XconvertDOMtoCanvas(event.x),this.selectedControlNode.y=this._YconvertDOMtoCanvas(event.y)),this._redraw()},exports._releaseControlNode=function(pointer){pointer=this._getNodeAt(pointer);null!=pointer?(1==this.edgeBeingEdited.controlNodes.from.selected&&(this._editEdge(pointer.id,this.edgeBeingEdited.to.id),this.edgeBeingEdited.controlNodes.from.unselect()),1==this.edgeBeingEdited.controlNodes.to.selected&&(this._editEdge(this.edgeBeingEdited.from.id,pointer.id),this.edgeBeingEdited.controlNodes.to.unselect())):this.edgeBeingEdited._restoreControlNodes(),this.freezeSimulation=!1,this._redraw()},exports._handleConnect=function(pointer){0==this._getSelectedNodeCount()&&null!=(pointer=this._getNodeAt(pointer))&&(1<pointer.clusterSize?alert("Cannot create edges to a cluster."):(this._selectObject(pointer,!1),this.sectors.support.nodes.targetNode=new Node({id:"targetNode"},{},{},this.constants),this.sectors.support.nodes.targetNode.x=pointer.x,this.sectors.support.nodes.targetNode.y=pointer.y,this.sectors.support.nodes.targetViaNode=new Node({id:"targetViaNode"},{},{},this.constants),this.sectors.support.nodes.targetViaNode.x=pointer.x,this.sectors.support.nodes.targetViaNode.y=pointer.y,this.sectors.support.nodes.targetViaNode.parentEdgeId="connectionEdge",this.edges.connectionEdge=new Edge({id:"connectionEdge",from:pointer.id,to:this.sectors.support.nodes.targetNode.id},this,this.constants),this.edges.connectionEdge.from=pointer,this.edges.connectionEdge.connected=!0,this.edges.connectionEdge.smooth=!0,this.edges.connectionEdge.selected=!0,this.edges.connectionEdge.to=this.sectors.support.nodes.targetNode,this.edges.connectionEdge.via=this.sectors.support.nodes.targetViaNode,this.cachedFunctions._handleOnDrag=this._handleOnDrag,this._handleOnDrag=function(event){event=this._getPointer(event.gesture.center);this.sectors.support.nodes.targetNode.x=this._XconvertDOMtoCanvas(event.x),this.sectors.support.nodes.targetNode.y=this._YconvertDOMtoCanvas(event.y),this.sectors.support.nodes.targetViaNode.x=.5*(this._XconvertDOMtoCanvas(event.x)+this.edges.connectionEdge.from.x),this.sectors.support.nodes.targetViaNode.y=this._YconvertDOMtoCanvas(event.y)},this.moving=!0,this.start()))},exports._finishConnect=function(pointer){var connectFromId;1==this._getSelectedNodeCount()&&(this._handleOnDrag=this.cachedFunctions._handleOnDrag,delete this.cachedFunctions._handleOnDrag,connectFromId=this.edges.connectionEdge.fromId,delete this.edges.connectionEdge,delete this.sectors.support.nodes.targetNode,delete this.sectors.support.nodes.targetViaNode,null!=(pointer=this._getNodeAt(pointer))&&(1<pointer.clusterSize?alert("Cannot create edges to a cluster."):(this._createEdge(connectFromId,pointer.id),this._createManipulatorBar())),this._unselectAll())},exports._addNode=function(){var positionObject,me;this._selectionIsEmpty()&&1==this.editMode&&(positionObject=this._pointerToPositionObject(this.pointerPosition),positionObject={id:util.randomUUID(),x:positionObject.left,y:positionObject.top,label:"new",allowedToMoveX:!0,allowedToMoveY:!0},this.triggerFunctions.add?2==this.triggerFunctions.add.length?(me=this).triggerFunctions.add(positionObject,function(finalizedData){me.nodesData.add(finalizedData),me._createManipulatorBar(),me.moving=!0,me.start()}):(alert(this.constants.labels.addError),this._createManipulatorBar(),this.moving=!0,this.start()):(this.nodesData.add(positionObject),this._createManipulatorBar(),this.moving=!0,this.start()))},exports._createEdge=function(sourceNodeId,targetNodeId){var me;1==this.editMode&&(sourceNodeId={from:sourceNodeId,to:targetNodeId},this.triggerFunctions.connect?2==this.triggerFunctions.connect.length?(me=this).triggerFunctions.connect(sourceNodeId,function(finalizedData){me.edgesData.add(finalizedData),me.moving=!0,me.start()}):(alert(this.constants.labels.linkError),this.moving=!0,this.start()):(this.edgesData.add(sourceNodeId),this.moving=!0,this.start()))},exports._editEdge=function(sourceNodeId,targetNodeId){var me;1==this.editMode&&(sourceNodeId={id:this.edgeBeingEdited.id,from:sourceNodeId,to:targetNodeId},this.triggerFunctions.editEdge?2==this.triggerFunctions.editEdge.length?(me=this).triggerFunctions.editEdge(sourceNodeId,function(finalizedData){me.edgesData.update(finalizedData),me.moving=!0,me.start()}):(alert(this.constants.labels.linkError),this.moving=!0,this.start()):(this.edgesData.update(sourceNodeId),this.moving=!0,this.start()))},exports._editNode=function(){var node,me;this.triggerFunctions.edit&&1==this.editMode?(node={id:(node=this._getSelectedNode()).id,label:node.label,group:node.options.group,shape:node.options.shape,color:{background:node.options.color.background,border:node.options.color.border,highlight:{background:node.options.color.highlight.background,border:node.options.color.highlight.border}}},2==this.triggerFunctions.edit.length?(me=this).triggerFunctions.edit(node,function(finalizedData){me.nodesData.update(finalizedData),me._createManipulatorBar(),me.moving=!0,me.start()}):alert(this.constants.labels.editError)):alert(this.constants.labels.editBoundError)},exports._deleteSelected=function(){var selectedNodes,selectedEdges,me,data;this._selectionIsEmpty()||1!=this.editMode||(this._clusterInSelection()?alert(this.constants.labels.deleteClusterError):(selectedNodes=this.getSelectedNodes(),selectedEdges=this.getSelectedEdges(),this.triggerFunctions.del?(data={nodes:selectedNodes,edges:selectedEdges},(me=this).triggerFunctions.del.length=2,this.triggerFunctions.del(data,function(finalizedData){me.edgesData.remove(finalizedData.edges),me.nodesData.remove(finalizedData.nodes),me._unselectAll(),me.moving=!0,me.start()})):(this.edgesData.remove(selectedEdges),this.nodesData.remove(selectedNodes),this._unselectAll(),this.moving=!0,this.start())))}},function(module,exports,__webpack_require__){var util=__webpack_require__(1),Hammer=__webpack_require__(41);exports._cleanNavigation=function(){var wrapper=document.getElementById("network-navigation_wrapper");null!=wrapper&&this.containerElement.removeChild(wrapper),document.onmouseup=null},exports._loadNavigationElements=function(){this._cleanNavigation(),this.navigationDivs={};for(var navigationDivs=["up","down","left","right","zoomIn","zoomOut","zoomExtends"],navigationDivActions=["_moveUp","_moveDown","_moveLeft","_moveRight","_zoomIn","_zoomOut","zoomExtent"],i=(this.navigationDivs.wrapper=document.createElement("div"),this.navigationDivs.wrapper.id="network-navigation_wrapper",this.navigationDivs.wrapper.style.position="absolute",this.navigationDivs.wrapper.style.width=this.frame.canvas.clientWidth+"px",this.navigationDivs.wrapper.style.height=this.frame.canvas.clientHeight+"px",this.containerElement.insertBefore(this.navigationDivs.wrapper,this.frame),0);i<navigationDivs.length;i++)this.navigationDivs[navigationDivs[i]]=document.createElement("div"),this.navigationDivs[navigationDivs[i]].id="network-navigation_"+navigationDivs[i],this.navigationDivs[navigationDivs[i]].className="network-navigation "+navigationDivs[i],this.navigationDivs.wrapper.appendChild(this.navigationDivs[navigationDivs[i]]),Hammer(this.navigationDivs[navigationDivs[i]],{prevent_default:!0}).on("touch",this[navigationDivActions[i]].bind(this));Hammer(document,{prevent_default:!1}).on("release",this._stopMovement.bind(this))},exports._stopMovement=function(){this._xStopMoving(),this._yStopMoving(),this._stopZoom()},exports._moveUp=function(event){this.yIncrement=this.constants.keyboard.speed.y,this.start()},exports._moveDown=function(event){this.yIncrement=-this.constants.keyboard.speed.y,this.start()},exports._moveLeft=function(event){this.xIncrement=this.constants.keyboard.speed.x,this.start()},exports._moveRight=function(event){this.xIncrement=-this.constants.keyboard.speed.y,this.start()},exports._zoomIn=function(event){this.zoomIncrement=this.constants.keyboard.speed.zoom,this.start()},exports._zoomOut=function(){this.zoomIncrement=-this.constants.keyboard.speed.zoom,this.start(),util.preventDefault(event)},exports._stopZoom=function(){this.zoomIncrement=0},exports._yStopMoving=function(){this.yIncrement=0},exports._xStopMoving=function(){this.xIncrement=0}},function(module,exports,__webpack_require__){exports._resetLevels=function(){for(var nodeId in this.nodes)this.nodes.hasOwnProperty(nodeId)&&0==(nodeId=this.nodes[nodeId]).preassignedLevel&&(nodeId.level=-1)},exports._setupHierarchicalLayout=function(){if(1==this.constants.hierarchicalLayout.enabled&&0<this.nodeIndices.length){"RL"==this.constants.hierarchicalLayout.direction||"DU"==this.constants.hierarchicalLayout.direction?this.constants.hierarchicalLayout.levelSeparation*=-1:this.constants.hierarchicalLayout.levelSeparation=Math.abs(this.constants.hierarchicalLayout.levelSeparation),"RL"==this.constants.hierarchicalLayout.direction||"LR"==this.constants.hierarchicalLayout.direction?1==this.constants.smoothCurves.enabled&&(this.constants.smoothCurves.type="vertical"):1==this.constants.smoothCurves.enabled&&(this.constants.smoothCurves.type="horizontal");var node,nodeId,distribution,hubsize=0,definedLevel=!1,undefinedLevel=!1;for(nodeId in this.nodes)this.nodes.hasOwnProperty(nodeId)&&(-1!=(node=this.nodes[nodeId]).level?definedLevel=!0:undefinedLevel=!0,hubsize<node.edges.length)&&(hubsize=node.edges.length);1==undefinedLevel&&1==definedLevel?(alert("To use the hierarchical layout, nodes require either no predefined levels or levels have to be defined for all nodes."),this.zoomExtent(!0,this.constants.clustering.enabled),this.constants.clustering.enabled||this.start()):(this._changeConstants(),1==undefinedLevel&&this._determineLevels(hubsize),distribution=this._getDistribution(),this._placeNodesByHierarchy(distribution),this.start())}},exports._placeNodesByHierarchy=function(distribution){var nodeId,node,level;for(level in distribution)if(distribution.hasOwnProperty(level))for(nodeId in distribution[level].nodes)distribution[level].nodes.hasOwnProperty(nodeId)&&(node=distribution[level].nodes[nodeId],"UD"==this.constants.hierarchicalLayout.direction||"DU"==this.constants.hierarchicalLayout.direction?node.xFixed&&(node.x=distribution[level].minPos,node.xFixed=!1,distribution[level].minPos+=distribution[level].nodeSpacing):node.yFixed&&(node.y=distribution[level].minPos,node.yFixed=!1,distribution[level].minPos+=distribution[level].nodeSpacing),this._placeBranchNodes(node.edges,node.id,distribution,node.level));this._stabilize()},exports._getDistribution=function(){var nodeId,node,level,distribution={};for(nodeId in this.nodes)this.nodes.hasOwnProperty(nodeId)&&((node=this.nodes[nodeId]).xFixed=!0,node.yFixed=!0,"UD"==this.constants.hierarchicalLayout.direction||"DU"==this.constants.hierarchicalLayout.direction?node.y=this.constants.hierarchicalLayout.levelSeparation*node.level:node.x=this.constants.hierarchicalLayout.levelSeparation*node.level,void 0===distribution[node.level]&&(distribution[node.level]={amount:0,nodes:{},minPos:0,nodeSpacing:0}),distribution[node.level].amount+=1,distribution[node.level].nodes[nodeId]=node);var maxCount=0;for(level in distribution)distribution.hasOwnProperty(level)&&maxCount<distribution[level].amount&&(maxCount=distribution[level].amount);for(level in distribution)distribution.hasOwnProperty(level)&&(distribution[level].nodeSpacing=(maxCount+1)*this.constants.hierarchicalLayout.nodeSpacing,distribution[level].nodeSpacing/=distribution[level].amount+1,distribution[level].minPos=distribution[level].nodeSpacing-.5*(distribution[level].amount+1)*distribution[level].nodeSpacing);return distribution},exports._determineLevels=function(hubsize){var nodeId,node;for(nodeId in this.nodes)this.nodes.hasOwnProperty(nodeId)&&(node=this.nodes[nodeId]).edges.length==hubsize&&(node.level=0);for(nodeId in this.nodes)this.nodes.hasOwnProperty(nodeId)&&0==(node=this.nodes[nodeId]).level&&this._setLevel(1,node.edges,node.id)},exports._changeConstants=function(){this.constants.clustering.enabled=!1,this.constants.physics.barnesHut.enabled=!1,this.constants.physics.hierarchicalRepulsion.enabled=!0,this._loadSelectedForceSolver(),1==this.constants.smoothCurves.enabled&&(this.constants.smoothCurves.dynamic=!1),this._configureSmoothCurves()},exports._placeBranchNodes=function(edges,parentId,distribution,parentLevel){for(var i=0;i<edges.length;i++){var childNode=null,childNode=edges[i].toId==parentId?edges[i].from:edges[i].to,nodeMoved=!1;"UD"==this.constants.hierarchicalLayout.direction||"DU"==this.constants.hierarchicalLayout.direction?childNode.xFixed&&childNode.level>parentLevel&&(childNode.xFixed=!1,childNode.x=distribution[childNode.level].minPos,nodeMoved=!0):childNode.yFixed&&childNode.level>parentLevel&&(childNode.yFixed=!1,childNode.y=distribution[childNode.level].minPos,nodeMoved=!0),1==nodeMoved&&(distribution[childNode.level].minPos+=distribution[childNode.level].nodeSpacing,1<childNode.edges.length)&&this._placeBranchNodes(childNode.edges,childNode.id,distribution,childNode.level)}},exports._setLevel=function(level,edges,parentId){for(var i=0;i<edges.length;i++){var childNode=null;(-1==(childNode=edges[i].toId==parentId?edges[i].from:edges[i].to).level||childNode.level>level)&&(childNode.level=level,1<edges.length)&&this._setLevel(level+1,childNode.edges,childNode.id)}},exports._restoreNodes=function(){for(var nodeId in this.nodes)this.nodes.hasOwnProperty(nodeId)&&(this.nodes[nodeId].xFixed=!1,this.nodes[nodeId].yFixed=!1)}},function(module,exports,__webpack_require__){var util=__webpack_require__(1),RepulsionMixin=__webpack_require__(59),HierarchialRepulsionMixin=__webpack_require__(60),BarnesHutMixin=__webpack_require__(61);function switchConfigurations(){var ids=["graph_BH_table","graph_R_table","graph_H_table"],radioButton=document.querySelector('input[name="graph_physicsMethod"]:checked').value,tableId="graph_"+radioButton+"_table",table=document.getElementById(tableId);table.style.display="block";for(var i=0;i<ids.length;i++)ids[i]!=tableId&&((table=document.getElementById(ids[i])).style.display="none");this._restoreNodes(),"R"==radioButton?(this.constants.hierarchicalLayout.enabled=!1,this.constants.physics.hierarchicalRepulsion.enabled=!1,this.constants.physics.barnesHut.enabled=!1):"H"==radioButton?0==this.constants.hierarchicalLayout.enabled&&(this.constants.hierarchicalLayout.enabled=!0,this.constants.physics.hierarchicalRepulsion.enabled=!0,this.constants.physics.barnesHut.enabled=!1,this.constants.smoothCurves.enabled=!1,this._setupHierarchicalLayout()):(this.constants.hierarchicalLayout.enabled=!1,this.constants.physics.hierarchicalRepulsion.enabled=!1,this.constants.physics.barnesHut.enabled=!0),this._loadSelectedForceSolver();radioButton=document.getElementById("graph_toggleSmooth");1==this.constants.smoothCurves.enabled?radioButton.style.background="#A4FF56":radioButton.style.background="#FF8532",this.moving=!0,this.start()}function showValueOfRange(id,map,constantsVariableName){var valueId=id+"_value",id=document.getElementById(id).value;map instanceof Array?(document.getElementById(valueId).value=map[parseInt(id)],this._overWriteGraphConstants(constantsVariableName,map[parseInt(id)])):(document.getElementById(valueId).value=parseInt(map)*parseFloat(id),this._overWriteGraphConstants(constantsVariableName,parseInt(map)*parseFloat(id))),"hierarchicalLayout_direction"!=constantsVariableName&&"hierarchicalLayout_levelSeparation"!=constantsVariableName&&"hierarchicalLayout_nodeSpacing"!=constantsVariableName||this._setupHierarchicalLayout(),this.moving=!0,this.start()}exports._toggleBarnesHut=function(){this.constants.physics.barnesHut.enabled=!this.constants.physics.barnesHut.enabled,this._loadSelectedForceSolver(),this.moving=!0,this.start()},exports._loadSelectedForceSolver=function(){1==this.constants.physics.barnesHut.enabled?(this._clearMixin(RepulsionMixin),this._clearMixin(HierarchialRepulsionMixin),this.constants.physics.centralGravity=this.constants.physics.barnesHut.centralGravity,this.constants.physics.springLength=this.constants.physics.barnesHut.springLength,this.constants.physics.springConstant=this.constants.physics.barnesHut.springConstant,this.constants.physics.damping=this.constants.physics.barnesHut.damping,this._loadMixin(BarnesHutMixin)):1==this.constants.physics.hierarchicalRepulsion.enabled?(this._clearMixin(BarnesHutMixin),this._clearMixin(RepulsionMixin),this.constants.physics.centralGravity=this.constants.physics.hierarchicalRepulsion.centralGravity,this.constants.physics.springLength=this.constants.physics.hierarchicalRepulsion.springLength,this.constants.physics.springConstant=this.constants.physics.hierarchicalRepulsion.springConstant,this.constants.physics.damping=this.constants.physics.hierarchicalRepulsion.damping,this._loadMixin(HierarchialRepulsionMixin)):(this._clearMixin(BarnesHutMixin),this._clearMixin(HierarchialRepulsionMixin),this.barnesHutTree=void 0,this.constants.physics.centralGravity=this.constants.physics.repulsion.centralGravity,this.constants.physics.springLength=this.constants.physics.repulsion.springLength,this.constants.physics.springConstant=this.constants.physics.repulsion.springConstant,this.constants.physics.damping=this.constants.physics.repulsion.damping,this._loadMixin(RepulsionMixin))},exports._initializeForceCalculation=function(){1==this.nodeIndices.length?this.nodes[this.nodeIndices[0]]._setForce(0,0):(this.nodeIndices.length>this.constants.clustering.clusterThreshold&&1==this.constants.clustering.enabled&&this.clusterToFit(this.constants.clustering.reduceToNodes,!1),this._calculateForces())},exports._calculateForces=function(){this._calculateGravitationalForces(),this._calculateNodeForces(),0<this.constants.physics.springConstant&&(1==this.constants.smoothCurves.enabled&&1==this.constants.smoothCurves.dynamic?this._calculateSpringForcesWithSupport():1==this.constants.physics.hierarchicalRepulsion.enabled?this._calculateHierarchicalSpringForces():this._calculateSpringForces())},exports._updateCalculationNodes=function(){if(1==this.constants.smoothCurves.enabled&&1==this.constants.smoothCurves.dynamic){for(var nodeId in this.calculationNodes={},this.calculationNodeIndices=[],this.nodes)this.nodes.hasOwnProperty(nodeId)&&(this.calculationNodes[nodeId]=this.nodes[nodeId]);var supportNodeId,idx,supportNodes=this.sectors.support.nodes;for(supportNodeId in supportNodes)supportNodes.hasOwnProperty(supportNodeId)&&(this.edges.hasOwnProperty(supportNodes[supportNodeId].parentEdgeId)?this.calculationNodes[supportNodeId]=supportNodes[supportNodeId]:supportNodes[supportNodeId]._setForce(0,0));for(idx in this.calculationNodes)this.calculationNodes.hasOwnProperty(idx)&&this.calculationNodeIndices.push(idx)}else this.calculationNodes=this.nodes,this.calculationNodeIndices=this.nodeIndices},exports._calculateGravitationalForces=function(){for(var dy,distance,node,dx,nodes=this.calculationNodes,gravity=this.constants.physics.centralGravity,i=0;i<this.calculationNodeIndices.length;i++)(node=nodes[this.calculationNodeIndices[i]]).damping=this.constants.physics.damping,"default"==this._sector()&&0!=gravity?(dx=-node.x,dy=-node.y,distance=Math.sqrt(dx*dx+dy*dy),node.fx=dx*(dx=0==distance?0:gravity/distance),node.fy=dy*dx):(node.fx=0,node.fy=0)},exports._calculateSpringForces=function(){var edge,edgeId,dx,edgeLength,dy,distance,edges=this.edges;for(edgeId in edges)edges.hasOwnProperty(edgeId)&&(edge=edges[edgeId]).connected&&this.nodes.hasOwnProperty(edge.toId)&&this.nodes.hasOwnProperty(edge.fromId)&&(edgeLength=edge.physics.springLength,edgeLength+=(edge.to.clusterSize+edge.from.clusterSize-2)*this.constants.clustering.edgeGrowth,dx=edge.from.x-edge.to.x,dy=edge.from.y-edge.to.y,0==(distance=Math.sqrt(dx*dx+dy*dy))&&(distance=.01),edgeLength=dy*(dy=this.constants.physics.springConstant*(edgeLength-distance)/distance),edge.from.fx+=distance=dx*dy,edge.from.fy+=edgeLength,edge.to.fx-=distance,edge.to.fy-=edgeLength)},exports._calculateSpringForcesWithSupport=function(){var edgeId,node1,node2,node3,edge,edges=this.edges;for(edgeId in edges)edges.hasOwnProperty(edgeId)&&(edge=edges[edgeId]).connected&&this.nodes.hasOwnProperty(edge.toId)&&this.nodes.hasOwnProperty(edge.fromId)&&null!=edge.via&&(node1=edge.to,node2=edge.via,node3=edge.from,edge=edge.physics.springLength,edge+=(node1.clusterSize+node3.clusterSize-2)*this.constants.clustering.edgeGrowth,this._calculateSpringForce(node1,node2,.5*edge),this._calculateSpringForce(node2,node3,.5*edge))},exports._calculateSpringForce=function(node1,node2,edgeLength){var dx=node1.x-node2.x,dy=node1.y-node2.y,distance=Math.sqrt(dx*dx+dy*dy),edgeLength=dy*(dy=this.constants.physics.springConstant*(edgeLength-(distance=0==distance?.01:distance))/distance);node1.fx+=distance=dx*dy,node1.fy+=edgeLength,node2.fx-=distance,node2.fy-=edgeLength},exports._loadPhysicsConfiguration=function(){var hierarchicalLayoutDirections,radioButton2,radioButton3,graph_toggleSmooth,graph_repositionNodes,graph_generateOptions;void 0===this.physicsConfiguration&&(this.backupConstants={},util.deepExtend(this.backupConstants,this.constants),hierarchicalLayoutDirections=["LR","RL","UD","DU"],this.physicsConfiguration=document.createElement("div"),this.physicsConfiguration.className="PhysicsConfiguration",this.physicsConfiguration.innerHTML='<table><tr><td><b>Simulation Mode:</b></td></tr><tr><td width="120px"><input type="radio" name="graph_physicsMethod" id="graph_physicsMethod1" value="BH" checked="checked">Barnes Hut</td><td width="120px"><input type="radio" name="graph_physicsMethod" id="graph_physicsMethod2" value="R">Repulsion</td><td width="120px"><input type="radio" name="graph_physicsMethod" id="graph_physicsMethod3" value="H">Hierarchical</td></tr></table><table id="graph_BH_table" style="display:none"><tr><td><b>Barnes Hut</b></td></tr><tr><td width="150px">gravitationalConstant</td><td>0</td><td><input type="range" min="0" max="20000" value="'+-1*this.constants.physics.barnesHut.gravitationalConstant+'" step="25" style="width:300px" id="graph_BH_gc"></td><td  width="50px">-20000</td><td><input value="'+-1*this.constants.physics.barnesHut.gravitationalConstant+'" id="graph_BH_gc_value" style="width:60px"></td></tr><tr><td width="150px">centralGravity</td><td>0</td><td><input type="range" min="0" max="3"  value="'+this.constants.physics.barnesHut.centralGravity+'" step="0.05"  style="width:300px" id="graph_BH_cg"></td><td>3</td><td><input value="'+this.constants.physics.barnesHut.centralGravity+'" id="graph_BH_cg_value" style="width:60px"></td></tr><tr><td width="150px">springLength</td><td>0</td><td><input type="range" min="0" max="500" value="'+this.constants.physics.barnesHut.springLength+'" step="1" style="width:300px" id="graph_BH_sl"></td><td>500</td><td><input value="'+this.constants.physics.barnesHut.springLength+'" id="graph_BH_sl_value" style="width:60px"></td></tr><tr><td width="150px">springConstant</td><td>0</td><td><input type="range" min="0" max="0.5" value="'+this.constants.physics.barnesHut.springConstant+'" step="0.001" style="width:300px" id="graph_BH_sc"></td><td>0.5</td><td><input value="'+this.constants.physics.barnesHut.springConstant+'" id="graph_BH_sc_value" style="width:60px"></td></tr><tr><td width="150px">damping</td><td>0</td><td><input type="range" min="0" max="0.3" value="'+this.constants.physics.barnesHut.damping+'" step="0.005" style="width:300px" id="graph_BH_damp"></td><td>0.3</td><td><input value="'+this.constants.physics.barnesHut.damping+'" id="graph_BH_damp_value" style="width:60px"></td></tr></table><table id="graph_R_table" style="display:none"><tr><td><b>Repulsion</b></td></tr><tr><td width="150px">nodeDistance</td><td>0</td><td><input type="range" min="0" max="300" value="'+this.constants.physics.repulsion.nodeDistance+'" step="1" style="width:300px" id="graph_R_nd"></td><td width="50px">300</td><td><input value="'+this.constants.physics.repulsion.nodeDistance+'" id="graph_R_nd_value" style="width:60px"></td></tr><tr><td width="150px">centralGravity</td><td>0</td><td><input type="range" min="0" max="3"  value="'+this.constants.physics.repulsion.centralGravity+'" step="0.05"  style="width:300px" id="graph_R_cg"></td><td>3</td><td><input value="'+this.constants.physics.repulsion.centralGravity+'" id="graph_R_cg_value" style="width:60px"></td></tr><tr><td width="150px">springLength</td><td>0</td><td><input type="range" min="0" max="500" value="'+this.constants.physics.repulsion.springLength+'" step="1" style="width:300px" id="graph_R_sl"></td><td>500</td><td><input value="'+this.constants.physics.repulsion.springLength+'" id="graph_R_sl_value" style="width:60px"></td></tr><tr><td width="150px">springConstant</td><td>0</td><td><input type="range" min="0" max="0.5" value="'+this.constants.physics.repulsion.springConstant+'" step="0.001" style="width:300px" id="graph_R_sc"></td><td>0.5</td><td><input value="'+this.constants.physics.repulsion.springConstant+'" id="graph_R_sc_value" style="width:60px"></td></tr><tr><td width="150px">damping</td><td>0</td><td><input type="range" min="0" max="0.3" value="'+this.constants.physics.repulsion.damping+'" step="0.005" style="width:300px" id="graph_R_damp"></td><td>0.3</td><td><input value="'+this.constants.physics.repulsion.damping+'" id="graph_R_damp_value" style="width:60px"></td></tr></table><table id="graph_H_table" style="display:none"><tr><td width="150"><b>Hierarchical</b></td></tr><tr><td width="150px">nodeDistance</td><td>0</td><td><input type="range" min="0" max="300" value="'+this.constants.physics.hierarchicalRepulsion.nodeDistance+'" step="1" style="width:300px" id="graph_H_nd"></td><td width="50px">300</td><td><input value="'+this.constants.physics.hierarchicalRepulsion.nodeDistance+'" id="graph_H_nd_value" style="width:60px"></td></tr><tr><td width="150px">centralGravity</td><td>0</td><td><input type="range" min="0" max="3"  value="'+this.constants.physics.hierarchicalRepulsion.centralGravity+'" step="0.05"  style="width:300px" id="graph_H_cg"></td><td>3</td><td><input value="'+this.constants.physics.hierarchicalRepulsion.centralGravity+'" id="graph_H_cg_value" style="width:60px"></td></tr><tr><td width="150px">springLength</td><td>0</td><td><input type="range" min="0" max="500" value="'+this.constants.physics.hierarchicalRepulsion.springLength+'" step="1" style="width:300px" id="graph_H_sl"></td><td>500</td><td><input value="'+this.constants.physics.hierarchicalRepulsion.springLength+'" id="graph_H_sl_value" style="width:60px"></td></tr><tr><td width="150px">springConstant</td><td>0</td><td><input type="range" min="0" max="0.5" value="'+this.constants.physics.hierarchicalRepulsion.springConstant+'" step="0.001" style="width:300px" id="graph_H_sc"></td><td>0.5</td><td><input value="'+this.constants.physics.hierarchicalRepulsion.springConstant+'" id="graph_H_sc_value" style="width:60px"></td></tr><tr><td width="150px">damping</td><td>0</td><td><input type="range" min="0" max="0.3" value="'+this.constants.physics.hierarchicalRepulsion.damping+'" step="0.005" style="width:300px" id="graph_H_damp"></td><td>0.3</td><td><input value="'+this.constants.physics.hierarchicalRepulsion.damping+'" id="graph_H_damp_value" style="width:60px"></td></tr><tr><td width="150px">direction</td><td>1</td><td><input type="range" min="0" max="3" value="'+hierarchicalLayoutDirections.indexOf(this.constants.hierarchicalLayout.direction)+'" step="1" style="width:300px" id="graph_H_direction"></td><td>4</td><td><input value="'+this.constants.hierarchicalLayout.direction+'" id="graph_H_direction_value" style="width:60px"></td></tr><tr><td width="150px">levelSeparation</td><td>1</td><td><input type="range" min="0" max="500" value="'+this.constants.hierarchicalLayout.levelSeparation+'" step="1" style="width:300px" id="graph_H_levsep"></td><td>500</td><td><input value="'+this.constants.hierarchicalLayout.levelSeparation+'" id="graph_H_levsep_value" style="width:60px"></td></tr><tr><td width="150px">nodeSpacing</td><td>1</td><td><input type="range" min="0" max="500" value="'+this.constants.hierarchicalLayout.nodeSpacing+'" step="1" style="width:300px" id="graph_H_nspac"></td><td>500</td><td><input value="'+this.constants.hierarchicalLayout.nodeSpacing+'" id="graph_H_nspac_value" style="width:60px"></td></tr></table><table><tr><td><b>Options:</b></td></tr><tr><td width="180px"><input type="button" id="graph_toggleSmooth" value="Toggle smoothCurves" style="width:150px"></td><td width="180px"><input type="button" id="graph_repositionNodes" value="Reinitialize" style="width:150px"></td><td width="180px"><input type="button" id="graph_generateOptions" value="Generate Options" style="width:150px"></td></tr></table>',this.containerElement.parentElement.insertBefore(this.physicsConfiguration,this.containerElement),this.optionsDiv=document.createElement("div"),this.optionsDiv.style.fontSize="14px",this.optionsDiv.style.fontFamily="verdana",this.containerElement.parentElement.insertBefore(this.optionsDiv,this.containerElement),document.getElementById("graph_BH_gc").onchange=showValueOfRange.bind(this,"graph_BH_gc",-1,"physics_barnesHut_gravitationalConstant"),document.getElementById("graph_BH_cg").onchange=showValueOfRange.bind(this,"graph_BH_cg",1,"physics_centralGravity"),document.getElementById("graph_BH_sc").onchange=showValueOfRange.bind(this,"graph_BH_sc",1,"physics_springConstant"),document.getElementById("graph_BH_sl").onchange=showValueOfRange.bind(this,"graph_BH_sl",1,"physics_springLength"),document.getElementById("graph_BH_damp").onchange=showValueOfRange.bind(this,"graph_BH_damp",1,"physics_damping"),document.getElementById("graph_R_nd").onchange=showValueOfRange.bind(this,"graph_R_nd",1,"physics_repulsion_nodeDistance"),document.getElementById("graph_R_cg").onchange=showValueOfRange.bind(this,"graph_R_cg",1,"physics_centralGravity"),document.getElementById("graph_R_sc").onchange=showValueOfRange.bind(this,"graph_R_sc",1,"physics_springConstant"),document.getElementById("graph_R_sl").onchange=showValueOfRange.bind(this,"graph_R_sl",1,"physics_springLength"),document.getElementById("graph_R_damp").onchange=showValueOfRange.bind(this,"graph_R_damp",1,"physics_damping"),document.getElementById("graph_H_nd").onchange=showValueOfRange.bind(this,"graph_H_nd",1,"physics_hierarchicalRepulsion_nodeDistance"),document.getElementById("graph_H_cg").onchange=showValueOfRange.bind(this,"graph_H_cg",1,"physics_centralGravity"),document.getElementById("graph_H_sc").onchange=showValueOfRange.bind(this,"graph_H_sc",1,"physics_springConstant"),document.getElementById("graph_H_sl").onchange=showValueOfRange.bind(this,"graph_H_sl",1,"physics_springLength"),document.getElementById("graph_H_damp").onchange=showValueOfRange.bind(this,"graph_H_damp",1,"physics_damping"),document.getElementById("graph_H_direction").onchange=showValueOfRange.bind(this,"graph_H_direction",hierarchicalLayoutDirections,"hierarchicalLayout_direction"),document.getElementById("graph_H_levsep").onchange=showValueOfRange.bind(this,"graph_H_levsep",1,"hierarchicalLayout_levelSeparation"),document.getElementById("graph_H_nspac").onchange=showValueOfRange.bind(this,"graph_H_nspac",1,"hierarchicalLayout_nodeSpacing"),hierarchicalLayoutDirections=document.getElementById("graph_physicsMethod1"),radioButton2=document.getElementById("graph_physicsMethod2"),radioButton3=document.getElementById("graph_physicsMethod3"),radioButton2.checked=!0,this.constants.physics.barnesHut.enabled&&(hierarchicalLayoutDirections.checked=!0),this.constants.hierarchicalLayout.enabled&&(radioButton3.checked=!0),graph_toggleSmooth=document.getElementById("graph_toggleSmooth"),graph_repositionNodes=document.getElementById("graph_repositionNodes"),graph_generateOptions=document.getElementById("graph_generateOptions"),graph_toggleSmooth.onclick=function(){this.constants.smoothCurves.enabled=!this.constants.smoothCurves.enabled;var graph_toggleSmooth=document.getElementById("graph_toggleSmooth");1==this.constants.smoothCurves.enabled?graph_toggleSmooth.style.background="#A4FF56":graph_toggleSmooth.style.background="#FF8532";this._configureSmoothCurves(!1)}.bind(this),graph_repositionNodes.onclick=function(){for(var nodeId in this.calculationNodes)this.calculationNodes.hasOwnProperty(nodeId)&&(this.calculationNodes[nodeId].vx=0,this.calculationNodes[nodeId].vy=0,this.calculationNodes[nodeId].fx=0,this.calculationNodes[nodeId].fy=0);1==this.constants.hierarchicalLayout.enabled?(this._setupHierarchicalLayout(),showValueOfRange.call(this,"graph_H_nd",1,"physics_hierarchicalRepulsion_nodeDistance"),showValueOfRange.call(this,"graph_H_cg",1,"physics_centralGravity"),showValueOfRange.call(this,"graph_H_sc",1,"physics_springConstant"),showValueOfRange.call(this,"graph_H_sl",1,"physics_springLength"),showValueOfRange.call(this,"graph_H_damp",1,"physics_damping")):this.repositionNodes();this.moving=!0,this.start()}.bind(this),graph_generateOptions.onclick=function(){var options="No options are required, default values used.",optionsSpecific=[],radioButton1=document.getElementById("graph_physicsMethod1"),radioButton2=document.getElementById("graph_physicsMethod2");if(1==radioButton1.checked){if(this.constants.physics.barnesHut.gravitationalConstant!=this.backupConstants.physics.barnesHut.gravitationalConstant&&optionsSpecific.push("gravitationalConstant: "+this.constants.physics.barnesHut.gravitationalConstant),this.constants.physics.centralGravity!=this.backupConstants.physics.barnesHut.centralGravity&&optionsSpecific.push("centralGravity: "+this.constants.physics.centralGravity),this.constants.physics.springLength!=this.backupConstants.physics.barnesHut.springLength&&optionsSpecific.push("springLength: "+this.constants.physics.springLength),this.constants.physics.springConstant!=this.backupConstants.physics.barnesHut.springConstant&&optionsSpecific.push("springConstant: "+this.constants.physics.springConstant),this.constants.physics.damping!=this.backupConstants.physics.barnesHut.damping&&optionsSpecific.push("damping: "+this.constants.physics.damping),0!=optionsSpecific.length){options="var options = {",options+="physics: {barnesHut: {";for(var i=0;i<optionsSpecific.length;i++)options+=optionsSpecific[i],i<optionsSpecific.length-1&&(options+=", ");options+="}}"}this.constants.smoothCurves.enabled!=this.backupConstants.smoothCurves.enabled&&(0==optionsSpecific.length?options="var options = {":options+=", ",options+="smoothCurves: "+this.constants.smoothCurves.enabled),"No options are required, default values used."!=options&&(options+="};")}else{if(1==radioButton2.checked){if(options="var options = {",options+="physics: {barnesHut: {enabled: false}",this.constants.physics.repulsion.nodeDistance!=this.backupConstants.physics.repulsion.nodeDistance&&optionsSpecific.push("nodeDistance: "+this.constants.physics.repulsion.nodeDistance),this.constants.physics.centralGravity!=this.backupConstants.physics.repulsion.centralGravity&&optionsSpecific.push("centralGravity: "+this.constants.physics.centralGravity),this.constants.physics.springLength!=this.backupConstants.physics.repulsion.springLength&&optionsSpecific.push("springLength: "+this.constants.physics.springLength),this.constants.physics.springConstant!=this.backupConstants.physics.repulsion.springConstant&&optionsSpecific.push("springConstant: "+this.constants.physics.springConstant),this.constants.physics.damping!=this.backupConstants.physics.repulsion.damping&&optionsSpecific.push("damping: "+this.constants.physics.damping),0!=optionsSpecific.length){options+=", repulsion: {";for(i=0;i<optionsSpecific.length;i++)options+=optionsSpecific[i],i<optionsSpecific.length-1&&(options+=", ");options+="}}"}0==optionsSpecific.length&&(options+="}"),this.constants.smoothCurves!=this.backupConstants.smoothCurves&&(options+=", smoothCurves: "+this.constants.smoothCurves)}else{if(options="var options = {",this.constants.physics.hierarchicalRepulsion.nodeDistance!=this.backupConstants.physics.hierarchicalRepulsion.nodeDistance&&optionsSpecific.push("nodeDistance: "+this.constants.physics.hierarchicalRepulsion.nodeDistance),this.constants.physics.centralGravity!=this.backupConstants.physics.hierarchicalRepulsion.centralGravity&&optionsSpecific.push("centralGravity: "+this.constants.physics.centralGravity),this.constants.physics.springLength!=this.backupConstants.physics.hierarchicalRepulsion.springLength&&optionsSpecific.push("springLength: "+this.constants.physics.springLength),this.constants.physics.springConstant!=this.backupConstants.physics.hierarchicalRepulsion.springConstant&&optionsSpecific.push("springConstant: "+this.constants.physics.springConstant),this.constants.physics.damping!=this.backupConstants.physics.hierarchicalRepulsion.damping&&optionsSpecific.push("damping: "+this.constants.physics.damping),0!=optionsSpecific.length){options+="physics: {hierarchicalRepulsion: {";for(i=0;i<optionsSpecific.length;i++)options+=optionsSpecific[i],i<optionsSpecific.length-1&&(options+=", ");options+="}},"}if(options+="hierarchicalLayout: {",optionsSpecific=[],this.constants.hierarchicalLayout.direction!=this.backupConstants.hierarchicalLayout.direction&&optionsSpecific.push("direction: "+this.constants.hierarchicalLayout.direction),Math.abs(this.constants.hierarchicalLayout.levelSeparation)!=this.backupConstants.hierarchicalLayout.levelSeparation&&optionsSpecific.push("levelSeparation: "+this.constants.hierarchicalLayout.levelSeparation),this.constants.hierarchicalLayout.nodeSpacing!=this.backupConstants.hierarchicalLayout.nodeSpacing&&optionsSpecific.push("nodeSpacing: "+this.constants.hierarchicalLayout.nodeSpacing),0!=optionsSpecific.length){for(i=0;i<optionsSpecific.length;i++)options+=optionsSpecific[i],i<optionsSpecific.length-1&&(options+=", ");options+="}"}else options+="enabled:true}"}options+="};"}this.optionsDiv.innerHTML=options}.bind(this),1==this.constants.smoothCurves&&0==this.constants.dynamicSmoothCurves?graph_toggleSmooth.style.background="#A4FF56":graph_toggleSmooth.style.background="#FF8532",switchConfigurations.apply(this),hierarchicalLayoutDirections.onchange=switchConfigurations.bind(this),radioButton2.onchange=switchConfigurations.bind(this),radioButton3.onchange=switchConfigurations.bind(this))},exports._overWriteGraphConstants=function(constantsVariableName,value){constantsVariableName=constantsVariableName.split("_");1==constantsVariableName.length?this.constants[constantsVariableName[0]]=value:2==constantsVariableName.length?this.constants[constantsVariableName[0]][constantsVariableName[1]]=value:3==constantsVariableName.length&&(this.constants[constantsVariableName[0]][constantsVariableName[1]][constantsVariableName[2]]=value)}},function(module,exports,__webpack_require__){function webpackContext(req){throw new Error("Cannot find module '"+req+"'.")}(webpackContext.resolve=webpackContext).keys=function(){return[]},module.exports=webpackContext},function(module,exports,__webpack_require__){module.exports=function(module){return module.webpackPolyfill||(module.deprecate=function(){},module.paths=[],module.children=[],module.webpackPolyfill=1),module}},function(module,exports,__webpack_require__){exports._calculateNodeForces=function(){for(var node1,j,nodes=this.calculationNodes,nodeIndices=this.calculationNodeIndices,nodeDistance=this.constants.physics.repulsion.nodeDistance,i=0;i<nodeIndices.length-1;i++)for(node1=nodes[nodeIndices[i]],j=i+1;j<nodeIndices.length;j++){var distance,minimumDistance,node2=nodes[nodeIndices[j]],combinedClusterSize=node1.clusterSize+node2.clusterSize-2,dx=node2.x-node1.x,dy=node2.y-node1.y;(distance=Math.sqrt(dx*dx+dy*dy))<2*(minimumDistance=0==combinedClusterSize?nodeDistance:nodeDistance*(1+combinedClusterSize*this.constants.clustering.distanceAmplification))&&(minimumDistance=dy*(dy=(dy=distance<.5*minimumDistance?1:-2/3/minimumDistance*distance+4/3)*(0==combinedClusterSize?1:1+combinedClusterSize*this.constants.clustering.forceAmplification)/distance),node1.fx-=combinedClusterSize=dx*dy,node1.fy-=minimumDistance,node2.fx+=combinedClusterSize,node2.fy+=minimumDistance)}}},function(module,exports,__webpack_require__){exports._calculateNodeForces=function(){for(var node1,j,nodes=this.calculationNodes,nodeIndices=this.calculationNodeIndices,nodeDistance=this.constants.physics.hierarchicalRepulsion.nodeDistance,i=0;i<nodeIndices.length-1;i++)for(node1=nodes[nodeIndices[i]],j=i+1;j<nodeIndices.length;j++){var dx,dy,distance,repulsingForce,node2=nodes[nodeIndices[j]];node1.level==node2.level&&(dx=node2.x-node1.x,dy=node2.y-node1.y,repulsingForce=(distance=Math.sqrt(dx*dx+dy*dy))<nodeDistance?-Math.pow(.05*distance,2)+Math.pow(.05*nodeDistance,2):0,0==distance?distance=.01:repulsingForce/=distance,distance=dy*repulsingForce,node1.fx-=dy=dx*repulsingForce,node1.fy-=distance,node2.fx+=dy,node2.fy+=distance)}},exports._calculateHierarchicalSpringForces=function(){for(var edgeId,dy,dx,distance,edgeLength,edge,edges=this.edges,nodes=this.calculationNodes,nodeIndices=this.calculationNodeIndices,i=0;i<nodeIndices.length;i++){var node1=nodes[nodeIndices[i]];node1.springFx=0,node1.springFy=0}for(edgeId in edges)edges.hasOwnProperty(edgeId)&&(edge=edges[edgeId]).connected&&this.nodes.hasOwnProperty(edge.toId)&&this.nodes.hasOwnProperty(edge.fromId)&&(edgeLength=edge.physics.springLength,edgeLength+=(edge.to.clusterSize+edge.from.clusterSize-2)*this.constants.clustering.edgeGrowth,dx=edge.from.x-edge.to.x,dy=edge.from.y-edge.to.y,0==(distance=Math.sqrt(dx*dx+dy*dy))&&(distance=.01),dx=dx*(springForce=this.constants.physics.springConstant*(edgeLength-distance)/distance),edgeLength=dy*springForce,edge.to.level!=edge.from.level?(edge.to.springFx-=dx,edge.to.springFy-=edgeLength,edge.from.springFx+=dx,edge.from.springFy+=edgeLength):(edge.to.fx-=.5*dx,edge.to.fy-=.5*edgeLength,edge.from.fx+=.5*dx,edge.from.fy+=.5*edgeLength));for(var springForce=1,i=0;i<nodeIndices.length;i++){var node=nodes[nodeIndices[i]],springFx=Math.min(springForce,Math.max(-springForce,node.springFx)),springFy=Math.min(springForce,Math.max(-springForce,node.springFy));node.fx+=springFx,node.fy+=springFy}var totalFx=0,totalFy=0;for(i=0;i<nodeIndices.length;i++)totalFx+=(node=nodes[nodeIndices[i]]).fx,totalFy+=node.fy;var correctionFx=totalFx/nodeIndices.length,correctionFy=totalFy/nodeIndices.length;for(i=0;i<nodeIndices.length;i++)(node=nodes[nodeIndices[i]]).fx-=correctionFx,node.fy-=correctionFy}},function(module,exports,__webpack_require__){exports._calculateNodeForces=function(){if(0!=this.constants.physics.barnesHut.gravitationalConstant)for(var node,nodes=this.calculationNodes,nodeIndices=this.calculationNodeIndices,nodeCount=nodeIndices.length,barnesHutTree=(this._formBarnesHutTree(nodes,nodeIndices),this.barnesHutTree),i=0;i<nodeCount;i++)0<(node=nodes[nodeIndices[i]]).options.mass&&(this._getForceContribution(barnesHutTree.root.children.NW,node),this._getForceContribution(barnesHutTree.root.children.NE,node),this._getForceContribution(barnesHutTree.root.children.SW,node),this._getForceContribution(barnesHutTree.root.children.SE,node))},exports._getForceContribution=function(parentBranch,node){var gravityForce,fx,fy,dx,dy,distance;0<parentBranch.childrenCount&&(dx=parentBranch.centerOfMass.x-node.x,dy=parentBranch.centerOfMass.y-node.y,(distance=Math.sqrt(dx*dx+dy*dy))*parentBranch.calcSize>this.constants.physics.barnesHut.theta?(fx=(dx=0==distance?distance=.1*Math.random():dx)*(gravityForce=this.constants.physics.barnesHut.gravitationalConstant*parentBranch.mass*node.options.mass/(distance*distance*distance)),fy=dy*gravityForce,node.fx+=fx,node.fy+=fy):4==parentBranch.childrenCount?(this._getForceContribution(parentBranch.children.NW,node),this._getForceContribution(parentBranch.children.NE,node),this._getForceContribution(parentBranch.children.SW,node),this._getForceContribution(parentBranch.children.SE,node)):parentBranch.children.data.id!=node.id&&(fx=(dx=0==distance?distance=.5*Math.random():dx)*(gravityForce=this.constants.physics.barnesHut.gravitationalConstant*parentBranch.mass*node.options.mass/(distance*distance*distance)),fy=dy*gravityForce,node.fx+=fx,node.fy+=fy))},exports._formBarnesHutTree=function(nodes,nodeIndices){for(var node,nodeCount=nodeIndices.length,minX=Number.MAX_VALUE,minY=Number.MAX_VALUE,maxX=-Number.MAX_VALUE,maxY=-Number.MAX_VALUE,i=0;i<nodeCount;i++){var x=nodes[nodeIndices[i]].x,y=nodes[nodeIndices[i]].y;0<nodes[nodeIndices[i]].options.mass&&(x<minX&&(minX=x),maxX<x&&(maxX=x),y<minY&&(minY=y),maxY<y)&&(maxY=y)}var sizeDiff=Math.abs(maxX-minX)-Math.abs(maxY-minY),sizeDiff=(0<sizeDiff?(minY-=.5*sizeDiff,maxY+=.5*sizeDiff):(minX+=.5*sizeDiff,maxX-=.5*sizeDiff),Math.max(1e-5,Math.abs(maxX-minX))),halfRootSize=.5*sizeDiff,centerX=.5*(minX+maxX),centerY=.5*(minY+maxY),barnesHutTree={root:{centerOfMass:{x:0,y:0},mass:0,range:{minX:centerX-halfRootSize,maxX:centerX+halfRootSize,minY:centerY-halfRootSize,maxY:centerY+halfRootSize},size:sizeDiff,calcSize:1/sizeDiff,children:{data:null},maxWidth:0,level:0,childrenCount:4}};for(this._splitBranch(barnesHutTree.root),i=0;i<nodeCount;i++)0<(node=nodes[nodeIndices[i]]).options.mass&&this._placeInTree(barnesHutTree.root,node);this.barnesHutTree=barnesHutTree},exports._updateBranchMass=function(parentBranch,node){var totalMass=parentBranch.mass+node.options.mass,totalMassInv=1/totalMass,totalMassInv=(parentBranch.centerOfMass.x=parentBranch.centerOfMass.x*parentBranch.mass+node.x*node.options.mass,parentBranch.centerOfMass.x*=totalMassInv,parentBranch.centerOfMass.y=parentBranch.centerOfMass.y*parentBranch.mass+node.y*node.options.mass,parentBranch.centerOfMass.y*=totalMassInv,parentBranch.mass=totalMass,Math.max(Math.max(node.height,node.radius),node.width));parentBranch.maxWidth=parentBranch.maxWidth<totalMassInv?totalMassInv:parentBranch.maxWidth},exports._placeInTree=function(parentBranch,node,skipMassUpdate){1==skipMassUpdate&&void 0!==skipMassUpdate||this._updateBranchMass(parentBranch,node),parentBranch.children.NW.range.maxX>node.x?parentBranch.children.NW.range.maxY>node.y?this._placeInRegion(parentBranch,node,"NW"):this._placeInRegion(parentBranch,node,"SW"):parentBranch.children.NW.range.maxY>node.y?this._placeInRegion(parentBranch,node,"NE"):this._placeInRegion(parentBranch,node,"SE")},exports._placeInRegion=function(parentBranch,node,region){switch(parentBranch.children[region].childrenCount){case 0:parentBranch.children[region].children.data=node,parentBranch.children[region].childrenCount=1,this._updateBranchMass(parentBranch.children[region],node);break;case 1:parentBranch.children[region].children.data.x==node.x&&parentBranch.children[region].children.data.y==node.y?(node.x+=Math.random(),node.y+=Math.random()):(this._splitBranch(parentBranch.children[region]),this._placeInTree(parentBranch.children[region],node));break;case 4:this._placeInTree(parentBranch.children[region],node)}},exports._splitBranch=function(parentBranch){var containedNode=null;1==parentBranch.childrenCount&&(containedNode=parentBranch.children.data,parentBranch.mass=0,parentBranch.centerOfMass.x=0,parentBranch.centerOfMass.y=0),parentBranch.childrenCount=4,parentBranch.children.data=null,this._insertRegion(parentBranch,"NW"),this._insertRegion(parentBranch,"NE"),this._insertRegion(parentBranch,"SW"),this._insertRegion(parentBranch,"SE"),null!=containedNode&&this._placeInTree(parentBranch,containedNode)},exports._insertRegion=function(parentBranch,region){var minX,maxX,minY,maxY,childSize=.5*parentBranch.size;switch(region){case"NW":minX=parentBranch.range.minX,maxX=parentBranch.range.minX+childSize,minY=parentBranch.range.minY,maxY=parentBranch.range.minY+childSize;break;case"NE":minX=parentBranch.range.minX+childSize,maxX=parentBranch.range.maxX,minY=parentBranch.range.minY,maxY=parentBranch.range.minY+childSize;break;case"SW":minX=parentBranch.range.minX,maxX=parentBranch.range.minX+childSize,minY=parentBranch.range.minY+childSize,maxY=parentBranch.range.maxY;break;case"SE":minX=parentBranch.range.minX+childSize,maxX=parentBranch.range.maxX,minY=parentBranch.range.minY+childSize,maxY=parentBranch.range.maxY}parentBranch.children[region]={centerOfMass:{x:0,y:0},mass:0,range:{minX:minX,maxX:maxX,minY:minY,maxY:maxY},size:.5*parentBranch.size,calcSize:2*parentBranch.calcSize,children:{data:null},maxWidth:0,level:parentBranch.level+1,childrenCount:0}},exports._drawTree=function(ctx,color){void 0!==this.barnesHutTree&&(ctx.lineWidth=1,this._drawBranch(this.barnesHutTree.root,ctx,color))},exports._drawBranch=function(branch,ctx,color){void 0===color&&(color="#FF0000"),4==branch.childrenCount&&(this._drawBranch(branch.children.NW,ctx),this._drawBranch(branch.children.NE,ctx),this._drawBranch(branch.children.SE,ctx),this._drawBranch(branch.children.SW,ctx)),ctx.strokeStyle=color,ctx.beginPath(),ctx.moveTo(branch.range.minX,branch.range.minY),ctx.lineTo(branch.range.maxX,branch.range.minY),ctx.stroke(),ctx.beginPath(),ctx.moveTo(branch.range.maxX,branch.range.minY),ctx.lineTo(branch.range.maxX,branch.range.maxY),ctx.stroke(),ctx.beginPath(),ctx.moveTo(branch.range.maxX,branch.range.maxY),ctx.lineTo(branch.range.minX,branch.range.maxY),ctx.stroke(),ctx.beginPath(),ctx.moveTo(branch.range.minX,branch.range.maxY),ctx.lineTo(branch.range.minX,branch.range.minY),ctx.stroke()}}])});