function Slider(oElement,oInput,sOrientation){var oThis;oElement&&(this._orientation=sOrientation||"horizontal",this._range=new Range,this._range.setExtent(0),this._blockIncrement=10,this._unitIncrement=1,this._timer=new Timer(100),Slider.isSupported&&oElement&&(this.document=oElement.ownerDocument||oElement.document,this.element=oElement,(this.element.slider=this).element.unselectable="on",this.element.className=this._orientation+" "+this.classNameTag+" "+this.element.className,this.line=this.document.createElement("DIV"),this.line.className="line",this.line.unselectable="on",this.line.appendChild(this.document.createElement("DIV")),this.element.appendChild(this.line),this.handle=this.document.createElement("DIV"),this.handle.className="handle",this.handle.unselectable="on",this.handle.appendChild(this.document.createElement("DIV")),this.handle.firstChild.appendChild(this.document.createTextNode(String.fromCharCode(160))),this.element.appendChild(this.handle)),this.input=oInput,(oThis=this)._range.onchange=function(){oThis.recalculate(),"function"==typeof oThis.onchange&&oThis.onchange()},Slider.isSupported&&oElement?(this.element.onfocus=Slider.eventHandlers.onfocus,this.element.onblur=Slider.eventHandlers.onblur,this.element.onmousedown=Slider.eventHandlers.onmousedown,this.element.onmouseover=Slider.eventHandlers.onmouseover,this.element.onmouseout=Slider.eventHandlers.onmouseout,this.element.onkeydown=Slider.eventHandlers.onkeydown,this.element.onkeypress=Slider.eventHandlers.onkeypress,this.element.onmousewheel=Slider.eventHandlers.onmousewheel,this.handle.onselectstart=this.element.onselectstart=function(){return!1},this._timer.ontimer=function(){oThis.ontimer()},window.setTimeout(function(){oThis.recalculate()},1)):this.input.onchange=function(e){oThis.setValue(oThis.input.value)})}Slider.isSupported=void 0!==document.createElement&&void 0!==document.documentElement&&"number"==typeof document.documentElement.offsetWidth,Slider.eventHandlers={getEvent:function(e,el){if(!(e=e||(el?el.document.parentWindow:window).event).srcElement){for(el=e.target;null!=el&&1!=el.nodeType;)el=el.parentNode;e.srcElement=el}return void 0===e.offsetX&&(e.offsetX=e.layerX,e.offsetY=e.layerY),e},getDocument:function(e){return e.target?e.target.ownerDocument:e.srcElement.document},getSlider:function(e){for(var el=e.target||e.srcElement;null!=el&&null==el.slider;)el=el.parentNode;return el?el.slider:null},getLine:function(e){for(var el=e.target||e.srcElement;null!=el&&"line"!=el.className;)el=el.parentNode;return el},getHandle:function(e){for(var el=e.target||e.srcElement,re=/handle/;null!=el&&!re.test(el.className);)el=el.parentNode;return el},onfocus:function(e){var s=this.slider;s._focused=!0,s.handle.className="handle hover"},onblur:function(e){var s=this.slider;s._focused=!1,s.handle.className="handle"},onmouseover:function(e){e=Slider.eventHandlers.getEvent(e,this);var s=this.slider;e.srcElement==s.handle&&(s.handle.className="handle hover")},onmouseout:function(e){e=Slider.eventHandlers.getEvent(e,this);var s=this.slider;e.srcElement!=s.handle||s._focused||(s.handle.className="handle")},onmousedown:function(e){e=Slider.eventHandlers.getEvent(e,this);var s=this.slider,doc=(s.element.focus&&s.element.focus(),(Slider._currentInstance=s).document);doc.addEventListener?(doc.addEventListener("mousemove",Slider.eventHandlers.onmousemove,!0),doc.addEventListener("mouseup",Slider.eventHandlers.onmouseup,!0)):doc.attachEvent&&(doc.attachEvent("onmousemove",Slider.eventHandlers.onmousemove),doc.attachEvent("onmouseup",Slider.eventHandlers.onmouseup),doc.attachEvent("onlosecapture",Slider.eventHandlers.onmouseup),s.element.setCapture()),Slider.eventHandlers.getHandle(e)?Slider._sliderDragData={screenX:e.screenX,screenY:e.screenY,dx:e.screenX-s.handle.offsetLeft,dy:e.screenY-s.handle.offsetTop,startValue:s.getValue(),slider:s}:(doc=Slider.eventHandlers.getLine(e),s._mouseX=e.offsetX+(doc?s.line.offsetLeft:0),s._mouseY=e.offsetY+(doc?s.line.offsetTop:0),s._increasing=null,s.ontimer())},onmousemove:function(e){var boundSize,size,pos,s,reset;if(e=Slider.eventHandlers.getEvent(e,this),Slider._sliderDragData)return boundSize=(s=Slider._sliderDragData.slider).getMaximum()-s.getMinimum(),reset="horizontal"==s._orientation?(size=s.element.offsetWidth-s.handle.offsetWidth,pos=e.screenX-Slider._sliderDragData.dx,100<Math.abs(e.screenY-Slider._sliderDragData.screenY)):(size=s.element.offsetHeight-s.handle.offsetHeight,pos=s.element.offsetHeight-s.handle.offsetHeight-(e.screenY-Slider._sliderDragData.dy),100<Math.abs(e.screenX-Slider._sliderDragData.screenX)),s.setValue(reset?Slider._sliderDragData.startValue:s.getMinimum()+boundSize*pos/size),!1;null!=(s=Slider._currentInstance)&&(reset=Slider.eventHandlers.getLine(e),s._mouseX=e.offsetX+(reset?s.line.offsetLeft:0),s._mouseY=e.offsetY+(reset?s.line.offsetTop:0))},onmouseup:function(e){e=Slider.eventHandlers.getEvent(e,this);var e=Slider._currentInstance,doc=e.document;doc.removeEventListener?(doc.removeEventListener("mousemove",Slider.eventHandlers.onmousemove,!0),doc.removeEventListener("mouseup",Slider.eventHandlers.onmouseup,!0)):doc.detachEvent&&(doc.detachEvent("onmousemove",Slider.eventHandlers.onmousemove),doc.detachEvent("onmouseup",Slider.eventHandlers.onmouseup),doc.detachEvent("onlosecapture",Slider.eventHandlers.onmouseup),e.element.releaseCapture()),Slider._sliderDragData?Slider._sliderDragData=null:(e._timer.stop(),e._increasing=null),Slider._currentInstance=null},onkeydown:function(e){e=Slider.eventHandlers.getEvent(e,this);var s=this.slider,e=e.keyCode;switch(e){case 33:s.setValue(s.getValue()+s.getBlockIncrement());break;case 34:s.setValue(s.getValue()-s.getBlockIncrement());break;case 35:s.setValue("horizontal"==s.getOrientation()?s.getMaximum():s.getMinimum());break;case 36:s.setValue("horizontal"==s.getOrientation()?s.getMinimum():s.getMaximum());break;case 38:case 39:s.setValue(s.getValue()+s.getUnitIncrement());break;case 37:case 40:s.setValue(s.getValue()-s.getUnitIncrement())}if(33<=e&&e<=40)return!1},onkeypress:function(e){e=(e=Slider.eventHandlers.getEvent(e,this)).keyCode;if(33<=e&&e<=40)return!1},onmousewheel:function(e){e=Slider.eventHandlers.getEvent(e,this);var s=this.slider;if(s._focused)return s.setValue(s.getValue()+e.wheelDelta/120*s.getUnitIncrement()),!1}},Slider.prototype.classNameTag="dynamic-slider-control",Slider.prototype.setValue=function(v){this._range.setValue(v),this.input.value=this.getValue()},Slider.prototype.getValue=function(){return this._range.getValue()},Slider.prototype.setMinimum=function(v){this._range.setMinimum(v),this.input.value=this.getValue()},Slider.prototype.getMinimum=function(){return this._range.getMinimum()},Slider.prototype.setMaximum=function(v){this._range.setMaximum(v),this.input.value=this.getValue()},Slider.prototype.getMaximum=function(){return this._range.getMaximum()},Slider.prototype.setUnitIncrement=function(v){this._unitIncrement=v},Slider.prototype.getUnitIncrement=function(){return this._unitIncrement},Slider.prototype.setBlockIncrement=function(v){this._blockIncrement=v},Slider.prototype.getBlockIncrement=function(){return this._blockIncrement},Slider.prototype.getOrientation=function(){return this._orientation},Slider.prototype.setOrientation=function(sOrientation){sOrientation!=this._orientation&&(Slider.isSupported&&this.element&&(this.element.className=this.element.className.replace(this._orientation,sOrientation)),this._orientation=sOrientation,this.recalculate())},Slider.prototype.recalculate=function(){var w,h,hw,hh,lw,lh;Slider.isSupported&&this.element&&(w=this.element.offsetWidth,h=this.element.offsetHeight,hw=this.handle.offsetWidth,hh=this.handle.offsetHeight,lw=this.line.offsetWidth,lh=this.line.offsetHeight,"horizontal"==this._orientation?(this.handle.style.left=(w-hw)*(this.getValue()-this.getMinimum())/(this.getMaximum()-this.getMinimum())+"px",this.handle.style.top=(h-hh)/2+"px",this.line.style.top=(h-lh)/2+"px",this.line.style.left=hw/2+"px",this.line.style.width=Math.max(0,w-hw-2)+"px",this.line.firstChild.style.width=Math.max(0,w-hw-4)+"px"):(this.handle.style.left=(w-hw)/2+"px",this.handle.style.top=h-hh-(h-hh)*(this.getValue()-this.getMinimum())/(this.getMaximum()-this.getMinimum())+"px",this.line.style.left=(w-lw)/2+"px",this.line.style.top=hh/2+"px",this.line.style.height=Math.max(0,h-hh-2)+"px",this.line.firstChild.style.height=Math.max(0,h-hh-4)+"px"))},Slider.prototype.ontimer=function(){var hw=this.handle.offsetWidth,hh=this.handle.offsetHeight,hl=this.handle.offsetLeft,ht=this.handle.offsetTop;"horizontal"==this._orientation?this._mouseX>hl+hw&&(null==this._increasing||this._increasing)?(this.setValue(this.getValue()+this.getBlockIncrement()),this._increasing=!0):this._mouseX<hl&&(null==this._increasing||!this._increasing)&&(this.setValue(this.getValue()-this.getBlockIncrement()),this._increasing=!1):this._mouseY>ht+hh&&(null==this._increasing||!this._increasing)?(this.setValue(this.getValue()-this.getBlockIncrement()),this._increasing=!1):this._mouseY<ht&&(null==this._increasing||this._increasing)&&(this.setValue(this.getValue()+this.getBlockIncrement()),this._increasing=!0),this._timer.start()};